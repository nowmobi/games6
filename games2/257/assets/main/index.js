System.register("chunks:///_virtual/AdsEvents.ts", ["cc"], function (s) {
  "use strict";
  var d;
  return {
    setters: [
      function (s) {
        d = s.cclegacy;
      },
    ],
    execute: function () {
      var e;
      s("AdsEvents", void 0),
        d._RF.push({}, "c703cP/uGhDvZ1pTA7fJayh", "AdsEvents", void 0),
        (function (s) {
          (s[(s.AdsEvents_ShowAd = 0)] = "AdsEvents_ShowAd"),
            (s[(s.AdsEvents_LoadAd = 1)] = "AdsEvents_LoadAd"),
            (s[(s.AdsEvents_AdLoaded = 2)] = "AdsEvents_AdLoaded"),
            (s[(s.AdsEvents_AdShowed = 3)] = "AdsEvents_AdShowed"),
            (s[(s.AdsEvents_AdFailedToShow = 4)] = "AdsEvents_AdFailedToShow");
        })(e || (e = s("AdsEvents", {}))),
        d._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/AdsUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./GameEvents.ts",
    "./RewardedAdOportunity.ts",
    "./RewardedAdsBonusEvents.ts",
  ],
  function (t) {
    "use strict";
    var e, n, i, s, a, o, d, r, u, c, l, A, h, p;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (s = t.assertThisInitialized);
        },
        function (t) {
          (a = t.cclegacy),
            (o = t._decorator),
            (d = t.Button),
            (r = t.Node),
            (u = t.EventHandler),
            (c = t.Component);
        },
        function (t) {
          l = t.projectEvent;
        },
        function (t) {
          A = t.GameEvents;
        },
        function (t) {
          h = t.RewardedAdOportunity;
        },
        function (t) {
          p = t.RewardedAdsBonusEvents;
        },
      ],
      execute: function () {
        var f, v, _, B, y, b, m;
        a._RF.push({}, "45356D3D1dGypgAffMAEUkM", "AdsUI", void 0);
        var R = o.ccclass,
          S = o.property;
        t(
          "AdsUI",
          ((f = R("AdsUI")),
          (v = S({ visible: !0, type: d })),
          (_ = S({ visible: !0, type: r })),
          f(
            ((b = e(
              (y = (function (t) {
                function e() {
                  for (
                    var e, n = arguments.length, a = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (e = t.call.apply(t, [this].concat(a)) || this),
                    i(e, "_adsButton", b, s(e)),
                    i(e, "_openAdsPanelButton", m, s(e)),
                    (e._isActive = !1),
                    (e._hadAdOnStart = !1),
                    e
                  );
                }
                n(e, t);
                var a = e.prototype;
                return (
                  (a.onLoad = function () {
                    var t = new u();
                    (t.component = "AdsUI"),
                      (t.handler = "adsButtonClicked"),
                      (t.target = this.node),
                      this._adsButton.clickEvents.push(t),
                      h.isAdReady
                        ? (this._hadAdOnStart = !0)
                        : (this._hadAdOnStart = !1),
                      this.disableAdButton();
                  }),
                  (a.onEnable = function () {
                    l.once(A[A.Game_Started], this.gameStarted, this);
                  }),
                  (a.update = function (t) {
                    this._hadAdOnStart ||
                      this._isActive ||
                      !h.isAdReady ||
                      ((this._hadAdOnStart = !0), this.enableAdButton());
                  }),
                  (a.gameStarted = function () {
                    h.isAdReady
                      ? (this.enableAdButton(), (this._hadAdOnStart = !0))
                      : (this.disableAdButton(), (this._hadAdOnStart = !1));
                  }),
                  (a.enableAdButton = function () {
                    (this._openAdsPanelButton.active = !0),
                      (this._isActive = !0);
                  }),
                  (a.disableAdButton = function () {
                    (this._openAdsPanelButton.active = !1),
                      (this._isActive = !1);
                  }),
                  (a.adsButtonClicked = function () {
                    h.isAdReady &&
                      (l.emit(p[p.RequestBonus]), this.disableAdButton());
                  }),
                  e
                );
              })(c)).prototype,
              "_adsButton",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (m = e(y.prototype, "_openAdsPanelButton", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (B = y))
          ) || B)
        );
        a._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/AnimationEnums.ts", ["cc"], function (e) {
  "use strict";
  var n;
  return {
    setters: [
      function (e) {
        n = e.cclegacy;
      },
    ],
    execute: function () {
      var i;
      e("AnimationVariableType", void 0),
        n._RF.push({}, "204fa/ah2NNe4Que8jUVKma", "AnimationEnums", void 0),
        (function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.Trigger = 1)] = "Trigger"),
            (e[(e.Boolean = 2)] = "Boolean"),
            (e[(e.Number = 3)] = "Number");
        })(i || (i = e("AnimationVariableType", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/AnimationEventRaiser.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var i, n, e, r, o, a, s, c, u;
    return {
      setters: [
        function (t) {
          (i = t.applyDecoratedDescriptor),
            (n = t.createClass),
            (e = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (o = t.assertThisInitialized);
        },
        function (t) {
          (a = t.cclegacy),
            (s = t._decorator),
            (c = t.EventHandler),
            (u = t.Component);
        },
      ],
      execute: function () {
        var l, p, f, v, y, b, h, m, _, E, d, g;
        a._RF.push(
          {},
          "53d3fTbnFxPOLwJ9KE2Kruy",
          "AnimationEventRaiser",
          void 0
        );
        var A = s.ccclass,
          k = s.property,
          R =
            ((l = A("Data")),
            (p = k({ visible: !0 })),
            (f = k({ type: c, visible: !0 })),
            l(
              ((b = i(
                (y = (function () {
                  function t() {
                    r(this, "_key", b, this), r(this, "_actions", h, this);
                  }
                  return (
                    (t.prototype.callActions = function () {
                      c.emitEvents(this._actions);
                    }),
                    n(t, [
                      {
                        key: "key",
                        get: function () {
                          return this._key;
                        },
                      },
                    ]),
                    t
                  );
                })()).prototype,
                "_key",
                [p],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                }
              )),
              (h = i(y.prototype, "_actions", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              })),
              (v = y))
            ) || v);
        t(
          "AnimationEventRaiser",
          ((m = A("AnimationEventRaiser")),
          (_ = k({ type: R, visible: !0 })),
          m(
            ((g = i(
              (d = (function (t) {
                function i() {
                  for (
                    var i, n = arguments.length, e = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    e[a] = arguments[a];
                  return (
                    (i = t.call.apply(t, [this].concat(e)) || this),
                    r(i, "_animationEvents", g, o(i)),
                    i
                  );
                }
                return (
                  e(i, t),
                  (i.prototype.raiseAnimationEvent = function (t) {
                    var i = this._animationEvents.find(function (i) {
                      return i.key === t;
                    });
                    void 0 !== i && i.callActions();
                  }),
                  i
                );
              })(u)).prototype,
              "_animationEvents",
              [_],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (E = d))
          ) || E)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AnimationGraphHelper.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./AnimationEnums.ts",
  ],
  function (e) {
    "use strict";
    var t, i, n, a, r, s, o, l, u, m, h, c, p, f, g;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (r = e.createForOfIteratorHelperLoose),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (l = e._decorator),
            (u = e.animation),
            (m = e.Node),
            (h = e.Component);
        },
        function (e) {
          (c = e.logger), (p = e.LogCategory), (f = e.LogType);
        },
        function (e) {
          g = e.AnimationVariableType;
        },
      ],
      execute: function () {
        var _, d, b, y, A, v, N, T;
        o._RF.push(
          {},
          "2022ebMdchE2pNL1SpqTm8g",
          "AnimationGraphHelper",
          void 0
        );
        var C = l.ccclass,
          Q = l.property,
          F = l.executionOrder;
        e(
          "AnimationGraphHelper",
          ((_ = C("AnimationGraphHelper")),
          (d = F(-1)),
          (b = Q({ type: u.AnimationController, visible: !0 })),
          (y = Q({ visible: !0 })),
          _(
            (A =
              d(
                ((N = t(
                  (v = (function (e) {
                    function t() {
                      for (
                        var t, i = arguments.length, r = new Array(i), s = 0;
                        s < i;
                        s++
                      )
                        r[s] = arguments[s];
                      return (
                        (t = e.call.apply(e, [this].concat(r)) || this),
                        n(t, "_animator", N, a(t)),
                        n(t, "_debug", T, a(t)),
                        (t._lastClipName = null),
                        (t._animQueue = []),
                        t
                      );
                    }
                    i(t, e);
                    var o = t.prototype;
                    return (
                      (o.start = function () {
                        this.isAnimatorReady();
                      }),
                      (o.update = function () {
                        if (
                          this._animator &&
                          (this.isAnimatorReady() &&
                            this._animQueue.length > 0 &&
                            (this._animQueue[0].call(),
                            this._animQueue.splice(0, 1)),
                          this._debug)
                        ) {
                          for (
                            var e,
                              t = this._animator.getCurrentClipStatuses(0),
                              i = !1,
                              n = this.node.name + " - Animation Clip: ",
                              a = r(t);
                            !(e = a()).done;

                          ) {
                            var s = e.value;
                            this._lastClipName !== s.clip.name &&
                              ((n += s.clip.name),
                              (this._lastClipName = s.clip.name),
                              (i = !0));
                          }
                          for (
                            var o, l = this._animator.getVariables(), u = r(l);
                            !(o = u()).done;

                          ) {
                            var m = o.value,
                              h = m[0];
                            m[1];
                            n += "\n" + h + " = " + this._animator.getValue(h);
                          }
                          i && c.log(n);
                        }
                      }),
                      (o.onDestroy = function () {
                        this.unscheduleAllCallbacks();
                      }),
                      (o.setTrigger = function (e, t, i) {
                        var n = this;
                        if (this.isAnimatorReady())
                          if ("string" != typeof e) this.setTrigger(t, null, i);
                          else if ("string" == typeof e) {
                            var a,
                              r = e.split(","),
                              s =
                                null != (a = Number.parseFloat(r[1]))
                                  ? a
                                  : this._frameTime;
                            this._debug &&
                              c.log("Animation clip: Set (trigger) " + r[0]),
                              !0 !== i && this._animQueue.length > 0
                                ? this._animQueue.push({
                                    call: function () {
                                      return n.setTrigger(e, t, !0);
                                    },
                                  })
                                : this.scheduleOnce(
                                    function () {
                                      n._animator.setValue(r[0], !0);
                                    },
                                    Number.isNaN(s) ? this._frameTime : s
                                  );
                          } else
                            c.log(
                              "Animation clip: Couldn't parse trigger data {" +
                                typeof e +
                                "}! at " +
                                this.node.name
                            );
                        else
                          this._animQueue.push({
                            call: function () {
                              return n.setTrigger(e, t, !0);
                            },
                          });
                      }),
                      (o.setInt = function (e, t, i) {
                        var n = this;
                        if (this.isAnimatorReady())
                          if ("string" != typeof e) this.setInt(t, null, i);
                          else if ("string" == typeof e) {
                            var a,
                              r = e.split(","),
                              s =
                                null != (a = Number.parseFloat(r[2]))
                                  ? a
                                  : this._frameTime;
                            this._debug &&
                              c.log(
                                "Animation clip: Set (int) " +
                                  r[0] +
                                  " to: " +
                                  r[1]
                              ),
                              !0 !== i && this._animQueue.length > 0
                                ? this._animQueue.push({
                                    call: function () {
                                      return n.setInt(e, t, !0);
                                    },
                                  })
                                : this.scheduleOnce(
                                    function () {
                                      return n._animator.setValue(
                                        r[0],
                                        Number.parseInt(r[1])
                                      );
                                    },
                                    Number.isNaN(s) ? this._frameTime : s
                                  );
                          } else
                            c.log(
                              "Animation clip: Couldn't parse int data {" +
                                typeof e +
                                "}! at " +
                                this.node.name
                            );
                        else
                          this._animQueue.push({
                            call: function () {
                              return n.setInt(e, t, !0);
                            },
                          });
                      }),
                      (o.setFloat = function (e, t, i) {
                        var n = this;
                        if (this.isAnimatorReady())
                          if ("string" != typeof e) this.setFloat(t, null, i);
                          else if ("string" == typeof e) {
                            var a,
                              r = e.split(","),
                              s =
                                null != (a = Number.parseFloat(r[2]))
                                  ? a
                                  : this._frameTime;
                            this._debug &&
                              c.log(
                                "Animation clip: Set (float) " +
                                  r[0] +
                                  " to: " +
                                  r[1]
                              ),
                              !0 !== i && this._animQueue.length > 0
                                ? this._animQueue.push({
                                    call: function () {
                                      return n.setFloat(e, t, !0);
                                    },
                                  })
                                : this.scheduleOnce(
                                    function () {
                                      return n._animator.setValue(
                                        r[0],
                                        Number.parseFloat(r[1])
                                      );
                                    },
                                    Number.isNaN(s) ? this._frameTime : s
                                  );
                          } else
                            c.log(
                              "Animation clip: Couldn't parse float data {" +
                                typeof e +
                                "}! at " +
                                this.node.name
                            );
                        else
                          this._animQueue.push({
                            call: function () {
                              return n.setFloat(e, t, !0);
                            },
                          });
                      }),
                      (o.setBool = function (e, t, i) {
                        var n = this;
                        if (this.isAnimatorReady())
                          if ("string" != typeof e) this.setBool(t, null, i);
                          else if ("string" == typeof e) {
                            var a,
                              r = e.split(","),
                              s =
                                null != (a = Number.parseFloat(r[2]))
                                  ? a
                                  : this._frameTime;
                            this._debug &&
                              c.log(
                                "Animation clip: Set (bool) " +
                                  r[0] +
                                  " to: " +
                                  r[1]
                              ),
                              !0 !== i && this._animQueue.length > 0
                                ? this._animQueue.push({
                                    call: function () {
                                      return n.setBool(e, t, !0);
                                    },
                                  })
                                : this.scheduleOnce(
                                    function () {
                                      n._animator.setValue(
                                        r[0],
                                        "true" === r[1]
                                      );
                                    },
                                    Number.isNaN(s) ? this._frameTime : s
                                  );
                          } else
                            c.log(
                              "Animation clip: Couldn't parse bool data {" +
                                typeof e +
                                "}! at " +
                                this.node.name
                            );
                        else
                          this._animQueue.push({
                            call: function () {
                              return n.setBool(e, t, !0);
                            },
                          });
                      }),
                      (o.setVariable = function (e) {
                        switch (e.animParamType) {
                          case g.Boolean:
                            this.setBool(
                              null,
                              e.animParam + " , " + e.paramValue
                            );
                            break;
                          case g.Trigger:
                            this.setTrigger(e.animParam, null);
                            break;
                          case g.Number:
                            this.setInt(
                              null,
                              e.animParam + " , " + e.paramValue
                            );
                        }
                      }),
                      (o.setTargetAnimator = function (e) {
                        e instanceof m
                          ? (this._animator = e.getComponent(
                              u.AnimationController
                            ))
                          : e instanceof u.AnimationController &&
                            (this._animator = e);
                      }),
                      (o.turnAnimatorOn = function () {
                        this._animator.enabled = !0;
                      }),
                      (o.turnAnimatorOff = function () {
                        this._animator.enabled = !1;
                      }),
                      (o.isAnimatorReady = function () {
                        return this._animator
                          ? this.node.activeInHierarchy &&
                              ((null != this._animator &&
                                this._animator._isOnLoadCalled > 0) ||
                                null != this._animator._graphEval)
                          : (c.log(
                              t.name + " animator is null in " + this.node.name,
                              p.Generic,
                              f.Error
                            ),
                            !1);
                      }),
                      s(t, [
                        {
                          key: "_frameTime",
                          get: function () {
                            return 0.1;
                          },
                        },
                      ]),
                      t
                    );
                  })(h)).prototype,
                  "_animator",
                  [b],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (T = t(v.prototype, "_debug", [y], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return !1;
                  },
                })),
                (A = v))
              ) || A)
          ) || A)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AnimationHelperVariable.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AnimationEnums.ts"],
  function (i) {
    "use strict";
    var e, r, a, n, t, l;
    return {
      setters: [
        function (i) {
          (e = i.applyDecoratedDescriptor), (r = i.initializerDefineProperty);
        },
        function (i) {
          (a = i.cclegacy), (n = i._decorator), (t = i.Enum);
        },
        function (i) {
          l = i.AnimationVariableType;
        },
      ],
      execute: function () {
        var o, u, p, c, s, m, b, f, y;
        a._RF.push(
          {},
          "7f86fBkr0NPC6FhOPx3u8fS",
          "AnimationHelperVariable",
          void 0
        );
        var h = n.ccclass,
          v = n.property;
        i(
          "AnimationHelperVariable",
          ((o = h("AnimationHelperVariable")),
          (u = v({ visible: !0, type: t(l) })),
          (p = v({ visible: !0 })),
          (c = v({ visible: !0 })),
          o(
            ((b = e(
              (m = function () {
                r(this, "animParamType", b, this),
                  r(this, "animParam", f, this),
                  r(this, "paramValue", y, this);
              }).prototype,
              "animParamType",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return l.None;
                },
              }
            )),
            (f = e(m.prototype, "animParam", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = e(m.prototype, "paramValue", [c], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (s = m))
          ) || s)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AttackData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var i, n;
    return {
      setters: [
        function (t) {
          i = t.createClass;
        },
        function (t) {
          n = t.cclegacy;
        },
      ],
      execute: function () {
        n._RF.push({}, "f45eclVsMBMo5ssZoBSVxf4", "AttackData", void 0);
        t(
          "AttackData",
          (function () {
            function t(t, i, n, e) {
              (this.unit = null),
                (this.head = null),
                (this._node = null),
                (this._validEnemy = null),
                (this._isTowerValid = !0),
                (this._enemy = null),
                (this._isShooting = !1),
                (this._invalidEnemy = !1),
                (this._node = t),
                (this.unit = i),
                (this.head = n),
                e && (this._enemy = e);
            }
            var n = t.prototype;
            return (
              (n.setEnemy = function (t) {
                null === this._enemy
                  ? ((this._enemy = t), this.head.lookAtTarget(t))
                  : this._invalidEnemy &&
                    this._isShooting &&
                    ((this._validEnemy = t), this.head.lookAtTarget(t));
              }),
              (n.resetEnemy = function () {
                this._invalidEnemy && null !== this._validEnemy
                  ? ((this._enemy = this._validEnemy),
                    (this._validEnemy = null))
                  : (this.head.removeTarget(this._enemy), (this._enemy = null)),
                  (this._invalidEnemy = !1);
              }),
              (n.setInvalidEnemy = function () {
                this._isShooting
                  ? (this._invalidEnemy = !0)
                  : this.resetEnemy();
              }),
              (n.startShoot = function () {
                this._isShooting = !0;
              }),
              (n.finishShoot = function () {
                this._isShooting = !1;
              }),
              (n.toString = function () {
                var t = "Attack Data: " + this.node.uuid + "\n";
                return (
                  (t += "Is looking at target: " + this.head.isLookingAtTarget),
                  (t += "Is shooting: " + this.isShooting)
                );
              }),
              (n.towerDestroyed = function () {
                (this._isTowerValid = !1),
                  (this._isShooting = !1),
                  this.unit.towerDestroyed();
              }),
              (n.towerConstructed = function () {
                this._isTowerValid = !0;
              }),
              i(t, [
                {
                  key: "node",
                  get: function () {
                    return this._node;
                  },
                },
                {
                  key: "enemy",
                  get: function () {
                    return this._enemy;
                  },
                },
                {
                  key: "isShooting",
                  get: function () {
                    return this._isShooting;
                  },
                },
                {
                  key: "invalidEnemy",
                  get: function () {
                    return this._invalidEnemy;
                  },
                },
              ]),
              t
            );
          })()
        );
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/AttackState.ts", ["cc"], function (t) {
  "use strict";
  var e;
  return {
    setters: [
      function (t) {
        e = t.cclegacy;
      },
    ],
    execute: function () {
      var a;
      t("AttackState", void 0),
        e._RF.push({}, "d30043P4OlDj6/22E7XJvTj", "AttackState", void 0),
        (function (t) {
          (t[(t.Idle = 0)] = "Idle"),
            (t[(t.Targeting = 1)] = "Targeting"),
            (t[(t.Targeted = 2)] = "Targeted"),
            (t[(t.Shooting = 3)] = "Shooting"),
            (t[(t.Damaging = 4)] = "Damaging"),
            (t[(t.CD = 5)] = "CD");
        })(a || (a = t("AttackState", {}))),
        e._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/AttackVFXTriggers.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, i, r, l, n, o, s, a, c, u, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (l = e.assertThisInitialized),
            (n = e.createClass),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (s = e.cclegacy),
            (a = e._decorator),
            (c = e.EventHandler),
            (u = e.ParticleSystem),
            (d = e.Component);
        },
      ],
      execute: function () {
        var p, f, h, v, g, y, b, _, C;
        s._RF.push({}, "cf6d2i9odJJNo3fjHspWuC9", "AttackVFXTriggers", void 0);
        var P = a.ccclass,
          m = a.property;
        e(
          "AttackVFXTriggers",
          ((p = P("AttackVFXTriggers")),
          (f = m({ visible: !0, type: [c] })),
          (h = m({ visible: !0, type: [c] })),
          (v = m({ visible: !0, type: [u] })),
          p(
            ((b = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, n = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    n[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    r(t, "_onEnable", b, l(t)),
                    r(t, "_onCollided", _, l(t)),
                    r(t, "_onCollidedParticles", C, l(t)),
                    (t._startedCollisionParticles = !1),
                    t
                  );
                }
                i(t, e);
                var s = t.prototype;
                return (
                  (s.activate = function (e) {
                    var t = this;
                    if (e)
                      if ("string" == typeof e) {
                        var i = Number.parseFloat(e);
                        this.activate(i);
                      } else
                        this.scheduleOnce(function () {
                          return t.activate();
                        }, e);
                    else c.emitEvents(this._onEnable);
                  }),
                  (s.collided = function (e) {
                    if (e)
                      if ("string" == typeof e) {
                        var t = Number.parseFloat(e);
                        this.collided(t);
                      } else this.scheduleOnce(this.collided(), e);
                    else c.emitEvents(this._onCollided);
                    this._startedCollisionParticles = !0;
                  }),
                  n(t, [
                    {
                      key: "isCollisionParticlesPlaying",
                      get: function () {
                        for (
                          var e, t = o(this._onCollidedParticles);
                          !(e = t()).done;

                        ) {
                          if (e.value.isPlaying)
                            return (
                              this._startedCollisionParticles &&
                                (this._startedCollisionParticles = !1),
                              !0
                            );
                        }
                        return !1;
                      },
                    },
                  ]),
                  t
                );
              })(d)).prototype,
              "_onEnable",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (_ = t(y.prototype, "_onCollided", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(y.prototype, "_onCollidedParticles", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (g = y))
          ) || g)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AudioItem.ts"],
  function (t) {
    "use strict";
    var e, i, r, n, o, a, s, u, c;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (n = t.assertThisInitialized),
            (o = t.createClass);
        },
        function (t) {
          (a = t.cclegacy), (s = t._decorator), (u = t.Component);
        },
        function (t) {
          c = t.AudioItem;
        },
      ],
      execute: function () {
        var l, p, f, d, y;
        a._RF.push({}, "aaf09Ao+q5OhKsNi2Dc5zdI", "AudioData", void 0);
        var h = s.ccclass,
          m = s.property;
        t(
          "AudioData",
          ((l = h("AudioData")),
          (p = m({ type: [c], visible: !0, formerlySerializedAs: "items" })),
          l(
            ((y = e(
              (d = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, o = new Array(i), a = 0;
                    a < i;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    r(e, "_items", y, n(e)),
                    e
                  );
                }
                return (
                  i(e, t),
                  (e.prototype.getItem = function (t) {
                    return this._items.find(function (e) {
                      return e.key == t;
                    });
                  }),
                  o(e, [
                    {
                      key: "length",
                      get: function () {
                        return this._items.length;
                      },
                    },
                  ]),
                  e
                );
              })(u)).prototype,
              "_items",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (f = d))
          ) || f)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioDataLoader.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./AudioData.ts",
    "./AudioManager.ts",
  ],
  function (t) {
    "use strict";
    var a, e, i, o, n, r, u, s, c, d;
    return {
      setters: [
        function (t) {
          (a = t.applyDecoratedDescriptor),
            (e = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (o = t.assertThisInitialized);
        },
        function (t) {
          (n = t.cclegacy),
            (r = t._decorator),
            (u = t.Prefab),
            (s = t.Component);
        },
        function (t) {
          c = t.AudioData;
        },
        function (t) {
          d = t.AudioManager;
        },
      ],
      execute: function () {
        var l, p, f, y, D;
        n._RF.push({}, "e638ajtZ9xGNJqPUA/g/vww", "AudioDataLoader", void 0);
        var h = r.ccclass,
          A = r.property;
        t(
          "AudioDataLoader",
          ((l = h("AudioDataLoader")),
          (p = A({ type: u, visible: !0, formerlySerializedAs: "key" })),
          l(
            ((D = a(
              (y = (function (t) {
                function a() {
                  for (
                    var a, e = arguments.length, n = new Array(e), r = 0;
                    r < e;
                    r++
                  )
                    n[r] = arguments[r];
                  return (
                    (a = t.call.apply(t, [this].concat(n)) || this),
                    i(a, "_audioData", D, o(a)),
                    (a._data = null),
                    a
                  );
                }
                e(a, t);
                var n = a.prototype;
                return (
                  (n.onLoad = function () {
                    (this._data = this._audioData.data.getComponent(c)),
                      d.instance.load(this._data);
                  }),
                  (n.onDestroy = function () {
                    d.instance && d.instance.unload(this._data);
                  }),
                  a
                );
              })(s)).prototype,
              "_audioData",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (f = y))
          ) || f)
        );
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/AudioEnums.ts", ["cc"], function (e) {
  "use strict";
  var o;
  return {
    setters: [
      function (e) {
        o = e.cclegacy;
      },
    ],
    execute: function () {
      var i, t, n;
      e({ AudioEvent: void 0, LoopMode: void 0, PickSubitemMode: void 0 }),
        o._RF.push({}, "8fdc8EKGHVNmrekSIJ8Q6Ho", "AudioEnums", void 0),
        (function (e) {
          (e[(e.Do_Not_Loop = 0)] = "Do_Not_Loop"),
            (e[(e.Loop_Subitem = 1)] = "Loop_Subitem"),
            (e[(e.Loop_Sequence = 2)] = "Loop_Sequence"),
            (e[(e.Play_Sequence_Loop_Last = 3)] = "Play_Sequence_Loop_Last");
        })(i || (i = e("LoopMode", {}))),
        (function (e) {
          (e[(e.Disabled = 0)] = "Disabled"),
            (e[(e.Random = 1)] = "Random"),
            (e[(e.Random_Not_Same_Twice = 2)] = "Random_Not_Same_Twice"),
            (e[(e.Sequence = 3)] = "Sequence");
        })(t || (t = e("PickSubitemMode", {}))),
        (function (e) {
          (e[(e.AudioManagerInitialized = 0)] = "AudioManagerInitialized"),
            (e[(e.SetMuted = 1)] = "SetMuted");
        })(n || (n = e("AudioEvent", {}))),
        o._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/AudioItem.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AudioEnums.ts"],
  function (e) {
    "use strict";
    var t, i, n, o, s, r, a, u, l, c, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.createClass),
            (n = e.initializerDefineProperty);
        },
        function (e) {
          (o = e.cclegacy),
            (s = e._decorator),
            (r = e.Prefab),
            (a = e.Enum),
            (u = e.AudioClip),
            (l = e.randomRangeInt);
        },
        function (e) {
          (c = e.LoopMode), (d = e.PickSubitemMode);
        },
      ],
      execute: function () {
        var h, p, b, f, y, _, m, g, v, k, x, I, S, M, w;
        o._RF.push({}, "9e1e3rX0ktE9pKy3qyrVu/Z", "AudioItem", void 0);
        var P = s.ccclass,
          R = s.property;
        e(
          "AudioItem",
          ((h = P("AudioItem")),
          (p = R({ visible: !0 })),
          (b = R({ type: r, visible: !0, displayName: "OldKey (deprecated)" })),
          (f = R({ visible: !0, slide: !0, range: [0, 1] })),
          (y = R({ type: a(c), visible: !0 })),
          (_ = R({ type: a(d), visible: !0 })),
          (m = R({ type: [u], visible: !0 })),
          h(
            ((k = t(
              (v = (function () {
                function e() {
                  n(this, "_audioKey", k, this),
                    n(this, "_key", x, this),
                    n(this, "_volume", I, this),
                    n(this, "_loopMode", S, this),
                    n(this, "_pickSubitemMode", M, this),
                    n(this, "_sfxs", w, this),
                    (this.notPlayedIndexes = []);
                }
                var t = e.prototype;
                return (
                  (t.getAudioClipsToPlay = function () {
                    var e = [];
                    if (0 == this._sfxs.length) return e;
                    switch (this._pickSubitemMode) {
                      case d.Disabled:
                        e.push(this.getInSequence());
                        break;
                      case d.Random:
                        e.push(this._sfxs[l(0, this._sfxs.length)]);
                        break;
                      case d.Random_Not_Same_Twice:
                        e.push(this.getRandomNotSameTwice());
                        break;
                      case d.Sequence:
                        e = this._sfxs.slice();
                    }
                    return e;
                  }),
                  (t.getInSequence = function () {
                    var e = this.availableIndexes[0];
                    return this.availableIndexes.splice(0, 1), this._sfxs[e];
                  }),
                  (t.getRandomNotSameTwice = function () {
                    var e = l(0, this.availableIndexes.length),
                      t = this.availableIndexes[e];
                    return this.availableIndexes.splice(e, 1), this._sfxs[t];
                  }),
                  i(e, [
                    {
                      key: "key",
                      get: function () {
                        return 0 == this._audioKey.length
                          ? this._key.data.name
                          : this._audioKey;
                      },
                    },
                    {
                      key: "volume",
                      get: function () {
                        return this._volume;
                      },
                    },
                    {
                      key: "loopMode",
                      get: function () {
                        return this._loopMode;
                      },
                    },
                    {
                      key: "pickSubItemMode",
                      get: function () {
                        return this._pickSubitemMode;
                      },
                    },
                    {
                      key: "length",
                      get: function () {
                        return this._sfxs.length;
                      },
                    },
                    {
                      key: "availableIndexes",
                      get: function () {
                        if (0 == this.notPlayedIndexes.length)
                          for (var e = 0; e < this._sfxs.length; e++)
                            this.notPlayedIndexes.push(e);
                        return this.notPlayedIndexes;
                      },
                    },
                  ]),
                  e
                );
              })()).prototype,
              "_audioKey",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (x = t(v.prototype, "_key", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: null,
            })),
            (I = t(v.prototype, "_volume", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (S = t(v.prototype, "_loopMode", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return c.Do_Not_Loop;
              },
            })),
            (M = t(v.prototype, "_pickSubitemMode", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return d.Random_Not_Same_Twice;
              },
            })),
            (w = t(v.prototype, "_sfxs", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (g = v))
          ) || g)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioListener.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./env", "./Logger.ts"],
  function (e) {
    "use strict";
    var i, t, n, r, s, o, a, c, l, u, h, g, b, d, m, p, f;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (c = e.CCFloat),
            (l = e.CCBoolean),
            (u = e.Node),
            (h = e.MeshRenderer),
            (g = e.Color),
            (b = e.Vec3),
            (d = e.Component);
        },
        function (e) {
          m = e.DEBUG;
        },
        function (e) {
          (p = e.logger), (f = e.LogCategory);
        },
      ],
      execute: function () {
        var D, C, y, v, w, L, _, x, P, z, A, E;
        o._RF.push({}, "03e27UIeUhPkbnm9lwYkGFi", "AudioListener", void 0);
        var k = a.ccclass,
          F = a.property;
        e(
          "AudioListener",
          ((D = k("AudioListener")),
          (C = F(c)),
          (y = F(c)),
          (v = F(l)),
          (w = F([u])),
          D(
            (((E = (function (e) {
              function i() {
                for (
                  var i, t = arguments.length, s = new Array(t), o = 0;
                  o < t;
                  o++
                )
                  s[o] = arguments[o];
                return (
                  (i = e.call.apply(e, [this].concat(s)) || this),
                  n(i, "minDistance", x, r(i)),
                  n(i, "maxDistance", P, r(i)),
                  n(i, "showDebug", z, r(i)),
                  n(i, "debugCircles", A, r(i)),
                  i
                );
              }
              t(i, e);
              var o = i.prototype;
              return (
                (o.onEnable = function () {
                  (i._instance = this),
                    (this.debugCircles[0].active = this.showDebug && m),
                    (this.debugCircles[1].active = this.showDebug && m),
                    this.debugCircles[0].setWorldScale(
                      2 * this.minDistance,
                      2 * this.minDistance,
                      2 * this.minDistance
                    ),
                    this.debugCircles[1].setWorldScale(
                      2 * this.maxDistance,
                      2 * this.maxDistance,
                      2 * this.maxDistance
                    ),
                    this.debugCircles[0]
                      .getComponent(h)
                      .material.setProperty("color", g.GREEN),
                    this.debugCircles[1]
                      .getComponent(h)
                      .material.setProperty("color", g.YELLOW);
                }),
                (o.onDisable = function () {
                  i._instance == this && (i._instance = null);
                }),
                (o.getVolumeScale = function (e) {
                  var i = b.distance(e, this.node.worldPosition);
                  if (
                    (p.log(
                      "Distance from " +
                        e +
                        " to " +
                        this.node.worldPosition +
                        " = " +
                        i,
                      f.Audio
                    ),
                    i >= this.maxDistance)
                  )
                    return 0;
                  if (i <= this.minDistance) return 1;
                  var t = this.maxDistance - this.minDistance;
                  return (i -= this.minDistance) / t;
                }),
                s(i, null, [
                  {
                    key: "instance",
                    get: function () {
                      return i._instance;
                    },
                  },
                ]),
                i
              );
            })(d))._instance = void 0),
            (x = i((_ = E).prototype, "minDistance", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 2;
              },
            })),
            (P = i(_.prototype, "maxDistance", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 30;
              },
            })),
            (z = i(_.prototype, "showDebug", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (A = i(_.prototype, "debugCircles", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (L = _))
          ) || L)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioManager.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./AudioListener.ts",
    "./Logger.ts",
    "./AudioObject.ts",
    "./ObjectPool.ts",
    "./ProjectEvent.ts",
    "./AudioEnums.ts",
  ],
  function (e) {
    "use strict";
    var i, o, n, a, t, u, d, r, s, l, c, A, g, f, h, y, _, E, S, b, p, v, m;
    return {
      setters: [
        function (e) {
          (i = e.inheritsLoose), (o = e.createClass);
        },
        function (e) {
          (n = e.cclegacy),
            (a = e._decorator),
            (t = e.systemEvent),
            (u = e.SystemEventType),
            (d = e.director),
            (r = e.Director),
            (s = e.Node),
            (l = e.game),
            (c = e.Prefab),
            (A = e.KeyCode),
            (g = e.AudioSource),
            (f = e.sys),
            (h = e.Component);
        },
        function (e) {
          y = e.AudioListener;
        },
        function (e) {
          (_ = e.logger), (E = e.LogCategory), (S = e.LogType);
        },
        function (e) {
          b = e.AudioObject;
        },
        function (e) {
          p = e.ObjectPool;
        },
        function (e) {
          v = e.projectEvent;
        },
        function (e) {
          m = e.AudioEvent;
        },
      ],
      execute: function () {
        var D, w;
        n._RF.push({}, "fa285OT0dpI3qmSmqpPzoY2", "AudioManager", void 0);
        var C = a.ccclass,
          M = a.executionOrder;
        e(
          "AudioManager",
          C("AudioManager")(
            (D =
              M(-10)(
                (((w = (function (e) {
                  function n() {
                    for (
                      var i, o = arguments.length, n = new Array(o), a = 0;
                      a < o;
                      a++
                    )
                      n[a] = arguments[a];
                    return (
                      ((i =
                        e.call.apply(e, [this].concat(n)) ||
                        this)._loadedAudioData = []),
                      (i._audioObjectPool = new p(function () {
                        return new b();
                      }, 5)),
                      (i._availableAudioSources = []),
                      (i._playingAudioSources = []),
                      (i._isAudioEnabled = !0),
                      (i._storageKey = "debugIsAudioEnabled"),
                      i
                    );
                  }
                  i(n, e);
                  var a = n.prototype;
                  return (
                    (a.onLoad = function () {
                      n._instance != this &&
                        (_.log(
                          "ERROR: Audio manager already exists",
                          E.Audio,
                          S.Warning
                        ),
                        this.node.destroy());
                    }),
                    (a.onEnable = function () {
                      t.on(u.KEY_DOWN, this.onMuteKeyDown, this);
                    }),
                    (a.start = function () {
                      d.on(
                        r.EVENT_AFTER_SCENE_LAUNCH,
                        this.onChangedScene,
                        this
                      ),
                        this.initializeAvailableAudioSourcesList(),
                        v.emit(m.AudioManagerInitialized);
                    }),
                    (a.onDisable = function () {
                      t.off(u.KEY_DOWN, this.onMuteKeyDown, this);
                    }),
                    (a.onDestroy = function () {
                      d.off(
                        r.EVENT_AFTER_SCENE_LAUNCH,
                        this.onChangedScene,
                        this
                      );
                    }),
                    (n.instantiateNewAudioManager = function (e) {
                      if ((void 0 === e && (e = null), null == n._instance)) {
                        var i = new s("AudioManager");
                        (n._instance = i.addComponent(n)),
                          l.addPersistRootNode(i),
                          e && n._instance.load(e);
                      } else
                        _.log(
                          "Can't instantiate a new AudioManager when one already exists.",
                          E.Audio,
                          S.Error
                        );
                    }),
                    (a.load = function (e) {
                      return e
                        ? this.findAudioDataIndex(e) > -1
                          ? (_.log(
                              "Error loading AudioData. The AudioData " +
                                e.node.name +
                                " is already loaded",
                              E.Audio,
                              S.Error
                            ),
                            !1)
                          : (this._loadedAudioData.push(e), !0)
                        : (_.log(
                            "Error loading AudioData. The AudioData object is null",
                            E.Audio,
                            S.Error
                          ),
                          !1);
                    }),
                    (a.unload = function (e) {
                      var i = this.findAudioDataIndex(e);
                      return i > -1
                        ? (this._loadedAudioData.splice(i, 1), !0)
                        : (_.log(
                            "Error unloading AudioData. The AudioData " +
                              e.node.name +
                              " was not loaded",
                            E.Audio,
                            S.Error
                          ),
                          !1);
                    }),
                    (a.playSpatialSound = function (e, i, o) {
                      if (
                        (void 0 === o && (o = 1),
                        _.log(
                          "Playing spatial sound from " +
                            i +
                            ", original scale = " +
                            o,
                          E.Audio
                        ),
                        y.instance)
                      ) {
                        (o *= y.instance.getVolumeScale(i)),
                          _.log("Final scale = " + o, E.Audio);
                        var n = this.playByKey(e);
                        return n && n.scaleVolume(o), n;
                      }
                      var a = this.playByKey(e);
                      return a && a.scaleVolume(o), a;
                    }),
                    (a.playByKey = function (e) {
                      var i = this;
                      if (e instanceof c)
                        return (
                          _.log(
                            "Play by key with prefab is deprecated. Consider changing to string keys!"
                          ),
                          void this.playByKey(e.data.name)
                        );
                      if (!e)
                        return (
                          _.log(
                            "Received null key to play audio",
                            E.Audio,
                            S.Error
                          ),
                          null
                        );
                      if (0 == this._loadedAudioData.length)
                        return (
                          _.log(
                            "Can not play audio. No audio data was loaded",
                            E.Audio,
                            S.Error
                          ),
                          null
                        );
                      var o = this.findAudio(e);
                      if (o) {
                        var n = this.getAvailableAudioSource(),
                          a = this._audioObjectPool.get();
                        return (
                          a.initialize(
                            o,
                            n,
                            !this._isAudioEnabled,
                            function () {
                              i.releaseAudioSource(n);
                            }
                          ),
                          a.play(),
                          a
                        );
                      }
                      return (
                        _.log(
                          "Can not play audio. No audio was found with key " +
                            e,
                          E.Audio,
                          S.Error
                        ),
                        null
                      );
                    }),
                    (a.onMuteKeyDown = function (e) {
                      e.keyCode == A.KEY_M &&
                        (this.audioEnabled = !this._isAudioEnabled);
                    }),
                    (a.onAudioEnabled = function () {
                      _.log("Audio enabled", E.Audio),
                        (this._isAudioEnabled = !0),
                        v.emit(m.SetMuted, !this._isAudioEnabled);
                    }),
                    (a.onAudioDisabled = function () {
                      _.log("Audio disabled", E.Audio),
                        (this._isAudioEnabled = !1),
                        v.emit(m.SetMuted, !this._isAudioEnabled);
                    }),
                    (a.getAvailableAudioSource = function () {
                      var e;
                      return (
                        this._availableAudioSources.length > 0
                          ? ((e = this._availableAudioSources[0]),
                            this._availableAudioSources.splice(0, 1))
                          : (e = this.newAudioSource()),
                        this._playingAudioSources.push(e),
                        e
                      );
                    }),
                    (a.newAudioSource = function () {
                      var e = new s("AudioSource"),
                        i = e.addComponent(g);
                      return e.setParent(d.getScene()), i;
                    }),
                    (a.releaseAudioSource = function (e) {
                      e ||
                        _.log(
                          "Releasing a null audioSource? AudioManager is confused :/"
                        );
                      var i = this._playingAudioSources.findIndex(function (i) {
                        return i === e;
                      });
                      -1 == i
                        ? _.log(
                            "Released audio source was not listed as in use. AudioManager is sad :("
                          )
                        : (this._playingAudioSources.splice(i, 1),
                          this._availableAudioSources.push(e));
                    }),
                    (a.onChangedScene = function () {
                      this.initializeAvailableAudioSourcesList(),
                        (this._playingAudioSources = []);
                    }),
                    (a.initializeAvailableAudioSourcesList = function (e) {
                      void 0 === e && (e = 5),
                        (this._availableAudioSources = []);
                      for (var i = 0; i < e; i++)
                        this._availableAudioSources.push(this.newAudioSource());
                    }),
                    (a.findAudioDataIndex = function (e) {
                      return this._loadedAudioData.findIndex(function (i) {
                        return i == e;
                      });
                    }),
                    (a.findAudio = function (e) {
                      for (
                        var i = this._loadedAudioData.length - 1;
                        i > -1;
                        i--
                      ) {
                        var o = this._loadedAudioData[i].getItem(e);
                        if (o) return o;
                      }
                      return null;
                    }),
                    (a.setLocalData = function (e, i) {
                      "undefined" != typeof GameSnacks
                        ? f.localStorage.setItem(e, i)
                        : f.localStorage.setItem(e, i);
                    }),
                    (a.getLocalData = function (e) {
                      return "undefined" != typeof GameSnacks
                        ?  f.localStorage.getItem(e)
                        : f.localStorage.getItem(e);
                    }),
                    o(
                      n,
                      [
                        {
                          key: "audioEnabled",
                          get: function () {
                            return this._isAudioEnabled;
                          },
                          set: function (e) {
                            (this._isAudioEnabled = e),
                              e
                                ? this.onAudioEnabled()
                                : this.onAudioDisabled();
                          },
                        },
                      ],
                      [
                        {
                          key: "instance",
                          get: function () {
                            return n._instance;
                          },
                        },
                      ]
                    ),
                    n
                  );
                })(h))._instance = null),
                (D = w))
              ) || D)
          ) || D
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioManagerInitializer.ts",
  ["cc", "./Logger.ts", "./AudioData.ts", "./AudioManager.ts"],
  function (a) {
    "use strict";
    var i, t, n, e, o, u, r, d, g;
    return {
      setters: [
        function (a) {
          (i = a.cclegacy),
            (t = a.game),
            (n = a.Game),
            (e = a.resources),
            (o = a.Prefab);
        },
        function (a) {
          (u = a.logger), (r = a.LogCategory);
        },
        function (a) {
          d = a.AudioData;
        },
        function (a) {
          g = a.AudioManager;
        },
      ],
      execute: function () {
        i._RF.push(
          {},
          "39e33XnAQRJhpTBTgQcVQw7",
          "AudioManagerInitializer",
          void 0
        );
        a(
          "audioManagerInitializer",
          new (function () {
            t.on(
              n.EVENT_GAME_INITED,
              function () {
                e.load("audio/audioData", o, function (a, i) {
                  if (a)
                    u.log(
                      "No default audio data found. Initiating an empty AudioManager",
                      r.Audio
                    ),
                      g.instantiateNewAudioManager();
                  else {
                    u.log("Found default audio data: " + i, r.Audio);
                    var t = i.data.getComponent(d);
                    g.instantiateNewAudioManager(t);
                  }
                });
              },
              this
            );
          })()
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioObject.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./AudioEnums.ts",
    "./Logger.ts",
    "./ProjectEvent.ts",
  ],
  function (i) {
    "use strict";
    var t, e, l, o, a, s, u, n, d;
    return {
      setters: [
        function (i) {
          t = i.createClass;
        },
        function (i) {
          (e = i.cclegacy), (l = i.clamp);
        },
        function (i) {
          (o = i.AudioEvent), (a = i.LoopMode);
        },
        function (i) {
          (s = i.logger), (u = i.LogCategory), (n = i.LogType);
        },
        function (i) {
          d = i.projectEvent;
        },
      ],
      execute: function () {
        e._RF.push({}, "3fd7eqNPmJG85niU6MZ1UDs", "AudioObject", void 0);
        i(
          "AudioObject",
          (function () {
            function i() {
              (this._audioItem = void 0),
                (this._audioSource = void 0),
                (this._onEndCallback = void 0),
                (this._valid = !1),
                (this._clipsToPlay = void 0),
                (this._playingClipIndex = 0),
                (this._paused = !1),
                (this._muteModifier = 1),
                (this._volume = 1),
                (this._playNextClipCallback = void 0);
            }
            var e = i.prototype;
            return (
              (e.initialize = function (i, t, e, l) {
                var a = this;
                (this._audioItem = i),
                  (this._audioSource = t),
                  (this._onEndCallback = l),
                  (this._valid = !0),
                  (this._playingClipIndex = 0),
                  (this._paused = !1),
                  (this._volume = this._audioItem.volume),
                  (this.mute = e),
                  d.on(o.SetMuted, function (i) {
                    a.mute = i;
                  });
              }),
              (e.play = function () {
                this._valid
                  ? 0 != this._audioItem.length
                    ? (this._paused
                        ? ((this._playNextClipCallback =
                            this.playNextClip.bind(this)),
                          this._audioSource.scheduleOnce(
                            this._playNextClipCallback,
                            this._audioSource.duration -
                              this._audioSource.currentTime
                          ),
                          (this._paused = !1))
                        : ((this._clipsToPlay =
                            this._audioItem.getAudioClipsToPlay()),
                          (this._playingClipIndex = 0),
                          (this._audioSource.clip =
                            this._clipsToPlay[this._playingClipIndex]),
                          (this._playNextClipCallback =
                            this.playNextClip.bind(this)),
                          this._audioSource.scheduleOnce(
                            this._playNextClipCallback,
                            this._clipsToPlay[
                              this._playingClipIndex
                            ].getDuration()
                          )),
                      this._audioSource.play())
                    : this.end()
                  : s.log(
                      "Play was called on an invalid AudioObject",
                      u.Audio,
                      n.Error
                    );
              }),
              (e.pause = function () {
                this._valid
                  ? (this._audioSource.unschedule(this._playNextClipCallback),
                    (this._playNextClipCallback = null),
                    this._audioSource.pause(),
                    (this._paused = !0))
                  : s.log(
                      "Pause was called on an invalid AudioObject",
                      u.Audio,
                      n.Error
                    );
              }),
              (e.stop = function () {
                this._valid
                  ? (this._audioSource.unschedule(this._playNextClipCallback),
                    (this._playNextClipCallback = null),
                    this._audioSource.stop(),
                    this.end())
                  : s.log(
                      "Stop was called on an invalid AudioObject",
                      u.Audio,
                      n.Error
                    );
              }),
              (e.scaleVolume = function (i) {
                this._valid
                  ? (this._audioSource.volume *= i)
                  : s.log(
                      "ScaleVolume was called on an invalid AudioObject",
                      u.Audio,
                      n.Error
                    );
              }),
              (e.playNextClip = function () {
                switch (this._audioItem.loopMode) {
                  case a.Do_Not_Loop:
                    if (
                      ((this._playingClipIndex += 1),
                      this._playingClipIndex >= this._clipsToPlay.length)
                    )
                      return void this.end();
                  case a.Loop_Subitem:
                    break;
                  case a.Loop_Sequence:
                    (this._playingClipIndex += 1),
                      this._playingClipIndex == this._clipsToPlay.length &&
                        (this._playingClipIndex = 0);
                  case a.Play_Sequence_Loop_Last:
                    this._playingClipIndex < this._clipsToPlay.length - 1 &&
                      (this._playingClipIndex += 1);
                }
                (this._playNextClipCallback = this.playNextClip.bind(this)),
                  this._audioSource.scheduleOnce(
                    this._playNextClipCallback,
                    this._clipsToPlay[this._playingClipIndex].getDuration()
                  ),
                  (this._audioSource.clip =
                    this._clipsToPlay[this._playingClipIndex]),
                  this._audioSource.play();
              }),
              (e.end = function () {
                this._valid &&
                  ((this._audioItem = null),
                  (this._audioSource = null),
                  (this._valid = !1),
                  this._onEndCallback(),
                  (this._onEndCallback = null));
              }),
              (e.updateVolume = function () {
                this._audioSource &&
                  (this._audioSource.volume =
                    this._volume * this._muteModifier);
              }),
              t(i, [
                {
                  key: "isValid",
                  get: function () {
                    return this._valid;
                  },
                },
                {
                  key: "playing",
                  get: function () {
                    return !!this.isValid && this._audioSource.playing;
                  },
                },
                {
                  key: "volume",
                  get: function () {
                    return this._volume;
                  },
                  set: function (i) {
                    (this._volume = l(i, 0, 1)), this.updateVolume();
                  },
                },
                {
                  key: "mute",
                  get: function () {
                    return 0 == this._muteModifier;
                  },
                  set: function (i) {
                    (this._muteModifier = i ? 0 : 1), this.updateVolume();
                  },
                },
              ]),
              i
            );
          })()
        );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AudioProxy.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./AudioManager.ts",
  ],
  function (e) {
    "use strict";
    var i, t, o, r, n, a, u, s, l, c, y, p, d;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (n = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (u = e._decorator),
            (s = e.Prefab),
            (l = e.Component);
        },
        function (e) {
          (c = e.logger), (y = e.LogCategory), (p = e.LogType);
        },
        function (e) {
          d = e.AudioManager;
        },
      ],
      execute: function () {
        var g, h, f, _, b, k, v;
        a._RF.push({}, "ac879rTendCEbpZWFz/jexs", "AudioProxy", void 0);
        var m = u.ccclass,
          A = u.property;
        e(
          "AudioProxy",
          ((g = m("AudioProxy")),
          (h = A({ visible: !0, group: { id: "key", name: "Key" } })),
          (f = A({
            type: s,
            visible: !0,
            group: { id: "key", name: "Deprecated Key" },
            formerlySerializedAs: "key",
          })),
          g(
            ((k = i(
              (b = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, n = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    n[a] = arguments[a];
                  return (
                    (i = e.call.apply(e, [this].concat(n)) || this),
                    o(i, "_audioKey", k, r(i)),
                    o(i, "_key", v, r(i)),
                    (i._audioObject = null),
                    i
                  );
                }
                t(i, e);
                var a = i.prototype;
                return (
                  (a.playSFX = function () {
                    var e;
                    this.key.length > 0 &&
                      (this._audioObject =
                        null == (e = d.instance)
                          ? void 0
                          : e.playByKey(this.key));
                  }),
                  (a.stopSFX = function () {
                    null !== this._audioObject &&
                      this._audioObject.playing &&
                      this._audioObject.stop();
                  }),
                  n(i, [
                    {
                      key: "key",
                      get: function () {
                        return 0 == this._audioKey.length
                          ? this._key
                            ? this._key.data.name
                            : (c.log(
                                "AudioProxy at " +
                                  this.node.name +
                                  " has no audio key",
                                y.Generic,
                                p.Error
                              ),
                              "")
                          : this._audioKey;
                      },
                    },
                  ]),
                  i
                );
              })(l)).prototype,
              "_audioKey",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (v = i(b.prototype, "_key", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (_ = b))
          ) || _)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/AxisInput.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var n, e, r, i;
    return {
      setters: [
        function (t) {
          (n = t.inheritsLoose), (e = t.createClass);
        },
        function (t) {
          (r = t.cclegacy), (i = t.Component);
        },
      ],
      execute: function () {
        r._RF.push({}, "1a7167v2EBGjoInPfDd+oHG", "AxisInput", void 0);
        t(
          "AxisInput",
          (function (t) {
            function r() {
              for (
                var n, e = arguments.length, r = new Array(e), i = 0;
                i < e;
                i++
              )
                r[i] = arguments[i];
              return (
                ((n =
                  t.call.apply(t, [this].concat(r)) || this)._horizontal = 0),
                (n._vertical = 0),
                n
              );
            }
            return (
              n(r, t),
              e(r, [
                {
                  key: "horizontal",
                  get: function () {
                    return this._horizontal;
                  },
                },
                {
                  key: "vertical",
                  get: function () {
                    return this._vertical;
                  },
                },
              ]),
              r
            );
          })(i)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseBlock.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (o) {
    "use strict";
    var e, t, c, r, n;
    return {
      setters: [
        function (o) {
          (e = o.inheritsLoose), (t = o.createClass);
        },
        function (o) {
          (c = o.cclegacy), (r = o._decorator), (n = o.Component);
        },
      ],
      execute: function () {
        var s;
        c._RF.push({}, "e8ae813HdxEcpU9HBp84rCy", "BaseBlock", void 0);
        var a = r.ccclass;
        r.property,
          o(
            "BaseBlock",
            a("BaseBlock")(
              (s = (function (o) {
                function c() {
                  for (
                    var e, t = arguments.length, c = new Array(t), r = 0;
                    r < t;
                    r++
                  )
                    c[r] = arguments[r];
                  return (
                    ((e = o.call.apply(o, [this].concat(c)) || this)._coords =
                      null),
                    e
                  );
                }
                return (
                  e(c, o),
                  (c.prototype.setCoordinate = function (o) {
                    this._coords = o.clone();
                  }),
                  t(c, [
                    {
                      key: "coords",
                      get: function () {
                        return this._coords.clone();
                      },
                    },
                  ]),
                  c
                );
              })(n))
            ) || s
          );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseEventListener.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./ProjectEvent.ts"],
  function (e) {
    "use strict";
    var t, n, i, s, r, o, a, c, l, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (s = e.assertThisInitialized),
            (r = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (c = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          u = e.projectEvent;
        },
      ],
      execute: function () {
        var v, h, p, d, f, E, y;
        o._RF.push({}, "2f3a733CjVHB7PpsCng0Uir", "BaseEventListener", void 0);
        var _ = a.ccclass,
          b = a.property;
        e(
          "BaseEventListener",
          ((v = _("BaseEventListener")),
          (h = b({ visible: !0 })),
          (p = b({ visible: !0, type: [c] })),
          v(
            ((E = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, r = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    r[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    i(t, "_delay", E, s(t)),
                    i(t, "_onEventRaised", y, s(t)),
                    t
                  );
                }
                n(t, e);
                var o = t.prototype;
                return (
                  (o.onEnable = function () {
                    u.on(this.eventID, this.onEventRaised, this);
                  }),
                  (o.onDisable = function () {
                    u.off(this.eventID, this.onEventRaised, this);
                  }),
                  (o.onEventRaised = function (e) {
                    var t = this;
                    this._delay <= 0
                      ? e
                        ? c.emitEvents(this._onEventRaised, e)
                        : c.emitEvents(this._onEventRaised)
                      : e
                      ? this.scheduleOnce(function () {
                          return c.emitEvents(t._onEventRaised, e);
                        }, this._delay)
                      : this.scheduleOnce(function () {
                          return c.emitEvents(t._onEventRaised);
                        }, this._delay);
                  }),
                  r(t, [
                    {
                      key: "eventID",
                      get: function () {
                        throw "Not Implemented";
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_delay",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (y = t(f.prototype, "_onEventRaised", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = f))
          ) || d)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseEventRaiser.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./ProjectEvent.ts"],
  function (e) {
    "use strict";
    var t, i, n, r, a, s, o, c, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (o = e._decorator), (c = e.Component);
        },
        function (e) {
          l = e.projectEvent;
        },
      ],
      execute: function () {
        var u, y, p, v, h;
        s._RF.push({}, "f0675YKmF9D8r6469LJtqi9", "BaseEventRaiser", void 0);
        var f = o.ccclass,
          d = o.property;
        e(
          "BaseEventRaiser",
          ((u = f("BaseEventRaiser")),
          (y = d({ visible: !0 })),
          u(
            ((h = t(
              (v = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, a = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_delay", h, r(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  (t.prototype.raise = function (e) {
                    var t = this;
                    if (this._delay > 0)
                      this.scheduleOnce(function () {
                        try {
                          l.emit(t.eventKey, t.data);
                        } catch (i) {
                          e ? l.emit(t.eventKey, e) : l.emit(t.eventKey);
                        }
                      }, this._delay);
                    else
                      try {
                        l.emit(this.eventKey, this.data);
                      } catch (t) {
                        e ? l.emit(this.eventKey, e) : l.emit(this.eventKey);
                      }
                  }),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        throw "Not Implemented";
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        throw "Not Implemented";
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_delay",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (p = v))
          ) || p)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseSaveGame.ts",
  ["cc", "./Logger.ts", "./ProjectEvent.ts", "./SaveGameEnums.ts"],
  function (a) {
    "use strict";
    var t, e, n, s, i, r, o;
    return {
      setters: [
        function (a) {
          (t = a.cclegacy), (e = a.sys), (n = a.game), (s = a.Game);
        },
        function (a) {
          i = a.logger;
        },
        function (a) {
          r = a.projectEvent;
        },
        function (a) {
          o = a.SaveGameEvent;
        },
      ],
      execute: function () {
        t._RF.push({}, "f404fjsovlKLZr4HhXQKQDM", "BaseSaveGame", void 0);
        a(
          "BaseSaveGame",
          (function () {
            function a() {
              var a = this;
              (this._savedData = null),
                (this._runningTransaction = null),
                n.on(
                  s.EVENT_GAME_INITED,
                  function () {
                    a.load();
                  },
                  this
                );
            }
            var t = a.prototype;
            return (
              (t.isDataLoaded = function () {
                return null != this._savedData;
              }),
              (t.setData = function (a, t) {
                this._runningTransaction
                  ? this._runningTransaction.setData(a, t)
                  : (this._savedData.setData(a, t), this.save());
              }),
              (t.getData = function (a, t) {
                try {
                  return this._runningTransaction
                    ? this._runningTransaction.getData(a)
                    : this._savedData.getData(a);
                } catch (a) {
                  return t;
                }
              }),
              (t.startTransaction = function () {
                this._runningTransaction = this.createSaveData(this._savedData);
              }),
              (t.commitTransaction = function () {
                (this._savedData = this._runningTransaction),
                  (this._runningTransaction = null),
                  this.save();
              }),
              (t.rollbackTransaction = function () {
                this._runningTransaction = null;
              }),
              (t.save = function () {
                if (this._savedData) {
                  var a = JSON.stringify(this._savedData, this.replacer);
                  this.setLocalData(this.saveKey, a), i.log("Saved game: " + a);
                } else i.log("No data to save.");
              }),
              (t.load = function () {
                var a = this.getLocalData(this.saveKey);
                a
                  ? ((this._savedData = this.createSaveData(
                      JSON.parse(a, this.reviver)
                    )),
                    i.log("Loaded saved game: " + a))
                  : ((this._savedData = this.createSaveData()),
                    i.log("No data to load."),
                    r.emit(o[o.SaveGame_Loaded]));
              }),
              (t.replacer = function (a, t) {
                return t instanceof Map
                  ? { dataType: "Map", value: Array.from(t.entries()) }
                  : t;
              }),
              (t.reviver = function (a, t) {
                return "object" == typeof t &&
                  null !== t &&
                  "Map" === t.dataType
                  ? new Map(t.value)
                  : t;
              }),
              (t.setLocalData = function (a, t) {
                return "undefined" == typeof GameSnacks
                  ? e.localStorage.setItem(a, t)
                  : e.localStorage.setItem(a, t);
              }),
              (t.getLocalData = function (a) {
                return "undefined" == typeof GameSnacks
                  ? e.localStorage.getItem(a)
                  : e.localStorage.getItem(a);
              }),
              a
            );
          })()
        );
        t._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/BaseSaveGameData.ts", ["cc"], function (t) {
  "use strict";
  var a;
  return {
    setters: [
      function (t) {
        a = t.cclegacy;
      },
    ],
    execute: function () {
      a._RF.push({}, "e47bb0NFDNFF7MAM7uQQ96C", "BaseSaveGameData", void 0);
      t(
        "BaseSaveGameData",
        (function () {
          function t(a) {
            void 0 === a && (a = null),
              (this._data = []),
              (this._data =
                (a && a instanceof t) || (a && "object" == typeof a)
                  ? [].concat(a._data)
                  : []);
          }
          var a = t.prototype;
          return (
            (a.setData = function (t, a) {
              var e = this._data.findIndex(function (a) {
                return a.key === t;
              });
              -1 !== e
                ? (this._data[e].value = a)
                : this._data.push({ key: t, value: a });
            }),
            (a.getData = function (t) {
              var a = this._data.findIndex(function (a) {
                return a.key === t;
              });
              if (-1 !== a) return this._data[a].value;
              throw "Invalid Key: No data with key " + t + " was found";
            }),
            t
          );
        })()
      );
      a._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/BaseShootVFX.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./PrefabPool.ts",
    "./TowerEvents.ts",
    "./BaseTower.ts",
    "./ShootVFXData.ts",
  ],
  function (t) {
    "use strict";
    var e, o, r, n, i, s, a, u, c, l, h, f, p, d;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (o = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (n = t.assertThisInitialized),
            (i = t.createForOfIteratorHelperLoose),
            (s = t.createClass);
        },
        function (t) {
          (a = t.cclegacy), (u = t._decorator), (c = t.Component);
        },
        function (t) {
          l = t.logger;
        },
        function (t) {
          h = t.PrefabPool;
        },
        function (t) {
          f = t.TowerEvents;
        },
        function (t) {
          p = t.BaseTower;
        },
        function (t) {
          d = t.ShootVFXData;
        },
      ],
      execute: function () {
        var _, F, b, w, y, g, v, V;
        a._RF.push({}, "938b81kKuhHhpGK+JSyKdm1", "BaseShootVFX", void 0);
        var X = u.ccclass,
          S = u.property,
          P = u.executionOrder;
        t(
          "BaseShootVFX",
          ((_ = X("BaseShootVFX")),
          (F = P(-1)),
          (b = S({ visible: !0, type: p })),
          (w = S({ visible: !0, type: [d] })),
          _(
            (y =
              F(
                ((v = e(
                  (g = (function (t) {
                    function e() {
                      for (
                        var e, o = arguments.length, i = new Array(o), s = 0;
                        s < o;
                        s++
                      )
                        i[s] = arguments[s];
                      return (
                        (e = t.call.apply(t, [this].concat(i)) || this),
                        r(e, "_tower", v, n(e)),
                        r(e, "_shootVFXs", V, n(e)),
                        (e._currentUpgradeKey = null),
                        (e._currentShootVFXPrefab = null),
                        e
                      );
                    }
                    o(e, t);
                    var a = e.prototype;
                    return (
                      (a.onLoad = function () {
                        for (var t, e = i(this._shootVFXs); !(t = e()).done; ) {
                          var o = t.value;
                          h.instance.initialize(o.shootPrefab, this.name, 1);
                        }
                      }),
                      (a.onEnable = function () {
                        this._tower.towerEvents.on(
                          f[f.Tower_Upgraded],
                          this.setCurrentTowerID,
                          this
                        );
                      }),
                      (a.onDisable = function () {
                        this._tower.towerEvents.off(
                          f[f.Tower_Upgraded],
                          this.setCurrentTowerID,
                          this
                        );
                      }),
                      (a.setCurrentTowerID = function (t) {
                        (this._currentUpgradeKey = t),
                          (this._currentShootVFXPrefab = null);
                      }),
                      (a.startShootVFX = function (t, e) {
                        throw "Shoot VFX not Implemented";
                      }),
                      s(e, [
                        {
                          key: "shootVFX",
                          get: function () {
                            var t = this;
                            if (null === this._currentShootVFXPrefab) {
                              var e = this._shootVFXs.find(function (e) {
                                return t._currentUpgradeKey.includes(e.key);
                              });
                              e
                                ? (this._currentShootVFXPrefab = e.shootPrefab)
                                : l.log(
                                    "Failed to find data for {" +
                                      this._currentUpgradeKey +
                                      "} tower"
                                  );
                            }
                            return this._currentShootVFXPrefab;
                          },
                        },
                      ]),
                      e
                    );
                  })(c)).prototype,
                  "_tower",
                  [b],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (V = e(g.prototype, "_shootVFXs", [w], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (y = g))
              ) || y)
          ) || y)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseShopEntry.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./CurrencyController.ts"],
  function (t) {
    "use strict";
    var e, i, n, r, a, o, c, s, u, l, h;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (a = t.createClass);
        },
        function (t) {
          (o = t.cclegacy),
            (c = t._decorator),
            (s = t.EventHandler),
            (u = t.Button),
            (l = t.Component);
        },
        function (t) {
          h = t.currencyController;
        },
      ],
      execute: function () {
        var p, b, y, _, d, f, v, g, S, m, P, E, k, C, A, w, z, L, B;
        t("ShopEntryState", void 0),
          o._RF.push({}, "9275cbgA9RG9p1F3gPojhUA", "BaseShopEntry", void 0);
        var N,
          D = c.ccclass,
          U = c.property;
        !(function (t) {
          (t[(t.None = 0)] = "None"),
            (t[(t.Locked = 1)] = "Locked"),
            (t[(t.Purchased = 2)] = "Purchased"),
            (t[(t.Available = 3)] = "Available");
        })(N || (N = t("ShopEntryState", {})));
        t(
          "BaseShopEntry",
          ((p = D("BaseShopEntry")),
          (b = U({ visible: !0, type: [s], displayOrder: 5 })),
          (y = U({ visible: !0, type: u })),
          (_ = U({ visible: !0, type: [s], group: "Upgrade Locked" })),
          (d = U({ visible: !0, type: [s], group: "Upgrade Purchased" })),
          (f = U({ visible: !0, type: [s], group: "Upgrade Available" })),
          (v = U({ visible: !0, type: [s], group: "Can/Can't Purchase" })),
          (g = U({ visible: !0, type: [s], group: "Can/Can't Purchase" })),
          (S = U({ visible: !0 })),
          p(
            ((E = e(
              (P = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, a = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    ((e = t.call.apply(t, [this].concat(a)) || this)._state =
                      N.None),
                    n(e, "_setCost", E, r(e)),
                    n(e, "_button", k, r(e)),
                    n(e, "_setStateLocked", C, r(e)),
                    n(e, "_setStatePurchased", A, r(e)),
                    n(e, "_setStateAvailable", w, r(e)),
                    n(e, "_canPurchase", z, r(e)),
                    n(e, "_canNotPurchase", L, r(e)),
                    (e._currency = -1),
                    (e._data = null),
                    n(e, "_debug", B, r(e)),
                    e
                  );
                }
                i(e, t);
                var o = e.prototype;
                return (
                  (o.onLoad = function () {
                    var t = new s();
                    (t.target = this.node),
                      (t.component = "BaseShopEntry"),
                      (t.handler = "onClick"),
                      this._button.clickEvents.push(t);
                  }),
                  (o.onEnable = function () {
                    this._currency = h.currency;
                  }),
                  (o.onDisable = function () {}),
                  (o.initialize = function (t) {
                    (this._data = t), s.emitEvents(this._setCost, t.cost);
                  }),
                  (o.updateEntry = function () {
                    throw "Not implemented";
                  }),
                  (o.currencyChanged = function (t) {
                    (this._currency = t),
                      this._state === N.Available && this.checkAffordability();
                  }),
                  (o.checkAffordability = function () {
                    this._currency < 0 && (this._currency = h.currency),
                      this._data.cost <= this._currency
                        ? s.emitEvents(this._canPurchase)
                        : s.emitEvents(this._canNotPurchase);
                  }),
                  (o.setState = function (t) {
                    t !== this._state &&
                      ((this._state = t),
                      this._state === N.Purchased
                        ? s.emitEvents(this._setStatePurchased)
                        : this._state === N.Available
                        ? (s.emitEvents(this._setStateAvailable),
                          this.checkAffordability())
                        : this._state === N.Locked &&
                          s.emitEvents(this._setStateLocked));
                  }),
                  (o.onClick = function () {
                    this._data.clicked();
                  }),
                  a(e, [
                    {
                      key: "entryData",
                      get: function () {
                        return this._data;
                      },
                    },
                  ]),
                  e
                );
              })(l)).prototype,
              "_setCost",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (k = e(P.prototype, "_button", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (C = e(P.prototype, "_setStateLocked", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (A = e(P.prototype, "_setStatePurchased", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (w = e(P.prototype, "_setStateAvailable", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (z = e(P.prototype, "_canPurchase", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (L = e(P.prototype, "_canNotPurchase", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (B = e(P.prototype, "_debug", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (m = P))
          ) || m)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseShopEntryData.ts",
  ["cc"],
  function (t) {
    "use strict";
    var i;
    return {
      setters: [
        function (t) {
          i = t.cclegacy;
        },
      ],
      execute: function () {
        i._RF.push({}, "a5035Z1E3FJRY90C3sjGB37", "BaseShopEntryData", void 0);
        t(
          "BaseShopEntryData",
          (function () {
            function t(t, i, s) {
              (this.cost = 0),
                (this.id = ""),
                (this.onClick = null),
                (this.id = t),
                (this.cost = i),
                (this.onClick = s);
            }
            return (
              (t.prototype.clicked = function () {
                this.onClick(this);
              }),
              t
            );
          })()
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseSpecial.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, c, n, r;
    return {
      setters: [
        function (t) {
          e = t.inheritsLoose;
        },
        function (t) {
          (c = t.cclegacy), (n = t._decorator), (r = t.Component);
        },
      ],
      execute: function () {
        var s;
        c._RF.push({}, "d17456H4stB6J1uA+68wCCB", "BaseSpecial", void 0);
        var o = n.ccclass;
        n.property,
          t(
            "BaseSpecial",
            o("BaseSpecial")(
              (s = (function (t) {
                function c() {
                  return t.apply(this, arguments) || this;
                }
                e(c, t);
                var n = c.prototype;
                return (
                  (n.start = function () {}), (n.update = function (t) {}), c
                );
              })(r))
            ) || s
          );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTextFormatter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, r, o, n;
    return {
      setters: [
        function (t) {
          e = t.inheritsLoose;
        },
        function (t) {
          (r = t.cclegacy), (o = t._decorator), (n = t.Component);
        },
      ],
      execute: function () {
        var s;
        r._RF.push({}, "ef891k69vpC4ac4qa2uTLUz", "BaseTextFormatter", void 0);
        var a = o.ccclass;
        o.property,
          t(
            "BaseTextFormatter",
            a("BaseTextFormatter")(
              (s = (function (t) {
                function r() {
                  return t.apply(this, arguments) || this;
                }
                return (
                  e(r, t),
                  (r.prototype.formatText = function (t) {
                    return t.toString();
                  }),
                  r
                );
              })(n))
            ) || s
          );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTower.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerEvents.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./UpgradeState.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, i, o, a, s, u, c, p, f, l, w, g, _, h, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (u = e._decorator),
            (c = e.Enum),
            (p = e.EventHandler),
            (f = e.Prefab),
            (l = e.EventTarget),
            (w = e.Component);
        },
        function (e) {
          g = e.TowerEvents;
        },
        function (e) {
          _ = e.TowersData;
        },
        function (e) {
          h = e.TowerTypes;
        },
        function (e) {
          d = e.UpgradeState;
        },
      ],
      execute: function () {
        var b, y, T, D, v, I, U, m, S, E, z, k, C, B, F, P, L, H, q;
        s._RF.push({}, "46d7cf7KnNMmqgrqJomn7ZA", "BaseTower", void 0);
        var A = u.ccclass,
          M = u.property;
        e(
          "BaseTower",
          ((b = A("BaseTower")),
          (y = M({ visible: !0 })),
          (T = M({ visible: !0 })),
          (D = M({ visible: !0, type: [d] })),
          (v = M({ visible: !0 })),
          (I = M({ visible: !0, type: c(h) })),
          (U = M({ visible: !0, type: [p] })),
          (m = M({ visible: !0, type: [p] })),
          (S = M({ visible: !0, type: f })),
          b(
            ((k = t(
              (z = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_baseTowerID", k, i(t)),
                    n(t, "_energyCost", C, i(t)),
                    n(t, "_upgrades", B, i(t)),
                    n(t, "_currentUpgradeState", F, i(t)),
                    n(t, "_towerType", P, i(t)),
                    (t._towerEvents = new l()),
                    n(t, "_onBeginDestruction", L, i(t)),
                    n(t, "_onFinishDestruction", H, i(t)),
                    n(t, "_towersDataPrefab", q, i(t)),
                    (t._towersData = null),
                    (t._towerInfo = null),
                    (t._towerUpgradesInfo = []),
                    t
                  );
                }
                r(t, e);
                var s = t.prototype;
                return (
                  (s.onEnable = function () {
                    (this._currentUpgradeState = this._baseTowerID),
                      this.initializeTowerData();
                  }),
                  (s.initializeTowerData = function () {
                    var e = this;
                    (this._towerInfo = this.towersData
                      .getTowers(this._towerType)
                      .find(function (t) {
                        return t.id === e.currentUpgradeState;
                      })),
                      (this._towerUpgradesInfo = []),
                      this._towerUpgradesInfo.push(this.towerInfo),
                      this._towerEvents.emit(
                        g[g.Tower_Upgraded],
                        this._currentUpgradeState
                      );
                  }),
                  (s.getUpgrades = function () {
                    var e = this;
                    return this._upgrades.filter(function (t) {
                      return (
                        t.currentStateID.toLowerCase() ===
                        e._currentUpgradeState.toLowerCase()
                      );
                    });
                  }),
                  (s.upgradeTo = function (e) {
                    var t = this;
                    if (
                      ((this._currentUpgradeState = e),
                      this._towerEvents.emit(
                        g[g.Tower_Upgraded],
                        this._currentUpgradeState
                      ),
                      this.currentUpgradeState.includes("-plus"))
                    ) {
                      this._towerUpgradesInfo = [];
                      for (
                        var r,
                          n = function () {
                            var e = r.value;
                            t._towerUpgradesInfo.push(
                              t._towersData
                                .getTowers(t._towerType)
                                .find(function (t) {
                                  return t.id === e;
                                })
                            );
                          },
                          i = o(this.towerInfo.upgradeID);
                        !(r = i()).done;

                      )
                        n();
                    } else
                      (this._towerInfo = this.towersData
                        .getTowers(this._towerType)
                        .find(function (e) {
                          return e.id === t.currentUpgradeState;
                        })),
                        (this._towerUpgradesInfo = []),
                        this._towerUpgradesInfo.push(this.towerInfo);
                  }),
                  (s.beginDestruction = function () {
                    p.emitEvents(this._onBeginDestruction);
                  }),
                  (s.finishDestruction = function () {
                    p.emitEvents(this._onFinishDestruction);
                  }),
                  a(t, [
                    {
                      key: "baseTowerID",
                      get: function () {
                        return this._baseTowerID;
                      },
                    },
                    {
                      key: "energyCost",
                      get: function () {
                        return this._energyCost;
                      },
                    },
                    {
                      key: "upgrades",
                      get: function () {
                        return this._upgrades;
                      },
                    },
                    {
                      key: "currentUpgradeState",
                      get: function () {
                        return this._currentUpgradeState;
                      },
                    },
                    {
                      key: "towerType",
                      get: function () {
                        return this._towerType;
                      },
                    },
                    {
                      key: "towerEvents",
                      get: function () {
                        return this._towerEvents;
                      },
                    },
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(_)),
                          this._towersData
                        );
                      },
                    },
                    {
                      key: "towerInfo",
                      get: function () {
                        return this._towerInfo;
                      },
                    },
                    {
                      key: "towerUpgradesInfo",
                      get: function () {
                        return [].concat(this._towerUpgradesInfo);
                      },
                    },
                  ]),
                  t
                );
              })(w)).prototype,
              "_baseTowerID",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (C = t(z.prototype, "_energyCost", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (B = t(z.prototype, "_upgrades", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (F = t(z.prototype, "_currentUpgradeState", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (P = t(z.prototype, "_towerType", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return h.None;
              },
            })),
            (L = t(z.prototype, "_onBeginDestruction", [U], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = t(z.prototype, "_onFinishDestruction", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (q = t(z.prototype, "_towersDataPrefab", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (E = z))
          ) || E)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTowerAttack.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./Enemy.ts",
    "./TimeScale.ts",
    "./BaseTowerTargetChooser.ts",
    "./BaseShootVFX.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, o, a, s, u, l, c, g, d, f, h, _, p, m;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (u = e.Node),
            (l = e.Collider),
            (c = e.Prefab),
            (g = e.Component),
            (d = e.Vec2);
        },
        function (e) {
          f = e.logger;
        },
        function (e) {
          h = e.Enemy;
        },
        function (e) {
          _ = e.timeScale;
        },
        function (e) {
          p = e.BaseTowerTargetChooser;
        },
        function (e) {
          m = e.BaseShootVFX;
        },
      ],
      execute: function () {
        var b, T, w, y, v, k, E, C, x, D, I, S, z, A, R, N, P, B, F;
        a._RF.push({}, "e7453mL3I1P1bWoZZuKwiSS", "BaseTowerAttack", void 0);
        var V = s.ccclass,
          L = s.property;
        e(
          "BaseTowerAttack",
          ((b = V("BaseTowerAttack")),
          (T = L({ visible: !0 })),
          (w = L({ visible: !0, type: u })),
          (y = L({ visible: !0, type: l })),
          (v = L({ visible: !0 })),
          (k = L({ visible: !0 })),
          (E = L({ visible: !0 })),
          (C = L({ visible: !0, type: c })),
          (x = L({ visible: !0, type: m })),
          b(
            ((S = t(
              (I = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, o = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    i(t, "_debug", S, r(t)),
                    i(t, "_towerNode", z, r(t)),
                    i(t, "_detectionRange", A, r(t)),
                    i(t, "_damage", R, r(t)),
                    i(t, "_radius", N, r(t)),
                    i(t, "_attackCD", P, r(t)),
                    i(t, "_targetChooserPrefab", B, r(t)),
                    (t._targetChooser = null),
                    i(t, "_attackVFX", F, r(t)),
                    (t._trackedEnemies = []),
                    (t._targets = []),
                    (t._cdTargets = []),
                    t
                  );
                }
                n(t, e);
                var a = t.prototype;
                return (
                  (a.onEnable = function () {
                    this._detectionRange.on(
                      "onTriggerEnter",
                      this.onTriggerEnter,
                      this
                    ),
                      this._detectionRange.on(
                        "onTriggerStay",
                        this.onTriggerStay,
                        this
                      ),
                      this._detectionRange.on(
                        "onTriggerExit",
                        this.onTriggerExit,
                        this
                      );
                  }),
                  (a.onDisable = function () {
                    this._detectionRange.off(
                      "onTriggerEnter",
                      this.onTriggerEnter,
                      this
                    ),
                      this._detectionRange.off(
                        "onTriggerStay",
                        this.onTriggerStay,
                        this
                      ),
                      this._detectionRange.off(
                        "onTriggerExit",
                        this.onTriggerExit,
                        this
                      );
                  }),
                  (a.update = function (e) {
                    this.updateTargets(e * _.current),
                      this.updateAttackUnits(e * _.current);
                    var t = this.faceTarget(e * _.current);
                    this.attack(e * _.current, t);
                  }),
                  (a.updateTargets = function (e) {
                    for (
                      var t = this,
                        n = function (e) {
                          var n,
                            i,
                            r,
                            o,
                            a,
                            s,
                            u = t._trackedEnemies[e],
                            l = t._targets.findIndex(function (e) {
                              return e === u;
                            }),
                            c = d.distance(
                              new d(
                                t._towerNode.worldPosition.x,
                                t._towerNode.worldPosition.z
                              ),
                              null !=
                                (n = new d(
                                  null == u ||
                                  null == (i = u.node) ||
                                  null == (r = i.worldPosition)
                                    ? void 0
                                    : r.x,
                                  null == u ||
                                  null == (o = u.node) ||
                                  null == (a = o.worldPosition)
                                    ? void 0
                                    : a.z
                                ))
                                ? n
                                : d.ZERO
                            );
                          null !== u && null !== u.node && u.isValid
                            ? -1 !== l && c > t._radius
                              ? (t._targets.splice(l, 1),
                                t._debug &&
                                  f.log(
                                    "Tower Attack: Target left area " +
                                      u.enemyID +
                                      " " +
                                      u.node.uuid
                                  ))
                              : -1 === l &&
                                c <= t._radius &&
                                u.isValid &&
                                (t._targets.push(u),
                                t._debug &&
                                  f.log(
                                    "Tower Attack: New Target " +
                                      u.enemyID +
                                      " " +
                                      u.node.uuid
                                  ))
                            : (t._trackedEnemies.splice(e, 1),
                              -1 !== l && t._targets.splice(l, 1),
                              t._debug &&
                                f.log(
                                  "Tower Attack: Enemy invalid " +
                                    (null == u ? void 0 : u.enemyID) +
                                    " " +
                                    (null == u || null == (s = u.node)
                                      ? void 0
                                      : s.uuid)
                                ));
                        },
                        i = t._trackedEnemies.length - 1;
                      i >= 0;
                      i--
                    )
                      n(i);
                  }),
                  (a.updateAttackUnits = function (e) {
                    throw "Not implemented";
                  }),
                  (a.attack = function (e, t) {
                    throw "Not implemented";
                  }),
                  (a.faceTarget = function (e) {
                    throw "Not implemented";
                  }),
                  (a.setDamage = function (e) {
                    throw "Not implemented";
                  }),
                  (a.setRange = function (e) {
                    this._radius = e;
                  }),
                  (a.setShootFrequency = function (e) {
                    throw "Not implemented";
                  }),
                  (a.removeTargetFromCD = function (e) {
                    var t = this._cdTargets.findIndex(function (t) {
                      return t === e;
                    });
                    -1 !== t && this._cdTargets.splice(t, 1);
                  }),
                  (a.addTargetToCD = function (e) {
                    -1 ===
                      this._cdTargets.findIndex(function (t) {
                        return t === e;
                      }) && this._cdTargets.push(e);
                  }),
                  (a.onTriggerStay = function (e) {
                    var t = e.otherCollider.node.getComponent(h);
                    if (t)
                      this._trackedEnemies.findIndex(function (e) {
                        return e === t;
                      });
                  }),
                  (a.onTriggerEnter = function (e) {
                    if (null !== e.otherCollider) {
                      var t = e.otherCollider.node.getComponent(h);
                      if (t)
                        -1 ===
                          this._trackedEnemies.findIndex(function (e) {
                            return e === t;
                          }) &&
                          (this._trackedEnemies.push(t),
                          this._debug &&
                            f.log(
                              "Tower Attack: onTriggerEnter " +
                                t.enemyID +
                                " " +
                                t.node.uuid
                            ));
                    }
                  }),
                  (a.onTriggerExit = function (e) {
                    if (null !== e.otherCollider) {
                      var t = e.otherCollider.node.getComponent(h);
                      if (t) {
                        var n = this._trackedEnemies.findIndex(function (e) {
                          return e === t;
                        });
                        -1 !== n &&
                          (this._trackedEnemies.splice(n, 1),
                          this._debug &&
                            f.log(
                              "Tower Attack: onTriggerExit " +
                                t.enemyID +
                                " " +
                                t.node.uuid
                            ));
                      }
                    }
                  }),
                  (a.towerDestroyed = function () {
                    (this._trackedEnemies = []),
                      (this._targets = []),
                      (this._cdTargets = []);
                  }),
                  o(t, [
                    {
                      key: "targetChooser",
                      get: function () {
                        if (!this._targetChooser) {
                          var e = this._targetChooserPrefab.data;
                          this._targetChooser = e.getComponent(p);
                        }
                        return this._targetChooser;
                      },
                    },
                  ]),
                  t
                );
              })(g)).prototype,
              "_debug",
              [T],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (z = t(I.prototype, "_towerNode", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (A = t(I.prototype, "_detectionRange", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (R = t(I.prototype, "_damage", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (N = t(I.prototype, "_radius", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (P = t(I.prototype, "_attackCD", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (B = t(I.prototype, "_targetChooserPrefab", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (F = t(I.prototype, "_attackVFX", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (D = I))
          ) || D)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTowerProgressionData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, o;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          o = e.cclegacy;
        },
      ],
      execute: function () {
        o._RF.push(
          {},
          "535a0dsrdVABLKAQCrv1MxA",
          "BaseTowerProgressionData",
          void 0
        );
        e(
          "BaseTowerProgressionData",
          (function () {
            function e() {}
            return (
              (e.prototype.getDataProgressionFor = function (e) {
                throw "not implemented";
              }),
              t(e, [
                {
                  key: "progressionData",
                  get: function () {
                    throw "not implemented";
                  },
                },
              ]),
              e
            );
          })()
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTowerTargetChooser.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var o, r, t, s;
    return {
      setters: [
        function (e) {
          o = e.inheritsLoose;
        },
        function (e) {
          (r = e.cclegacy), (t = e._decorator), (s = e.Component);
        },
      ],
      execute: function () {
        var n;
        r._RF.push(
          {},
          "658b2UQwN5JCZclXdYKJCkB",
          "BaseTowerTargetChooser",
          void 0
        );
        var c = t.ccclass;
        t.property,
          e(
            "BaseTowerTargetChooser",
            c("BaseTowerTargetChooser")(
              (n = (function (e) {
                function r() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  o(r, e),
                  (r.prototype.chooseTarget = function (e) {
                    throw "Not Implemented";
                  }),
                  r
                );
              })(s))
            ) || n
          );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTowerUpgradeData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          n = e.cclegacy;
        },
      ],
      execute: function () {
        n._RF.push(
          {},
          "633bbT+c/dDloLpzKdsxMUz",
          "BaseTowerUpgradeData",
          void 0
        );
        e(
          "BaseTowerUpgradeData",
          (function () {
            function e(e) {
              (this._id = ""),
                (this._damage = 0),
                (this._shootFrequency = 0),
                (this._energyCost = 0),
                (this._energyValue = 0),
                "object" == typeof e &&
                  ((this._id = e.id),
                  (this._damage = e.damage),
                  (this._shootFrequency = e.frequency),
                  (this._energyCost = e.energyCost),
                  (this._energyValue = e.energyValue));
            }
            return (
              t(e, [
                {
                  key: "id",
                  get: function () {
                    return this._id;
                  },
                },
                {
                  key: "damage",
                  get: function () {
                    return this._damage;
                  },
                },
                {
                  key: "shootFrequency",
                  get: function () {
                    return this._shootFrequency;
                  },
                },
                {
                  key: "energyCost",
                  get: function () {
                    return this._energyCost;
                  },
                },
                {
                  key: "energyValue",
                  get: function () {
                    return this._energyValue;
                  },
                },
              ]),
              e
            );
          })()
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseTowerUpgradeHandler.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerEvents.ts",
    "./BaseTower.ts",
    "./TowerUpgradesDataController.ts",
    "./TowerTypes.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, o, i, a, s, u, l, c, p, d, w;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (o = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (a = e._decorator),
            (s = e.Enum),
            (u = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          c = e.TowerEvents;
        },
        function (e) {
          p = e.BaseTower;
        },
        function (e) {
          d = e.towerUpgradesDataController;
        },
        function (e) {
          w = e.TowerTypes;
        },
      ],
      execute: function () {
        var g, f, h, _, y, v, T, b, D, m, U, E;
        i._RF.push(
          {},
          "31c03ClKJNLEInZ2kpbz6Qm",
          "BaseTowerUpgradeHandler",
          void 0
        );
        var z = a.ccclass,
          B = a.property,
          F = a.executionOrder;
        e(
          "BaseTowerUpgradeHandler",
          ((g = z("BaseTowerUpgradeHandler")),
          (f = F(-1)),
          (h = B({ visible: !0, type: p })),
          (_ = B({ visible: !0, type: s(w) })),
          (y = B({ visible: !0, type: [u] })),
          (v = B({ visible: !0, type: [u] })),
          g(
            (T =
              f(
                ((D = t(
                  (b = (function (e) {
                    function t() {
                      for (
                        var t, r = arguments.length, i = new Array(r), a = 0;
                        a < r;
                        a++
                      )
                        i[a] = arguments[a];
                      return (
                        (t = e.call.apply(e, [this].concat(i)) || this),
                        n(t, "_tower", D, o(t)),
                        n(t, "_towerType", m, o(t)),
                        (t._upgradesData = null),
                        n(t, "_setDamage", U, o(t)),
                        n(t, "_setShootFrequency", E, o(t)),
                        (t._currentModel = null),
                        t
                      );
                    }
                    r(t, e);
                    var i = t.prototype;
                    return (
                      (i.onEnable = function () {
                        (this._upgradesData = d.getTowerUpgrades(
                          this._towerType
                        )),
                          this._tower.towerEvents.on(
                            c[c.Tower_Upgraded],
                            this.towerUpgraded,
                            this
                          );
                      }),
                      (i.onDisable = function () {
                        this._tower.towerEvents.off(
                          c[c.Tower_Upgraded],
                          this.towerUpgraded,
                          this
                        );
                      }),
                      (i.towerUpgraded = function (e) {
                        var t = this._upgradesData.getDataProgressionFor(e);
                        this.setUpgradeData(t);
                      }),
                      (i.setUpgradeData = function (e) {
                        var t = this._tower.upgrades.find(function (t) {
                          return t.nextStateID === e.id;
                        }).modelNode;
                        t !== this._currentModel &&
                          (this._currentModel &&
                            (this._currentModel.active = !1),
                          (t.active = !0),
                          (this._currentModel = t)),
                          u.emitEvents(this._setDamage, e.damage),
                          u.emitEvents(
                            this._setShootFrequency,
                            e.shootFrequency
                          );
                      }),
                      t
                    );
                  })(l)).prototype,
                  "_tower",
                  [h],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (m = t(b.prototype, "_towerType", [_], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return w.GunTower;
                  },
                })),
                (U = t(b.prototype, "_setDamage", [y], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (E = t(b.prototype, "_setShootFrequency", [v], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (T = b))
              ) || T)
          ) || T)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BaseUpgrade.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var r, t, i, s;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor), (t = e.initializerDefineProperty);
        },
        function (e) {
          (i = e.cclegacy), (s = e._decorator);
        },
      ],
      execute: function () {
        var c, o, a, n, p;
        i._RF.push({}, "1622fEPcdZFD7sEqE0kDOrS", "BaseUpgrade", void 0);
        var u = s.ccclass,
          l = s.property;
        e(
          "BaseUpgrade",
          ((c = u("BaseUpgrade")),
          (o = l({ visible: !0 })),
          c(
            ((p = r(
              (n = function (e) {
                t(this, "cost", p, this), (this.cost = e ? e.cost : 0);
              }).prototype,
              "cost",
              [o],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (a = n))
          ) || a)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BitLine.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, i, a, s, n, l, o, c, p;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (n = e.cclegacy),
            (l = e._decorator),
            (o = e.Material),
            (c = e.renderer),
            (p = e.Line);
        },
      ],
      execute: function () {
        var u, d, _, h, g;
        n._RF.push({}, "12290cr8jJAjbgZr/tKZ9ku", "BitLine", void 0);
        var m = l.ccclass,
          f = l.property;
        e(
          "BitLine",
          ((u = m("BitLine")),
          (d = f({ visible: !0, type: o })),
          u(
            ((g = t(
              (h = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, s = new Array(r), n = 0;
                    n < r;
                    n++
                  )
                    s[n] = arguments[n];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_material2", g, a(t)),
                    (t._progressHandle = -1),
                    t
                  );
                }
                r(t, e);
                var n = t.prototype;
                return (
                  (n.onLoad = function () {
                    e.prototype.onLoad.call(this),
                      (this._material = this._material2);
                    var t = new c.MaterialInstance({
                      parent: this._material2,
                      subModelIdx: 0,
                    });
                    t.recompileShaders({ CC_USE_WORLD_SPACE: this.worldSpace }),
                      this._model.updateMaterial(t);
                  }),
                  (n.setProgress = function (e) {
                    this._material2.setProperty("progress", e);
                    var t = new c.MaterialInstance({
                      parent: this._material2,
                      subModelIdx: 0,
                    });
                    t.recompileShaders({ CC_USE_WORLD_SPACE: this.worldSpace }),
                      this._model.updateMaterial(t);
                  }),
                  s(t, [
                    {
                      key: "material",
                      get: function () {
                        return this._material2;
                      },
                    },
                    {
                      key: "progressHandle",
                      get: function () {
                        return (
                          this._progressHandle < 0 &&
                            (this._progressHandle =
                              this._material2.passes[0].getHandle("progress")),
                          this._progressHandle
                        );
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_material2",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (_ = h))
          ) || _)
        );
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/BlockEvents.ts", ["cc"], function (e) {
  "use strict";
  var t;
  return {
    setters: [
      function (e) {
        t = e.cclegacy;
      },
    ],
    execute: function () {
      var c;
      e("BlockEvents", void 0),
        t._RF.push({}, "b39a3s/6NxL14XhSf774pIz", "BlockEvents", void 0),
        (function (e) {
          (e[(e.Block_SpawnCreated = 0)] = "Block_SpawnCreated"),
            (e[(e.Block_CubeTowerCreated = 1)] = "Block_CubeTowerCreated"),
            (e[(e.Block_SlotCreated = 2)] = "Block_SlotCreated");
        })(c || (c = e("BlockEvents", {}))),
        t._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/BoundaryBlock.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseBlock.ts"],
  function (t) {
    "use strict";
    var e, o, i, n, l, r, a, c, s, u;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (o = t.initializerDefineProperty),
            (i = t.inheritsLoose),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (l = t.cclegacy),
            (r = t._decorator),
            (a = t.Node),
            (c = t.Enum),
            (s = t.randomRangeInt);
        },
        function (t) {
          u = t.BaseBlock;
        },
      ],
      execute: function () {
        var f, B, p, b, k, h, d, g, m, v, y, D, _, N, R, T, L, z;
        t("BoundaryBlockSide", void 0),
          l._RF.push({}, "78c1blW921HzpFUNin1bCvq", "BoundaryBlock", void 0);
        var w,
          S = r.ccclass,
          F = r.property;
        !(function (t) {
          (t[(t.None = 0)] = "None"),
            (t[(t.Left = 1)] = "Left"),
            (t[(t.Right = 2)] = "Right"),
            (t[(t.Top = 3)] = "Top"),
            (t[(t.Bottom = 4)] = "Bottom"),
            (t[(t.LeftTop = 5)] = "LeftTop"),
            (t[(t.LeftBottom = 6)] = "LeftBottom"),
            (t[(t.RightTop = 7)] = "RightTop"),
            (t[(t.RightBottom = 8)] = "RightBottom");
        })(w || (w = t("BoundaryBlockSide", {})));
        var C = t(
          "BoundaryBlockData",
          ((f = S("BoundaryBlockData")),
          (B = F({ visible: !0, type: [a] })),
          (p = F({ visible: !0, type: c(w) })),
          f(
            ((h = e(
              (k = function () {
                o(this, "blockNodes", h, this), o(this, "blockSide", d, this);
              }).prototype,
              "blockNodes",
              [B],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (d = e(k.prototype, "blockSide", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return w.None;
              },
            })),
            (b = k))
          ) || b)
        );
        t(
          "BoundaryBlock",
          ((g = S("BoundaryBlock")),
          (m = F({ visible: !0, type: C })),
          (v = F({ visible: !0, type: C })),
          (y = F({ visible: !0, type: C })),
          (D = F({ visible: !0, type: C })),
          g(
            ((R = e(
              (N = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, l = new Array(i), r = 0;
                    r < i;
                    r++
                  )
                    l[r] = arguments[r];
                  return (
                    (e = t.call.apply(t, [this].concat(l)) || this),
                    o(e, "_leftBlocksData", R, n(e)),
                    o(e, "_rightBlocksData", T, n(e)),
                    o(e, "_topBlocksData", L, n(e)),
                    o(e, "_bottomBlocksData", z, n(e)),
                    e
                  );
                }
                i(e, t);
                var l = e.prototype;
                return (
                  (l.initialize = function (t) {
                    if (
                      t === w.Left ||
                      t === w.Right ||
                      t === w.Top ||
                      t === w.Bottom
                    ) {
                      var e = this.getBlocks(t, this),
                        o = s(0, e.blockNodes.length / 2);
                      e.blockNodes[o].active = !0;
                      var i = s(
                        e.blockNodes.length / 2 + 1,
                        e.blockNodes.length
                      );
                      e.blockNodes[i].active = !0;
                    } else if (t === w.LeftBottom) {
                      var n = this._leftBlocksData.blockNodes.filter(function (
                        t
                      ) {
                        return t.name.includes(" Bottom");
                      });
                      n[s(0, n.length)].active = !0;
                    } else if (t === w.LeftTop) {
                      var l = this._leftBlocksData.blockNodes.filter(function (
                        t
                      ) {
                        return t.name.includes(" Top");
                      });
                      l[s(0, l.length)].active = !0;
                    } else if (t === w.RightBottom) {
                      var r = this._rightBlocksData.blockNodes.filter(function (
                        t
                      ) {
                        return t.name.includes(" Bottom");
                      });
                      r[s(0, r.length)].active = !0;
                    } else if (t === w.RightTop) {
                      var a = this._rightBlocksData.blockNodes.filter(function (
                        t
                      ) {
                        return t.name.includes(" Top");
                      });
                      a[s(0, a.length)].active = !0;
                    }
                  }),
                  (l.getBlocks = function (t, e) {
                    if (t === w.Left) return e._leftBlocksData;
                    if (t === w.Right) return e._rightBlocksData;
                    if (t === w.Top) return e._topBlocksData;
                    if (t === w.Bottom) return e._bottomBlocksData;
                    throw (
                      "Couldn't find blocks data for " +
                      t +
                      " at " +
                      this.node.name
                    );
                  }),
                  e
                );
              })(u)).prototype,
              "_leftBlocksData",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (T = e(N.prototype, "_rightBlocksData", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (L = e(N.prototype, "_topBlocksData", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (z = e(N.prototype, "_bottomBlocksData", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (_ = N))
          ) || _)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BundleLoader.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (e) {
    "use strict";
    var n, o, t, u, r, l, s, i;
    return {
      setters: [
        function (e) {
          n = e.createClass;
        },
        function (e) {
          (o = e.cclegacy), (t = e.game), (u = e.Game), (r = e.assetManager);
        },
        function (e) {
          (l = e.logger), (s = e.LogCategory), (i = e.LogType);
        },
      ],
      execute: function () {
        o._RF.push({}, "b490coHWZtDMp7Mxm8md+zX", "BundleLoader", void 0);
        e(
          "BundleLoader",
          (function () {
            function e(e) {
              var n = this;
              (this._bundle = null),
                t.on(
                  u.EVENT_GAME_INITED,
                  function () {
                    r.loadBundle(e, n.onLoadComplete.bind(n));
                  },
                  this
                );
            }
            return (
              (e.prototype.onLoadComplete = function (e, n) {
                null != e && l.log(e.message, s.Generic, i.Error),
                  (this._bundle = n),
                  this.onBundleLoaded();
              }),
              n(e, [
                {
                  key: "bundle",
                  get: function () {
                    return this._bundle;
                  },
                },
              ]),
              e
            );
          })()
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/BurnSpecial.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Enemy.ts",
    "./TimeScale.ts",
    "./BaseSpecial.ts",
  ],
  function (e) {
    "use strict";
    var i, t, n, r, a, s, o, l, c, u, h, f, m, _, d;
    return {
      setters: [
        function (e) {
          (i = e.createClass),
            (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (s = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (o = e.cclegacy),
            (l = e._decorator),
            (c = e.Collider),
            (u = e.ParticleSystem),
            (h = e.EventHandler),
            (f = e.game);
        },
        function (e) {
          m = e.Enemy;
        },
        function (e) {
          _ = e.timeScale;
        },
        function (e) {
          d = e.BaseSpecial;
        },
      ],
      execute: function () {
        var p, v, g, b, y, T, E, B, S, D, k, P, C;
        o._RF.push({}, "49a11a/LjxMzoQg6t3SZkfy", "BurnSpecial", void 0);
        var x = l.ccclass,
          z = l.property,
          O = e(
            "BurnEnemyData",
            (function () {
              function e(e) {
                (this._enemy = null),
                  (this._lastDamageTime = 0),
                  (this._enemy = e),
                  (this._lastDamageTime = f.frameStartTime / 1e3);
              }
              return (
                i(e, [
                  {
                    key: "enemy",
                    get: function () {
                      return this._enemy;
                    },
                  },
                  {
                    key: "lastDamageTime",
                    get: function () {
                      return this._lastDamageTime;
                    },
                  },
                ]),
                e
              );
            })()
          );
        e(
          "BurnSpecial",
          ((p = x("BurnSpecial")),
          (v = z({ visible: !0, type: c })),
          (g = z({ visible: !0, unit: "damage/s" })),
          (b = z({ visible: !0 })),
          (y = z({ visible: !0, type: [u] })),
          (T = z({ visible: !0, type: [h] })),
          p(
            ((S = t(
              (B = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, n = new Array(t), s = 0;
                    s < t;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (i = e.call.apply(e, [this].concat(n)) || this),
                    r(i, "_collider", S, a(i)),
                    r(i, "_dmg", D, a(i)),
                    r(i, "_duration", k, a(i)),
                    (i._durationAcc = 0),
                    (i._startTime = 0),
                    (i._enemies = []),
                    (i._active = !0),
                    (i._finishCallbacks = null),
                    (i._finished = !1),
                    r(i, "_burnParticles", P, a(i)),
                    r(i, "_onPreFinishBurn", C, a(i)),
                    (i._bkpEmission = []),
                    i
                  );
                }
                n(i, e);
                var t = i.prototype;
                return (
                  (t.onEnable = function () {
                    this._enemies.splice(0, this._enemies.length),
                      this._collider.on(
                        "onTriggerEnter",
                        this.onTriggerEnter,
                        this
                      ),
                      this._collider.on(
                        "onTriggerExit",
                        this.onTriggerExit,
                        this
                      ),
                      (this._durationAcc = 0),
                      (this._startTime = f.frameStartTime / 1e3),
                      (this._active = !0);
                    for (var e, i = s(this._burnParticles); !(e = i()).done; ) {
                      var t = e.value;
                      this._bkpEmission.push({
                        key: t,
                        timeRate: t.rateOverTime.constant,
                        distanceRate: t.rateOverDistance.constant,
                        bursts: t.bursts,
                      });
                    }
                  }),
                  (t.onDisable = function () {
                    this._collider.off(
                      "onTriggerEnter",
                      this.onTriggerEnter,
                      this
                    ),
                      this._collider.off(
                        "onTriggerExit",
                        this.onTriggerExit,
                        this
                      );
                  }),
                  (t.update = function (e) {
                    var i = e * _.current;
                    if (this._active) {
                      this._durationAcc += i;
                      f.frameStartTime;
                      if (
                        !this._finished &&
                        this._durationAcc >= this._duration
                      )
                        this.preFinishBurn();
                      else
                        for (
                          var t = this._dmg * i, n = this._enemies.length - 1;
                          n >= 0;
                          n--
                        ) {
                          var r = this._enemies[n];
                          r.enemy.isValid
                            ? r.enemy.damage(t)
                            : this._enemies.splice(n, 1);
                        }
                    }
                  }),
                  (t.initialize = function (e) {
                    var i = this;
                    (this._finishCallbacks = e), (this.node.active = !0);
                    for (
                      var t,
                        n = function () {
                          var e = t.value;
                          if (
                            0 === e.rateOverTime.constant &&
                            0 === e.rateOverDistance.constant
                          ) {
                            var n = i._bkpEmission.find(function (i) {
                              return i.key === e;
                            });
                            (e.rateOverTime.constant = n.timeRate),
                              (e.rateOverDistance.constant = n.distanceRate);
                          }
                          e.play();
                        },
                        r = s(this._burnParticles);
                      !(t = r()).done;

                    )
                      n();
                  }),
                  (t.preFinishBurn = function () {
                    this._finished = !0;
                    for (var e, i = s(this._burnParticles); !(e = i()).done; ) {
                      var t = e.value;
                      (t.rateOverTime.constant = 0),
                        (t.rateOverDistance.constant = 0);
                    }
                    h.emitEvents(this._onPreFinishBurn);
                  }),
                  (t.finishBurn = function () {
                    (this._active = !1),
                      (this._finished = !1),
                      this._finishCallbacks(),
                      (this.node.active = !1);
                    for (var e, i = s(this._burnParticles); !(e = i()).done; ) {
                      e.value.stop();
                    }
                  }),
                  (t.onTriggerEnter = function (e) {
                    if (null !== e.otherCollider) {
                      var i = e.otherCollider.node.getComponent(m);
                      if (i)
                        -1 ===
                          this._enemies.findIndex(function (e) {
                            return e.enemy === i;
                          }) && this._enemies.push(new O(i));
                    }
                  }),
                  (t.onTriggerExit = function (e) {
                    if (null !== e.otherCollider) {
                      var i = e.otherCollider.node.getComponent(m);
                      if (i) {
                        var t = this._enemies.findIndex(function (e) {
                          return e.enemy === i;
                        });
                        -1 !== t && this._enemies.splice(t);
                      }
                    }
                  }),
                  i
                );
              })(d)).prototype,
              "_collider",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (D = t(B.prototype, "_dmg", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (k = t(B.prototype, "_duration", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (P = t(B.prototype, "_burnParticles", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(B.prototype, "_onPreFinishBurn", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (E = B))
          ) || E)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ButtonHelper.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (t) {
    "use strict";
    var e, n, i, o, r, a, l, c, u, s;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (o = t.assertThisInitialized);
        },
        function (t) {
          (r = t.cclegacy),
            (a = t._decorator),
            (l = t.Button),
            (c = t.EventHandler),
            (u = t.Component);
        },
        function (t) {
          s = t.logger;
        },
      ],
      execute: function () {
        var p, b, f, v, h, y, _, g, C, d;
        r._RF.push({}, "b2629pBo9BDtrAXL8hN6QoS", "ButtonHelper", void 0);
        var m = a.ccclass,
          B = a.property,
          k = a.requireComponent;
        t(
          "ButtonHelper",
          ((p = m("ButtonHelper")),
          (b = k(l)),
          (f = B({ visible: !0, type: l })),
          (v = B({ visible: !0, type: [c] })),
          (h = B({ visible: !0, type: [c] })),
          p(
            (y =
              b(
                ((g = e(
                  (_ = (function (t) {
                    function e() {
                      for (
                        var e, n = arguments.length, r = new Array(n), a = 0;
                        a < n;
                        a++
                      )
                        r[a] = arguments[a];
                      return (
                        (e = t.call.apply(t, [this].concat(r)) || this),
                        i(e, "_button", g, o(e)),
                        i(e, "_onActivateClick", C, o(e)),
                        i(e, "_onDeactivateClick", d, o(e)),
                        e
                      );
                    }
                    n(e, t);
                    var r = e.prototype;
                    return (
                      (r.onLoad = function () {
                        null === this._button &&
                          (this._button = this.node.getComponent(l));
                      }),
                      (r.setInteractable = function (t, e) {
                        void 0 === t
                          ? ("boolean" == typeof e || "string" == typeof e) &&
                            this.setInteractable(e)
                          : "string" == typeof t
                          ? "false" === t
                            ? this.setInteractable(!1)
                            : "true" === t
                            ? this.setInteractable(!0)
                            : s.log("Can't parse value: " + t)
                          : this._button.interactable !== t &&
                            ((this._button.interactable = t),
                            t
                              ? c.emitEvents(this._onActivateClick)
                              : c.emitEvents(this._onDeactivateClick));
                      }),
                      e
                    );
                  })(u)).prototype,
                  "_button",
                  [f],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (C = e(_.prototype, "_onActivateClick", [v], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (d = e(_.prototype, "_onDeactivateClick", [h], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (y = _))
              ) || y)
          ) || y)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CannonTowerAttack.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./PrefabPool.ts",
    "./BurnSpecial.ts",
    "./ProjectileTowerAttack.ts",
  ],
  function (e) {
    "use strict";
    var n, t, o, i, r, a, l, s, u, c, d, f, p, g;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (r = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (s = e.Prefab),
            (u = e.Vec2),
            (c = e.Vec3);
        },
        function (e) {
          d = e.logger;
        },
        function (e) {
          f = e.PrefabPool;
        },
        function (e) {
          p = e.BurnSpecial;
        },
        function (e) {
          g = e.ProjectileTowerAttack;
        },
      ],
      execute: function () {
        var _, v, m, w, y, b, h;
        a._RF.push({}, "a7f6bBnGXlLbINkQ05pYpA3", "CannonTowerAttack", void 0);
        var P = l.ccclass,
          T = l.property;
        e(
          "CannonTowerAttack",
          ((_ = P("CannonTowerAttack")),
          (v = T({ visible: !0 })),
          (m = T({ visible: !0, type: s })),
          _(
            ((b = n(
              (y = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, r = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    r[a] = arguments[a];
                  return (
                    (n = e.call.apply(e, [this].concat(r)) || this),
                    o(n, "_explosionRadius", b, i(n)),
                    (n._cannonRange = null),
                    (n._hasBurnEffect = !1),
                    o(n, "_burnSpecialPrefab", h, i(n)),
                    n
                  );
                }
                t(n, e);
                var a = n.prototype;
                return (
                  (a.getBurnSpecial = function () {
                    var e = this,
                      n = f.instance.getInScene(this._burnSpecialPrefab);
                    return (
                      n.getComponent(p).initialize(function () {
                        f.instance.put(e._burnSpecialPrefab, n);
                      }),
                      n
                    );
                  }),
                  (a.onLoad = function () {
                    e.prototype.onLoad.call(this),
                      f.instance.initialize(
                        this._burnSpecialPrefab,
                        this.name,
                        5
                      );
                  }),
                  (a.updateTargets = function (e) {
                    var n = this,
                      t = 0;
                    for (t = n._targets.length - 1; t >= 0; t--) {
                      var o,
                        i = this._targets[t];
                      if (null === i || null === i.node)
                        if ((n._targets.splice(t, 1), n._debug))
                          d.log(
                            "Tower Attack: Enemy invalid " +
                              (null == i ? void 0 : i.enemyID) +
                              " " +
                              (null == i || null == (o = i.node)
                                ? void 0
                                : o.uuid)
                          );
                    }
                    var a = function () {
                      var e,
                        o,
                        i,
                        r,
                        a,
                        l,
                        s = n._trackedEnemies[t],
                        c = n._targets.findIndex(function (e) {
                          return e === s;
                        }),
                        f = u.distance(
                          new u(
                            n._towerNode.worldPosition.x,
                            n._towerNode.worldPosition.z
                          ),
                          null !=
                            (e = new u(
                              null == s ||
                              null == (o = s.node) ||
                              null == (i = o.worldPosition)
                                ? void 0
                                : i.x,
                              null == s ||
                              null == (r = s.node) ||
                              null == (a = r.worldPosition)
                                ? void 0
                                : a.z
                            ))
                            ? e
                            : u.ZERO
                        ),
                        p =
                          void 0 !==
                          n._cdTargets.find(function (e) {
                            return e === n._targets[t];
                          });
                      null === s || null === s.node
                        ? (n._trackedEnemies.splice(t, 1),
                          -1 !== c && n._targets.splice(c, 1),
                          n._debug &&
                            d.log(
                              "Tower Attack: Enemy invalid " +
                                (null == s ? void 0 : s.enemyID) +
                                " " +
                                (null == s || null == (l = s.node)
                                  ? void 0
                                  : l.uuid)
                            ))
                        : -1 === c ||
                          (f >= n._cannonRange.min && f <= n._cannonRange.max)
                        ? -1 !== c && p
                          ? (n._targets.splice(c, 1),
                            n._debug &&
                              d.log(
                                "Tower Attack: Target on CD " +
                                  s.enemyID +
                                  " " +
                                  s.node.uuid
                              ))
                          : -1 === c &&
                            !p &&
                            f >= n._cannonRange.min &&
                            f <= n._cannonRange.max &&
                            (n._targets.push(s),
                            n._debug &&
                              d.log(
                                "Tower Attack: New Target " +
                                  s.enemyID +
                                  " " +
                                  s.node.uuid
                              ))
                        : (n._targets.splice(c, 1),
                          n._debug &&
                            d.log(
                              "Tower Attack: Target left area " +
                                s.enemyID +
                                " " +
                                s.node.uuid
                            ));
                    };
                    for (t = n._trackedEnemies.length - 1; t >= 0; t--) a();
                    for (
                      var l,
                        s = function () {
                          var e = l.value;
                          if (null !== e.enemy && !e.invalidEnemy) {
                            var t = e.enemy.isValid,
                              o =
                                void 0 !==
                                n._cdTargets.find(function (n) {
                                  return n === e.enemy;
                                }),
                              i =
                                void 0 !==
                                n._targets.find(function (n) {
                                  return n === e.enemy;
                                });
                            (t && !(!o && !i)) || e.setInvalidEnemy();
                          }
                        },
                        c = r(n._attackUnits);
                      !(l = c()).done;

                    )
                      s();
                    n.assingTargetsToGuns(
                      n.node,
                      n.targetChooser,
                      n._attackUnits,
                      n._targets
                    );
                  }),
                  (a.getDamageTargets = function (e, n) {
                    var t = [e];
                    return t.push.apply(t, n.getEnemiesInEplosionRange(e)), t;
                  }),
                  (a.applySpecials = function (e, n) {
                    n._hasBurnEffect && n.applyBurnEffect(e);
                  }),
                  (a.setRange = function (n) {
                    "number" == typeof n
                      ? e.prototype.setRange.call(this, n)
                      : "object" == typeof n &&
                        void 0 !== n.min &&
                        void 0 !== n.max &&
                        (this._cannonRange = n);
                  }),
                  (a.setExplosionRange = function (e) {
                    this._explosionRadius = e;
                  }),
                  (a.getEnemiesInEplosionRange = function (e) {
                    for (
                      var n,
                        t = [],
                        o = "Enemies in range:",
                        i = r(this._trackedEnemies);
                      !(n = i()).done;

                    ) {
                      var a = n.value;
                      if (a !== e)
                        u.distance(
                          new u(e.node.worldPosition.x, e.node.worldPosition.z),
                          new u(a.node.worldPosition.x, a.node.worldPosition.z)
                        ) <= this._explosionRadius &&
                          (t.push(a),
                          (o += "\n" + a.node.name + " (" + a.node.uuid + ")"));
                    }
                    return this._debug && d.log(o), t;
                  }),
                  (a.setBurn = function (e) {
                    "string" == typeof e
                      ? "true" === e.toLowerCase()
                        ? this.setBurn(!0)
                        : "false" === e.toLowerCase() && this.setBurn(!1)
                      : "boolean" == typeof e && (this._hasBurnEffect = e);
                  }),
                  (a.applyBurnEffect = function (e) {
                    var n = this.getBurnSpecial(),
                      t = new c(
                        e.node.worldPosition.x,
                        0.5,
                        e.node.worldPosition.z
                      );
                    n.setPosition(t);
                  }),
                  n
                );
              })(g)).prototype,
              "_explosionRadius",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (h = n(y.prototype, "_burnSpecialPrefab", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (w = y))
          ) || w)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CannonTowerProgressionData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./CannonTowerUpgradeData.ts",
    "./BaseTowerProgressionData.ts",
  ],
  function (r) {
    "use strict";
    var o, n, e, t, a, s;
    return {
      setters: [
        function (r) {
          (o = r.inheritsLoose),
            (n = r.createClass),
            (e = r.createForOfIteratorHelperLoose);
        },
        function (r) {
          t = r.cclegacy;
        },
        function (r) {
          a = r.CannonTowerUpgradeData;
        },
        function (r) {
          s = r.BaseTowerProgressionData;
        },
      ],
      execute: function () {
        t._RF.push(
          {},
          "0d8d7UqZhxKyLn4ehLKjv6R",
          "CannonTowerProgressionData",
          void 0
        );
        r(
          "CannonTowerProgressionData",
          (function (r) {
            function t(o) {
              var n;
              (n = r.call(this) || this)._progressionData = [];
              for (var t, s = e(o.progression); !(t = s()).done; ) {
                var i = t.value;
                n._progressionData.push(new a(i));
              }
              return n;
            }
            return (
              o(t, r),
              (t.prototype.getDataProgressionFor = function (r) {
                return this._progressionData.find(function (o) {
                  return o.id === r;
                });
              }),
              n(t, [
                {
                  key: "progressionData",
                  get: function () {
                    return [].concat(this._progressionData);
                  },
                },
              ]),
              t
            );
          })(s)
        );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CannonTowerShootVFX.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./PrefabPool.ts",
    "./TimeScale.ts",
    "./AttackVFXTriggers.ts",
    "./BaseShootVFX.ts",
  ],
  function (e) {
    "use strict";
    var n, t, o, r, i, a, l, u, c, s, p, f, m, b, d, v, h, w, y, g;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (i = e.createForOfIteratorHelperLoose),
            (a = e.asyncToGenerator);
        },
        function (e) {
          (l = e.cclegacy),
            (u = e._decorator),
            (c = e.Prefab),
            (s = e.Node),
            (p = e.EventHandler),
            (f = e.ParticleSystem),
            (m = e.tween),
            (b = e.Vec3),
            (d = e.math),
            (v = e.game);
        },
        function (e) {
          h = e.PrefabPool;
        },
        function (e) {
          w = e.timeScale;
        },
        function (e) {
          y = e.AttackVFXTriggers;
        },
        function (e) {
          g = e.BaseShootVFX;
        },
      ],
      execute: function () {
        var P, _, S, T, z, x, V, F, B, X, C, k, I, R, D;
        l._RF.push(
          {},
          "97706eZG7NIeIhTP7rVP1by",
          "CannonTowerShootVFX",
          void 0
        );
        var H = u.ccclass,
          N = u.property;
        e(
          "CannonTowerShootVFX",
          ((P = H("CannonTowerShootVFX")),
          (_ = N({ visible: !0, type: c })),
          (S = N({ visible: !0 })),
          (T = N({ visible: !0 })),
          (z = N({ visible: !0 })),
          (x = N({ visible: !0, type: s })),
          (V = N({ visible: !0, type: [p] })),
          P(
            ((X = n(
              (B = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, i = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    i[a] = arguments[a];
                  return (
                    (n = e.call.apply(e, [this].concat(i)) || this),
                    o(n, "_commonBulletPrefab", X, r(n)),
                    o(n, "_commonBulletTime", C, r(n)),
                    o(n, "_cannonBallMaxHeight", k, r(n)),
                    o(n, "_upDurationRatio", I, r(n)),
                    o(n, "_bulletSpawnNode", R, r(n)),
                    o(n, "_onShoot", D, r(n)),
                    n
                  );
                }
                t(n, e);
                var l = n.prototype;
                return (
                  (l.onLoad = function () {
                    h.instance.initialize(
                      this._commonBulletPrefab,
                      this.name,
                      5
                    );
                  }),
                  (l.startShootVFX = function (e, n) {
                    if (!e.isValid) throw "Invalid Target";
                    var t = this,
                      o = t.shootVFX,
                      r = h.instance.getInScene(o);
                    r.setWorldPosition(t._bulletSpawnNode.worldPosition),
                      (r.active = !0);
                    var l = r.getComponent(y);
                    l.activate();
                    var u = e.node.worldPosition.clone(),
                      c = t._bulletSpawnNode.worldPosition.clone(),
                      s = c.y + t._cannonBallMaxHeight,
                      g = t._upDurationRatio;
                    p.emitEvents(t._onShoot);
                    var P = r.getComponentsInChildren(f).filter(function (e) {
                      return e.playOnAwake;
                    });
                    m(r)
                      .to(t._commonBulletTime / w.current, null, {
                        onStart: function (e) {
                          for (var n, t = i(P); !(n = t()).done; ) {
                            var o = n.value;
                            o.playOnAwake && o.play();
                          }
                        },
                        onUpdate: function (n, t) {
                          var o = new b();
                          if (
                            (e.isValid
                              ? ((o.x = d.lerp(c.x, e.node.worldPosition.x, t)),
                                (o.z = d.lerp(c.z, e.node.worldPosition.z, t)),
                                (u = e.node.worldPosition.clone()))
                              : ((o.x = d.lerp(c.x, u.x, t)),
                                (o.z = d.lerp(c.z, u.z, t))),
                            t <= g)
                          ) {
                            var r = (1 - (1 - t) * (1 - t)) / 0.75;
                            o.y = d.lerp(c.y, s, r);
                          } else {
                            var i = ((t - 0.5) * (t - 0.5)) / 0.25;
                            o.y = d.lerp(s, 1, d.lerp(0, 1, i * i));
                          }
                          n.setWorldPosition(o);
                        },
                        onComplete: function (e) {
                          return a(
                            regeneratorRuntime.mark(function e() {
                              var t, a, u;
                              return regeneratorRuntime.wrap(function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      for (t = i(P); !(a = t()).done; )
                                        (u = a.value).isPlaying && u.stop();
                                      l.collided(), n();
                                    case 3:
                                      if (
                                        null === l.node ||
                                        !l.isCollisionParticlesPlaying
                                      ) {
                                        e.next = 8;
                                        break;
                                      }
                                      return (
                                        (e.next = 6),
                                        new Promise(function (e) {
                                          return setTimeout(e, v.frameTime);
                                        })
                                      );
                                    case 6:
                                      e.next = 3;
                                      break;
                                    case 8:
                                      null !== l.node &&
                                        (h.instance.put(o, r), (r.active = !1));
                                    case 9:
                                    case "end":
                                      return e.stop();
                                  }
                              }, e);
                            })
                          )();
                        },
                      })
                      .start();
                  }),
                  n
                );
              })(g)).prototype,
              "_commonBulletPrefab",
              [_],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (C = n(B.prototype, "_commonBulletTime", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (k = n(B.prototype, "_cannonBallMaxHeight", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (I = n(B.prototype, "_upDurationRatio", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0.5;
              },
            })),
            (R = n(B.prototype, "_bulletSpawnNode", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (D = n(B.prototype, "_onShoot", [V], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (F = B))
          ) || F)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CannonTowerUpgradeData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTowerUpgradeData.ts"],
  function (e) {
    "use strict";
    var n, r, t, a;
    return {
      setters: [
        function (e) {
          (n = e.inheritsLoose), (r = e.createClass);
        },
        function (e) {
          t = e.cclegacy;
        },
        function (e) {
          a = e.BaseTowerUpgradeData;
        },
      ],
      execute: function () {
        t._RF.push(
          {},
          "64843gSz3RIBK+bXgWvR6sz",
          "CannonTowerUpgradeData",
          void 0
        );
        e(
          "CannonTowerUpgradeData",
          (function (e) {
            function t(n) {
              var r;
              ((r = e.call(this, n) || this)._range = null),
                (r._ccTargets = 0),
                (r._burn = !1),
                (r._explosionRange = 0);
              var t = n.range;
              return (
                (r._range = { min: t.min, max: t.max }),
                (r._ccTargets = n.ccTargets),
                (r._burn = n.burn),
                (r._explosionRange = n.explosionRange),
                r
              );
            }
            return (
              n(t, e),
              r(t, [
                {
                  key: "range",
                  get: function () {
                    return this._range;
                  },
                },
                {
                  key: "ccTargets",
                  get: function () {
                    return this._ccTargets;
                  },
                },
                {
                  key: "burn",
                  get: function () {
                    return this._burn;
                  },
                },
                {
                  key: "explosionRange",
                  get: function () {
                    return this._explosionRange;
                  },
                },
              ]),
              t
            );
          })(a)
        );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CannonTowerUpgradeHandler.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./BaseTowerUpgradeHandler.ts",
    "./CannonTowerUpgradeData.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, a, i, o, s, l, p;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (a = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy), (o = e._decorator), (s = e.EventHandler);
        },
        function (e) {
          l = e.BaseTowerUpgradeHandler;
        },
        function (e) {
          p = e.CannonTowerUpgradeData;
        },
      ],
      execute: function () {
        var c, u, g, d, f, b, y, _, v, w, T;
        i._RF.push(
          {},
          "0839b4XFnBGtI9sWdMf7EcQ",
          "CannonTowerUpgradeHandler",
          void 0
        );
        var h = o.ccclass,
          C = o.property;
        e(
          "CannonTowerUpgradeHandler",
          ((c = h("CannonTowerUpgradeHandler")),
          (u = C({ visible: !0, type: [s] })),
          (g = C({ visible: !0, type: [s] })),
          (d = C({ visible: !0, type: [s] })),
          (f = C({ visible: !0, type: [s] })),
          c(
            ((_ = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, i = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    i[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    r(t, "_setRange", _, a(t)),
                    r(t, "_setExplosionRange", v, a(t)),
                    r(t, "_setCCTargets", w, a(t)),
                    r(t, "_setBurn", T, a(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.setUpgradeData = function (t) {
                    e.prototype.setUpgradeData.call(this, t),
                      t instanceof p &&
                        (s.emitEvents(this._setRange, t.range),
                        s.emitEvents(this._setExplosionRange, t.explosionRange),
                        s.emitEvents(this._setCCTargets, t.ccTargets),
                        s.emitEvents(this._setBurn, t.burn));
                  }),
                  t
                );
              })(l)).prototype,
              "_setRange",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (v = t(y.prototype, "_setExplosionRange", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (w = t(y.prototype, "_setCCTargets", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(y.prototype, "_setBurn", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (b = y))
          ) || b)
        );
        i._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/ChainSpecial.ts", ["cc"], function (e) {
  "use strict";
  var c;
  return {
    setters: [
      function (e) {
        c = e.cclegacy;
      },
    ],
    execute: function () {
      c._RF.push({}, "e25f9eRWL9LQYyfC6ftE65W", "ChainSpecial", void 0);
      e("ChainSpecial", function () {});
      c._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/ChainSpecialData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, i, a, r, n;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.createClass),
            (a = t.initializerDefineProperty);
        },
        function (t) {
          (r = t.cclegacy), (n = t._decorator);
        },
      ],
      execute: function () {
        var c, s, o, u, l, p, f;
        r._RF.push({}, "3cac0MVaV9EFbfFCnJOgLQO", "ChainSpecialData", void 0);
        var h = n.ccclass,
          g = n.property;
        t(
          "ChainSpecialData",
          ((c = h("ChainSpecialData")),
          (s = g({ visible: !0 })),
          (o = g({ visible: !0 })),
          c(
            ((p = e(
              (l = (function () {
                function t(t, e) {
                  a(this, "_targets", p, this),
                    a(this, "_distance", f, this),
                    (this._targets = t),
                    (this._distance = e);
                }
                return (
                  i(t, [
                    {
                      key: "targets",
                      get: function () {
                        return this._targets;
                      },
                    },
                    {
                      key: "distance",
                      get: function () {
                        return this._distance;
                      },
                    },
                  ]),
                  t
                );
              })()).prototype,
              "_targets",
              [s],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (f = e(l.prototype, "_distance", [o], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (u = l))
          ) || u)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ChangeTowerEntryTab.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TowerShopEntry.ts"],
  function (e) {
    "use strict";
    var t, r, n, i, o, s, a, c, u, l, p, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose),
            (s = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (c = e._decorator),
            (u = e.Node),
            (l = e.EventTouch),
            (p = e.Component);
        },
        function (e) {
          h = e.TowerShopEntry;
        },
      ],
      execute: function () {
        var f, y, T, b, v;
        a._RF.push(
          {},
          "29dcbqkeLJDCo7uiXlubGL/",
          "ChangeTowerEntryTab",
          void 0
        );
        var d = c.ccclass,
          g = c.property;
        e(
          "ChangeTowerEntryTab",
          ((f = d("ChangeTowerEntryTab")),
          (y = g({ visible: !0, type: [u] })),
          f(
            ((v = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_entriesNodes", v, i(t)),
                    (t._entries = null),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.setTab = function (e, t) {
                    if (e instanceof l) this.setTab(t);
                    else if ("string" == typeof e) {
                      var r = Number.parseInt(e);
                      this.setTab(r);
                    } else
                      for (var n, i = o(this.entries); !(n = i()).done; ) {
                        n.value.initializeTowerEntry(e);
                      }
                  }),
                  s(t, [
                    {
                      key: "entries",
                      get: function () {
                        if (null === this._entries) {
                          this._entries = [];
                          for (
                            var e, t = o(this._entriesNodes);
                            !(e = t()).done;

                          ) {
                            var r = e.value;
                            this._entries.push(r.getComponent(h));
                          }
                        }
                        return this._entries;
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_entriesNodes",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (T = b))
          ) || T)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CheatInfo.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, i, n, o, c, s, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (s = e._decorator), (a = e.Component);
        },
      ],
      execute: function () {
        var u, l, p, f, h;
        c._RF.push({}, "c99ab4sHxBIBJG6xEOLqr69", "CheatInfo", void 0);
        var d = s.ccclass,
          y = s.property;
        s.executionOrder,
          e(
            "CheatInfo",
            ((u = d("CheatInfo")),
            (l = y({ visible: !0, multiline: !0 })),
            u(
              ((h = t(
                (f = (function (e) {
                  function t() {
                    for (
                      var t, r = arguments.length, o = new Array(r), c = 0;
                      c < r;
                      c++
                    )
                      o[c] = arguments[c];
                    return (
                      (t = e.call.apply(e, [this].concat(o)) || this),
                      i(t, "_description", h, n(t)),
                      t
                    );
                  }
                  return (
                    r(t, e),
                    o(t, [
                      {
                        key: "description",
                        get: function () {
                          return this._description;
                        },
                      },
                    ]),
                    t
                  );
                })(a)).prototype,
                "_description",
                [l],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                }
              )),
              (p = f))
            ) || p)
          );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CheatInfoLogger.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./CheatInfo.ts"],
  function (o) {
    "use strict";
    var e, t, n, r, c, a;
    return {
      setters: [
        function (o) {
          (e = o.inheritsLoose), (t = o.createForOfIteratorHelperLoose);
        },
        function (o) {
          (n = o.cclegacy), (r = o._decorator), (c = o.Component);
        },
        function (o) {
          a = o.CheatInfo;
        },
      ],
      execute: function () {
        var s;
        n._RF.push({}, "000c51TwuJO376hxWHMUlLQ", "CheatInfoLogger", void 0);
        var i = r.ccclass,
          u = (r.property, r.executionOrder);
        o(
          "CheatInfoLogger",
          i("CheatInfoLogger")(
            (s =
              u(-2)(
                (s = (function (o) {
                  function n() {
                    return o.apply(this, arguments) || this;
                  }
                  return (
                    e(n, o),
                    (n.prototype.onLoad = function () {
                      for (
                        var o,
                          e = this.node.getComponentsInChildren(a),
                          n = "CHEATS ",
                          r = t(e);
                        !(o = r()).done;

                      ) {
                        n += "\n" + o.value.description;
                      }
                      console.log(
                        "%c " + n,
                        "background: #222; color: #bada55"
                      );
                    }),
                    n
                  );
                })(c))
              ) || s)
          ) || s
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CheatSetUnlockedLevels.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelsController.ts"],
  function (e) {
    "use strict";
    var t, n, o, l, s;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (o = e._decorator), (l = e.Component);
        },
        function (e) {
          s = e.levelsController;
        },
      ],
      execute: function () {
        var c;
        n._RF.push(
          {},
          "5b892GMDuVJUqwigM3kbnb9",
          "CheatSetUnlockedLevels",
          void 0
        );
        var r = o.ccclass;
        o.property,
          e(
            "CheatSetUnlockedLevels",
            r("CheatSetUnlockedLevels")(
              (c = (function (e) {
                function n() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  t(n, e),
                  (n.prototype.setUnlockedLevels = function () {
                    s.setUnlockLevels(s.levelsCount);
                  }),
                  n
                );
              })(l))
            ) || c
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ClosestToGoalTowerTargetChooser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./EnemyMovement.ts",
    "./BaseTowerTargetChooser.ts",
  ],
  function (o) {
    "use strict";
    var e, n, t, r, l;
    return {
      setters: [
        function (o) {
          e = o.inheritsLoose;
        },
        function (o) {
          (n = o.cclegacy), (t = o._decorator);
        },
        function (o) {
          r = o.EnemyMovement;
        },
        function (o) {
          l = o.BaseTowerTargetChooser;
        },
      ],
      execute: function () {
        var s;
        n._RF.push(
          {},
          "d9b9bef0lhJPpkTK435/cg4",
          "ClosestToGoalTowerTargetChooser",
          void 0
        );
        var a = t.ccclass;
        t.property,
          o(
            "ClosestToGoalTowerTargetChooser",
            a("ClosestToGoalTowerTargetChooser")(
              (s = (function (o) {
                function n() {
                  return o.apply(this, arguments) || this;
                }
                return (
                  e(n, o),
                  (n.prototype.chooseTarget = function (o) {
                    for (
                      var e,
                        n,
                        t = o[0].isValid ? o[0] : null,
                        l =
                          null !=
                          (e =
                            null == (n = o[0].node)
                              ? void 0
                              : n.getComponentInChildren(r))
                            ? e
                            : null,
                        s = 1;
                      s < o.length;
                      s++
                    ) {
                      var a,
                        u,
                        i =
                          null !=
                          (a =
                            null == (u = o[s].node)
                              ? void 0
                              : u.getComponentInChildren(r))
                            ? a
                            : null;
                      null !== i &&
                        (null === l || l.distanceToGoal > i.distanceToGoal) &&
                        ((t = o[s]), (l = i));
                    }
                    return t;
                  }),
                  n
                );
              })(l))
            ) || s
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ColumnDelayData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, i, r, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor), (i = e.initializerDefineProperty);
        },
        function (e) {
          (r = e.cclegacy), (a = e._decorator);
        },
      ],
      execute: function () {
        var l, n, o, u, c, s, p;
        r._RF.push({}, "1298eM241pCirOlswDA7Fpf", "ColumnDelayData", void 0);
        var y = a.ccclass,
          D = a.property;
        e(
          "ColumnDelayData",
          ((l = y("ColumnDelayData")),
          (n = D({ visible: !0 })),
          (o = D({ visible: !0 })),
          l(
            ((s = t(
              (c = function () {
                i(this, "column", s, this), i(this, "delay", p, this);
              }).prototype,
              "column",
              [n],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (p = t(c.prototype, "delay", [o], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (u = c))
          ) || u)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CommonShopEntry.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./UpgradesController.ts",
    "./BaseShopEntry.ts",
  ],
  function (t) {
    "use strict";
    var e, i, r, n, o, s, a, c, l, p;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy), (s = t._decorator), (a = t.EventHandler);
        },
        function (t) {
          c = t.upgradesController;
        },
        function (t) {
          (l = t.ShopEntryState), (p = t.BaseShopEntry);
        },
      ],
      execute: function () {
        var u, d, h, y, m;
        o._RF.push({}, "317c6F7ceNOYIWXyslqWvh4", "CommonShopEntry", void 0);
        var v = s.ccclass,
          S = s.property;
        t(
          "CommonShopEntry",
          ((u = v("CommonShopEntry")),
          (d = S({ visible: !0, type: [a], displayOrder: 4 })),
          u(
            ((m = e(
              (y = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, o = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    r(e, "_setBonus", m, n(e)),
                    e
                  );
                }
                i(e, t);
                var o = e.prototype;
                return (
                  (o.initialize = function (e) {
                    t.prototype.initialize.call(this, e),
                      a.emitEvents(this._setBonus, e.bonus);
                    var i = c.getCurrentCommonUpgrade(e.id),
                      r = "common-" + e.id.split("-")[1] + "-";
                    r + i === e.id
                      ? this.setState(l.Available)
                      : r + i > e.id
                      ? this.setState(l.Purchased)
                      : r + i < e.id && this.setState(l.Locked);
                  }),
                  (o.updateEntry = function () {
                    var t = c.getCurrentCommonUpgrade(this._data.id),
                      e = "common-" + this._data.id.split("-")[1] + "-";
                    e + t === this._data.id
                      ? this.setState(l.Available)
                      : e + t > this._data.id
                      ? this.setState(l.Purchased)
                      : e + t < this._data.id && this.setState(l.Locked);
                  }),
                  e
                );
              })(p)).prototype,
              "_setBonus",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (h = y))
          ) || h)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CommonShopEntryData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseShopEntryData.ts"],
  function (n) {
    "use strict";
    var t, o, s;
    return {
      setters: [
        function (n) {
          t = n.inheritsLoose;
        },
        function (n) {
          o = n.cclegacy;
        },
        function (n) {
          s = n.BaseShopEntryData;
        },
      ],
      execute: function () {
        o._RF.push(
          {},
          "10c19Vs2FJDJaf8+Z1z/9mn",
          "CommonShopEntryData",
          void 0
        );
        n(
          "CommonShopEntryData",
          (function (n) {
            function o(t, o, s, r, u) {
              var e;
              return (
                ((e = n.call(this, t, o, u) || this).bonus = 0),
                (e.previousBonus = 0),
                (e.bonus = s),
                (e.previousBonus = r),
                e
              );
            }
            return t(o, n), o;
          })(s)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CommonUpgrade.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseUpgrade.ts"],
  function (e) {
    "use strict";
    var r, n, i, a, t, o, c;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized);
        },
        function (e) {
          (t = e.cclegacy), (o = e._decorator);
        },
        function (e) {
          c = e.BaseUpgrade;
        },
      ],
      execute: function () {
        var u, l, g, s, p, m, y, f, b;
        t._RF.push({}, "ac831RInPNO8JpNYhTSChPc", "CommonUpgrade", void 0);
        var h = o.ccclass,
          d = o.property;
        e(
          "CommonUpgrade",
          ((u = h("CommonUpgrade")),
          (l = d({ visible: !0 })),
          (g = d({ visible: !0 })),
          (s = d({ visible: !0 })),
          u(
            ((y = r(
              (m = (function (e) {
                function r(r) {
                  var n;
                  return (
                    (n = e.call(this, r) || this),
                    i(n, "maxEnergy", y, a(n)),
                    i(n, "energyRecharge", f, a(n)),
                    i(n, "maxHP", b, a(n)),
                    r
                      ? ((n.maxEnergy = r.maxEnergy),
                        (n.energyRecharge = r.energyRecharge),
                        (n.maxHP = r.maxHP))
                      : ((n.maxEnergy = 0),
                        (n.energyRecharge = 0),
                        (n.maxHP = 0)),
                    n
                  );
                }
                return n(r, e), r;
              })(c)).prototype,
              "maxEnergy",
              [l],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (f = r(m.prototype, "energyRecharge", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (b = r(m.prototype, "maxHP", [s], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (p = m))
          ) || p)
        );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ConfirmationPanelEntry.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelsController.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./UpgradesController.ts",
    "./CommonShopEntryData.ts",
    "./TowerShopEntryData.ts",
    "./TowerShopEntryModel.ts",
  ],
  function (e) {
    "use strict";
    var t, i, n, r, a, o, s, l, u, c, p, b, _, m, h, g, f, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (s = e._decorator),
            (l = e.EventHandler),
            (u = e.Prefab),
            (c = e.Button),
            (p = e.Component);
        },
        function (e) {
          b = e.levelsController;
        },
        function (e) {
          _ = e.TowersData;
        },
        function (e) {
          m = e.TowerTypes;
        },
        function (e) {
          h = e.upgradesController;
        },
        function (e) {
          g = e.CommonShopEntryData;
        },
        function (e) {
          f = e.TowerShopEntryData;
        },
        function (e) {
          d = e.TowerShopEntryModel;
        },
      ],
      execute: function () {
        var v,
          w,
          y,
          T,
          E,
          x,
          C,
          z,
          I,
          D,
          P,
          k,
          B,
          S,
          N,
          H,
          A,
          R,
          M,
          L,
          U,
          G,
          F,
          j,
          J,
          Q,
          Z,
          q,
          K,
          O,
          V,
          W,
          X,
          Y,
          $,
          ee,
          te,
          ie,
          ne,
          re,
          ae,
          oe,
          se,
          le,
          ue,
          ce,
          pe,
          be,
          _e,
          me,
          he,
          ge,
          fe,
          de,
          ve;
        o._RF.push(
          {},
          "6fb142grTxIZJl7xQ9x01vD",
          "ConfirmationPanelEntry",
          void 0
        );
        var we = s.ccclass,
          ye = s.property;
        e(
          "ConfirmationPanelEntry",
          ((v = we("ConfirmationPanelEntry")),
          (w = ye({ visible: !0, type: [l], group: "General" })),
          (y = ye({ visible: !0, type: [l], group: "General" })),
          (T = ye({ visible: !0, type: u, group: "General" })),
          (E = ye({ visible: !0, type: c, group: "Buttons" })),
          (x = ye({ visible: !0, type: c, group: "Buttons" })),
          (C = ye({ visible: !0, type: c, group: "Buttons" })),
          (z = ye({ visible: !0, type: c, group: "Buttons" })),
          (I = ye({ visible: !0, type: [l], group: "Item Data" })),
          (D = ye({ visible: !0, type: [l], group: "Item Data" })),
          (P = ye({ visible: !0, type: [l], group: "Item Data" })),
          (k = ye({ visible: !0, type: [l], group: "Item Data" })),
          (B = ye({ visible: !0, type: [l], group: "Item Data" })),
          (S = ye({ visible: !0, type: [l], group: "Item Data" })),
          (N = ye({ visible: !0, type: [l], group: "Item Data" })),
          (H = ye({ visible: !0, group: "Texts" })),
          (A = ye({ visible: !0, group: "Texts" })),
          (R = ye({ visible: !0, group: "Texts" })),
          (M = ye({ visible: !0, group: "Texts" })),
          (L = ye({ visible: !0, group: "Texts" })),
          (U = ye({ visible: !0, group: "Texts" })),
          (G = ye({ visible: !0, type: [d], group: "Tower Models" })),
          (F = ye({ visible: !0, type: [d], group: "Tower Models" })),
          (j = ye({ visible: !0, type: [d], group: "Tower Models" })),
          (J = ye({ visible: !0, type: [l], group: "Purchase State" })),
          (Q = ye({ visible: !0, type: [l], group: "Purchase State" })),
          (Z = ye({ visible: !0, type: [l], group: "Purchase State" })),
          v(
            ((O = t(
              (K = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, a = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_onShow", O, r(t)),
                    n(t, "_onHide", V, r(t)),
                    n(t, "_towersDataPrefab", W, r(t)),
                    (t._towersData = null),
                    n(t, "_confirmButton", X, r(t)),
                    n(t, "_cancelButton", Y, r(t)),
                    n(t, "_backButton", $, r(t)),
                    n(t, "_lackingButton", ee, r(t)),
                    n(t, "_setItemCost", te, r(t)),
                    n(t, "_setItemName", ie, r(t)),
                    n(t, "_setItemDescription", ne, r(t)),
                    n(t, "_setItemAttack", re, r(t)),
                    n(t, "_setItemSpeed", ae, r(t)),
                    n(t, "_setItemEnergy", oe, r(t)),
                    n(t, "_setItemRange", se, r(t)),
                    n(t, "_maxHPText", le, r(t)),
                    n(t, "_maxEnergyText", ue, r(t)),
                    n(t, "_energyRechargeText", ce, r(t)),
                    n(t, "_gunText", pe, r(t)),
                    n(t, "_cannonText", be, r(t)),
                    n(t, "_laserText", _e, r(t)),
                    n(t, "_gunTowers", me, r(t)),
                    n(t, "_cannonTowers", he, r(t)),
                    n(t, "_laserTowers", ge, r(t)),
                    (t._shopCommonEntries = []),
                    (t._shopTowerEntries = []),
                    (t._initialized = !1),
                    (t._data = null),
                    (t._onConfirm = null),
                    (t._onCancel = null),
                    (t._activeTowerHead = null),
                    (t._activeTowerBase = null),
                    n(t, "_setPurchased", fe, r(t)),
                    n(t, "_setPurchaseAvailable", de, r(t)),
                    n(t, "_setPurchaseNotAvailableNoEnergy", ve, r(t)),
                    t
                  );
                }
                i(t, e);
                var o = t.prototype;
                return (
                  (o.onLoad = function () {
                    this.initialize();
                  }),
                  (o.initialize = function () {
                    if (!this._initialized) {
                      (this._shopCommonEntries = h.commonUpgrades),
                        (this._shopTowerEntries = h.towerUpgrades);
                      var e = new l();
                      (e.component = "ConfirmationPanelEntry"),
                        (e.handler = "confirmClicked"),
                        (e.target = this.node),
                        this._confirmButton.clickEvents.push(e);
                      var t = new l();
                      if (
                        ((t.component = "ConfirmationPanelEntry"),
                        (t.handler = "cancelClicked"),
                        (t.target = this.node),
                        this._cancelButton.clickEvents.push(t),
                        this._backButton)
                      ) {
                        var i = new l();
                        (i.component = "ConfirmationPanelEntry"),
                          (i.handler = "cancelClicked"),
                          (i.target = this.node),
                          this._backButton.clickEvents.push(i);
                      }
                      if (this._lackingButton) {
                        var n = new l();
                        (n.component = "ConfirmationPanelEntry"),
                          (n.handler = "cancelClicked"),
                          (n.target = this.node),
                          this._lackingButton.clickEvents.push(n);
                      }
                      this._initialized = !0;
                    }
                  }),
                  (o.confirmClicked = function () {
                    this._onConfirm(this._data),
                      l.emitEvents(this._onHide),
                      this.towersData.initialize();
                  }),
                  (o.cancelClicked = function () {
                    this._onCancel(), l.emitEvents(this._onHide);
                  }),
                  (o.show = function (e, t, i) {
                    var n = this;
                    this._initialized || this.initialize(),
                      (this._data = e),
                      (this._onConfirm = t),
                      (this._onCancel = i),
                      l.emitEvents(this._setItemCost, e.cost);
                    var r = "",
                      a = e.id.split("-");
                    if (e instanceof g)
                      e.id.includes("-maxHP-")
                        ? (r = this._maxHPText
                            .replace("{data.new}", e.bonus.toString())
                            .replace("{data.old}", e.previousBonus.toString()))
                        : e.id.includes("-maxEnergy-")
                        ? (r = this._maxEnergyText
                            .replace("{data.new}", e.bonus.toString())
                            .replace("{data.old}", e.previousBonus.toString()))
                        : e.id.includes("-energyRecharge-") &&
                          (r = this._energyRechargeText
                            .replace("{data.new}", e.bonus.toString())
                            .replace("{data.old}", e.previousBonus.toString()));
                    else if (e instanceof f) {
                      var o = "base" === a[2],
                        s = o ? 0 : Number.parseInt(a[2]) + 1,
                        u =
                          !o &&
                          h.savedTowerUpgrades.find(function (t) {
                            return t.key === e.id;
                          }).owned;
                      this._activeTowerHead &&
                        ((this._activeTowerHead.active = !1),
                        (this._activeTowerBase.active = !1));
                      var c = e.id.split("-"),
                        p = m.None;
                      "gun" === c[1]
                        ? ((p = m.GunTower), o && (u = !0))
                        : "cannon" === c[1]
                        ? ((p = m.CannonTower),
                          o && b.unlockedLevels >= 3 && (u = !0))
                        : "laser" === c[1] &&
                          ((p = m.LaserTower),
                          o && b.unlockedLevels >= 5 && (u = !0));
                      var _ = this.towersData.getTowers(p).find(function (e) {
                          return e.storeID === n._data.id;
                        }),
                        d = _.energyCost;
                      o || u
                        ? l.emitEvents(this._setPurchased)
                        : d <= this.currentMaxEnergy
                        ? l.emitEvents(this._setPurchaseAvailable)
                        : l.emitEvents(this._setPurchaseNotAvailableNoEnergy),
                        "gun" === a[1]
                          ? ((this._gunTowers[s].head.active = !0),
                            (this._gunTowers[s].base.active = !0),
                            (this._activeTowerHead = this._gunTowers[s].head),
                            (this._activeTowerBase = this._gunTowers[s].base),
                            (r = u
                              ? _.readableName
                              : this._gunText.replace(
                                  "{data}",
                                  _.readableName
                                )))
                          : "cannon" === a[1]
                          ? ((this._cannonTowers[s].head.active = !0),
                            (this._cannonTowers[s].base.active = !0),
                            (this._activeTowerHead =
                              this._cannonTowers[s].head),
                            (this._activeTowerBase =
                              this._cannonTowers[s].base),
                            (r = u
                              ? _.readableName
                              : this._cannonText.replace(
                                  "{data}",
                                  _.readableName
                                )))
                          : "laser" === a[1] &&
                            ((this._laserTowers[s].head.active = !0),
                            (this._laserTowers[s].base.active = !0),
                            (this._activeTowerHead = this._laserTowers[s].head),
                            (this._activeTowerBase = this._laserTowers[s].base),
                            (r = u
                              ? _.readableName
                              : this._laserText.replace(
                                  "{data}",
                                  _.readableName
                                ))),
                        l.emitEvents(this._setItemDescription, _.description),
                        l.emitEvents(this._setItemAttack, _.damage),
                        l.emitEvents(this._setItemSpeed, _.speed),
                        l.emitEvents(this._setItemEnergy, _.energyCost),
                        l.emitEvents(this._setItemRange, _.range);
                    }
                    l.emitEvents(this._setItemName, r),
                      l.emitEvents(this._onShow);
                  }),
                  a(t, [
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(_)),
                          this._towersData
                        );
                      },
                    },
                    {
                      key: "currentMaxEnergy",
                      get: function () {
                        for (
                          var e = 4,
                            t = h.savedCommonUpgrades,
                            i = !1,
                            n = t.length - 1;
                          !i && n >= 0;
                          n--
                        ) {
                          var r = t[n];
                          if (r.key.includes("common-maxEnergy") && r.owned) {
                            i = !0;
                            var a = r.key.split("-"),
                              o = Number.parseInt(a[2]);
                            0 === o
                              ? (e = 5)
                              : 1 === o
                              ? (e = 6)
                              : 2 === o
                              ? (e = 7)
                              : 3 === o
                              ? (e = 8)
                              : 4 === o && (e = 10);
                          }
                        }
                        return e;
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_onShow",
              [w],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (V = t(K.prototype, "_onHide", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (W = t(K.prototype, "_towersDataPrefab", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (X = t(K.prototype, "_confirmButton", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (Y = t(K.prototype, "_cancelButton", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            ($ = t(K.prototype, "_backButton", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (ee = t(K.prototype, "_lackingButton", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (te = t(K.prototype, "_setItemCost", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ie = t(K.prototype, "_setItemName", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ne = t(K.prototype, "_setItemDescription", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (re = t(K.prototype, "_setItemAttack", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ae = t(K.prototype, "_setItemSpeed", [B], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (oe = t(K.prototype, "_setItemEnergy", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (se = t(K.prototype, "_setItemRange", [N], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (le = t(K.prototype, "_maxHPText", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (ue = t(K.prototype, "_maxEnergyText", [A], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (ce = t(K.prototype, "_energyRechargeText", [R], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (pe = t(K.prototype, "_gunText", [M], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (be = t(K.prototype, "_cannonText", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (_e = t(K.prototype, "_laserText", [U], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (me = t(K.prototype, "_gunTowers", [G], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (he = t(K.prototype, "_cannonTowers", [F], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ge = t(K.prototype, "_laserTowers", [j], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (fe = t(K.prototype, "_setPurchased", [J], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (de = t(K.prototype, "_setPurchaseAvailable", [Q], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ve = t(K.prototype, "_setPurchaseNotAvailableNoEnergy", [Z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (q = K))
          ) || q)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CubeToweBlock.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./BaseBlock.ts",
    "./BlockEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, o, c, n, r, s;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (o = e.cclegacy), (c = e._decorator);
        },
        function (e) {
          n = e.projectEvent;
        },
        function (e) {
          r = e.BaseBlock;
        },
        function (e) {
          s = e.BlockEvents;
        },
      ],
      execute: function () {
        var u;
        o._RF.push({}, "4cab1fyCaNOmL8JHIOImiw3", "CubeToweBlock", void 0);
        var i = c.ccclass;
        c.property,
          e(
            "CubeToweBlock",
            i("CubeToweBlock")(
              (u = (function (e) {
                function o() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  t(o, e),
                  (o.prototype.onEnable = function () {
                    n.emit(s[s.Block_CubeTowerCreated], this);
                  }),
                  o
                );
              })(r))
            ) || u
          );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CubeTowerEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./CubeTowerEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, i, a, o, s, u, c, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (u = e.Enum);
        },
        function (e) {
          c = e.CubeTowerEvents;
        },
        function (e) {
          l = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var v, p, b, f, y, d, h;
        o._RF.push(
          {},
          "31cdcvhPtdJNZjVbuOE4DwI",
          "CubeTowerEventRaiser",
          void 0
        );
        var w = s.ccclass,
          _ = s.property;
        e(
          "CubeTowerEventRaiser",
          ((v = w("CubeTowerEventRaiser")),
          (p = _({ visible: !0, type: u(c) })),
          (b = _({ visible: !0 })),
          v(
            ((d = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_eventID", d, i(t)),
                    n(t, "_data", h, i(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return c[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return c.CubeTower_None;
                },
              }
            )),
            (h = t(y.prototype, "_data", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (f = y))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/CubeTowerEvents.ts", ["cc"], function (e) {
  "use strict";
  var u;
  return {
    setters: [
      function (e) {
        u = e.cclegacy;
      },
    ],
    execute: function () {
      var r;
      e("CubeTowerEvents", void 0),
        u._RF.push({}, "17172puLl9Dv60klEXq+rSd", "CubeTowerEvents", void 0),
        (function (e) {
          (e[(e.CubeTower_None = 0)] = "CubeTower_None"),
            (e[(e.CubeTower_HPChanged = 1)] = "CubeTower_HPChanged"),
            (e[(e.CubeTower_SetHP = 2)] = "CubeTower_SetHP");
        })(r || (r = e("CubeTowerEvents", {}))),
        u._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/CubeTowerEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./CubeTowerEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, o, u, c, a, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (u = e._decorator), (c = e.Enum);
        },
        function (e) {
          a = e.CubeTowerEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, f, b, y;
        o._RF.push(
          {},
          "8caceFDiJpLCp8Q+7rXBUKZ",
          "CubeTowerEventsListener",
          void 0
        );
        var w = u.ccclass,
          C = u.property;
        e(
          "CubeTowerEventsListener",
          ((v = w("CubeTowerEventsListener")),
          (p = C({ visible: !0, type: c(a) })),
          v(
            ((y = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", y, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return a[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return a.CubeTower_None;
                },
              }
            )),
            (f = b))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CubeTowerHP.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Enemy.ts",
    "./UpgradesController.ts",
  ],
  function (t) {
    "use strict";
    var e, r, n, i, a, o, u, s, c, l, f, h, p;
    return {
      setters: [
        function (t) {
          (e = t.createClass),
            (r = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (a = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy),
            (u = t._decorator),
            (s = t.CCInteger),
            (c = t.EventHandler),
            (l = t.Node),
            (f = t.Component);
        },
        function (t) {
          h = t.Enemy;
        },
        function (t) {
          p = t.upgradesController;
        },
      ],
      execute: function () {
        var _, H, P, b, d, m, g, y, v, C, w, D, z, T, k;
        o._RF.push({}, "b091d/zYThK/q6JkfRYKBAK", "CubeTowerHP", void 0);
        var E = u.ccclass,
          I = u.property,
          x = t(
            "CubeTowerHPData",
            (function () {
              function t(t, e) {
                (this._current = void 0),
                  (this._total = void 0),
                  (this._current = t),
                  (this._total = e);
              }
              return (
                e(t, [
                  {
                    key: "current",
                    get: function () {
                      return this._current;
                    },
                  },
                  {
                    key: "total",
                    get: function () {
                      return this._total;
                    },
                  },
                ]),
                t
              );
            })()
          );
        t(
          "CubeTowerHP",
          ((_ = E("CubeTowerHP")),
          (H = I({ visible: !0, type: [s] })),
          (P = I({ visible: !0 })),
          (b = I({ visible: !0, type: [c] })),
          (d = I({ visible: !0, type: [c] })),
          (m = I({ visible: !0, type: [c] })),
          (g = I({ visible: !0, type: [c] })),
          _(
            ((C = r(
              (v = (function (t) {
                function r() {
                  for (
                    var e, r = arguments.length, n = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    n[o] = arguments[o];
                  return (
                    (e = t.call.apply(t, [this].concat(n)) || this),
                    i(e, "_startHP", C, a(e)),
                    (e._currentStartHP = -1),
                    i(e, "_currentHP", w, a(e)),
                    i(e, "_onDamage", D, a(e)),
                    i(e, "_onDeath", z, a(e)),
                    i(e, "_onHPChanged", T, a(e)),
                    i(e, "_setInitialHP", k, a(e)),
                    e
                  );
                }
                n(r, t);
                var o = r.prototype;
                return (
                  (o.start = function () {
                    this.startGame();
                  }),
                  (o.startGame = function () {
                    p.savedCommonUpgrades
                      .filter(function (t) {
                        return t.key.includes("maxHP");
                      })
                      .findIndex(function (t) {
                        return !1 === t.owned;
                      });
                    this._currentHP = this.startHP;
                    var t = new x(this._currentHP, this.startHP);
                    c.emitEvents(this._setInitialHP, t);
                  }),
                  (o.enemyReachedCubeTower = function (t) {
                    if (t instanceof l) {
                      var e = t.getComponent(h);
                      e && this.enemyReachedCubeTower(e);
                    } else if (t instanceof h && this._currentHP > 0) {
                      this._currentHP > t.data.damage
                        ? ((this._currentHP -= t.data.damage),
                          c.emitEvents(this._onDamage))
                        : ((this._currentHP = 0), c.emitEvents(this._onDeath));
                      var r = new x(this._currentHP, this.startHP);
                      c.emitEvents(this._onHPChanged, r);
                    }
                  }),
                  e(r, [
                    {
                      key: "startHP",
                      get: function () {
                        if (this._currentStartHP < 0) {
                          var t = p.savedCommonUpgrades.filter(function (t) {
                              return t.key.includes("maxHP");
                            }),
                            e = t.findIndex(function (t) {
                              return !1 === t.owned;
                            });
                          this._currentStartHP =
                            this._startHP[-1 == e ? t.length : e];
                        }
                        return this._currentStartHP;
                      },
                    },
                  ]),
                  r
                );
              })(f)).prototype,
              "_startHP",
              [H],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (w = r(v.prototype, "_currentHP", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (D = r(v.prototype, "_onDamage", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (z = r(v.prototype, "_onDeath", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = r(v.prototype, "_onHPChanged", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (k = r(v.prototype, "_setInitialHP", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (y = v))
          ) || y)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CubeTowerHPEntryUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColumnDelayData.ts"],
  function (e) {
    "use strict";
    var t, i, n, r, o, a, l, u, s, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (u = e.EventHandler),
            (s = e.Component);
        },
        function (e) {
          c = e.ColumnDelayData;
        },
      ],
      execute: function () {
        var y, p, b, f, _, h, m, D, d, v, g, w, C, x, z, H, E;
        a._RF.push({}, "b5600xDovpC0YN63dQkxnxN", "CubeTowerHPEntryUI", void 0);
        var I = l.ccclass,
          P = l.property;
        e(
          "CubeTowerHPEntryUI",
          ((y = I("CubeTowerHPEntryUI")),
          (p = P({ visible: !0 })),
          (b = P({ visible: !0 })),
          (f = P({ visible: !0 })),
          (_ = P({ visible: !0, type: [c] })),
          (h = P({ visible: !0, type: [u] })),
          (m = P({ visible: !0, type: [u] })),
          (D = P({ visible: !0, type: [u] })),
          y(
            ((g = t(
              (v = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, o = new Array(i), a = 0;
                    a < i;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_index", g, r(t)),
                    n(t, "_introDelay", w, r(t)),
                    n(t, "_layoutColumns", C, r(t)),
                    n(t, "_columnsDelays", x, r(t)),
                    n(t, "_onShow", z, r(t)),
                    n(t, "_onHide", H, r(t)),
                    n(t, "_onDamage", E, r(t)),
                    (t._totalDelay = -1),
                    t
                  );
                }
                i(t, e);
                var a = t.prototype;
                return (
                  (a.setIndex = function (e) {
                    this._index = e;
                  }),
                  (a.show = function () {
                    var e = this;
                    this.scheduleOnce(function () {
                      u.emitEvents(e._onShow);
                    }, this.totalDelay);
                  }),
                  (a.hide = function () {
                    u.emitEvents(this._onHide);
                  }),
                  (a.damaged = function () {
                    u.emitEvents(this._onDamage);
                  }),
                  o(t, [
                    {
                      key: "totalDelay",
                      get: function () {
                        if (this._totalDelay < 0) {
                          var e = this._index % this._layoutColumns;
                          this._totalDelay =
                            this._introDelay *
                            this._columnsDelays.find(function (t) {
                              return t.column === e;
                            }).delay;
                        }
                        return this._totalDelay;
                      },
                    },
                  ]),
                  t
                );
              })(s)).prototype,
              "_index",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return -1;
                },
              }
            )),
            (w = t(v.prototype, "_introDelay", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0.15;
              },
            })),
            (C = t(v.prototype, "_layoutColumns", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 10;
              },
            })),
            (x = t(v.prototype, "_columnsDelays", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (z = t(v.prototype, "_onShow", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = t(v.prototype, "_onHide", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (E = t(v.prototype, "_onDamage", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = v))
          ) || d)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CubeTowerHPUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./CubeTowerHP.ts",
    "./CubeTowerHPEntryUI.ts",
  ],
  function (e) {
    "use strict";
    var t, r, i, n, a, o, s, u, l, c, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (o = e._decorator),
            (s = e.Node),
            (u = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          c = e.CubeTowerHPData;
        },
        function (e) {
          h = e.CubeTowerHPEntryUI;
        },
      ],
      execute: function () {
        var p, f, _, b, v, C, E, m, w, y, T;
        a._RF.push({}, "2e422rMyxhPNoAP/9tU8bNO", "CubeTowerHPUI", void 0);
        var P = o.ccclass,
          d = o.property;
        e(
          "CubeTowerHPUI",
          ((p = P("CubeTowerHPUI")),
          (f = d({ visible: !0, type: [s] })),
          (_ = d({ visible: !0, type: [u] })),
          (b = d({ visible: !0, type: [u] })),
          (v = d({ visible: !0, type: [u] })),
          p(
            ((m = t(
              (E = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_hpEntries", m, n(t)),
                    i(t, "_setCurrentValue", w, n(t)),
                    i(t, "_animateCurrentValue", y, n(t)),
                    i(t, "_setTotalValue", T, n(t)),
                    (t._currentdata = null),
                    t
                  );
                }
                r(t, e);
                var a = t.prototype;
                return (
                  (a.onLoad = function () {
                    for (var e = 0; e < this._hpEntries.length; e++) {
                      this._hpEntries[e].getComponent(h).setIndex(e);
                    }
                  }),
                  (a.setCubeTowerHP = function (e, t) {
                    if (e instanceof c) {
                      u.emitEvents(this._setCurrentValue, e.current),
                        this.setTotalValue(e);
                      for (var r = 0; r < e.total; r++) {
                        this._hpEntries[r].active = !0;
                      }
                      for (var i = e.total; i < this._hpEntries.length; i++) {
                        this._hpEntries[i].active = !1;
                      }
                      this._currentdata = e;
                    } else t && this.setCubeTowerHP(t);
                  }),
                  (a.animateCubeTowerHP = function (e, t) {
                    if (e instanceof c) {
                      u.emitEvents(this._animateCurrentValue, e.current),
                        this.setTotalValue(e);
                      for (
                        var r = this._currentdata.current - 1;
                        r >= e.current;
                        r--
                      ) {
                        this._hpEntries[r];
                        this._hpEntries[r].getComponent(h).damaged();
                      }
                    } else t && this.animateCubeTowerHP(t);
                  }),
                  (a.setTotalValue = function (e) {
                    u.emitEvents(this._setTotalValue, e.total);
                  }),
                  (a.showHPUI = function () {
                    for (var e = 0; e < this._hpEntries.length; e++) {
                      if (this._hpEntries[e].active)
                        this._hpEntries[e].getComponent(h).show();
                    }
                  }),
                  (a.hideHPUI = function () {
                    for (var e = 0; e < this._currentdata.current; e++) {
                      if (this._hpEntries[e].active)
                        this._hpEntries[e].getComponent(h).hide();
                    }
                  }),
                  t
                );
              })(l)).prototype,
              "_hpEntries",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (w = t(E.prototype, "_setCurrentValue", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (y = t(E.prototype, "_animateCurrentValue", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(E.prototype, "_setTotalValue", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = E))
          ) || C)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CurrencyCheat.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./CurrencyController.ts"],
  function (r) {
    "use strict";
    var e, n, t, c, u;
    return {
      setters: [
        function (r) {
          e = r.inheritsLoose;
        },
        function (r) {
          (n = r.cclegacy), (t = r._decorator), (c = r.Component);
        },
        function (r) {
          u = r.currencyController;
        },
      ],
      execute: function () {
        var o;
        n._RF.push({}, "f571dElEY5BwZApMV4fEY/p", "CurrencyCheat", void 0);
        var s = t.ccclass;
        t.property,
          r(
            "CurrencyCheat",
            s("CurrencyCheat")(
              (o = (function (r) {
                function n() {
                  return r.apply(this, arguments) || this;
                }
                e(n, r);
                var t = n.prototype;
                return (
                  (t.addCurrency = function (r) {
                    if ("string" == typeof r) {
                      var e = Number.parseInt(r);
                      this.addCurrency(e);
                    } else u.addCurrency(r);
                  }),
                  (t.removeCurrency = function (r) {
                    if ("string" == typeof r) {
                      var e = Number.parseInt(r);
                      this.removeCurrency(e);
                    } else
                      u.currency > r
                        ? this.addCurrency(-r)
                        : this.addCurrency(-u.currency);
                  }),
                  n
                );
              })(c))
            ) || o
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/CurrencyController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./SaveGameEnums.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./CurrencyEvents.ts",
  ],
  function (e) {
    "use strict";
    var r, n, t, c, u, a, s, o, i;
    return {
      setters: [
        function (e) {
          r = e.createClass;
        },
        function (e) {
          (n = e.cclegacy), (t = e.game), (c = e.Game);
        },
        function (e) {
          u = e.projectEvent;
        },
        function (e) {
          a = e.SaveGameEvent;
        },
        function (e) {
          s = e.saveGame;
        },
        function (e) {
          o = e.SaveGameKeys;
        },
        function (e) {
          i = e.CurrencyEvents;
        },
      ],
      execute: function () {
        n._RF.push({}, "f58bf5Lzf5PSqO3bjHceHG9", "CurrencyController", void 0);
        var y = e(
          "CurrencyController",
          (function () {
            function e() {
              var e = this;
              (this._currency = -1),
                t.on(
                  c.EVENT_GAME_INITED,
                  function () {
                    s.isDataLoaded()
                      ? (e._currency = s.getData(o[o.SaveGameKeys_Currency], 0))
                      : u.once(a[a.SaveGame_Loaded], function () {
                          e._currency = s.getData(
                            o[o.SaveGameKeys_Currency],
                            0
                          );
                        });
                  },
                  this
                );
            }
            var n = e.prototype;
            return (
              (n.addCurrency = function (e) {
                (this._currency += e),
                  s.setData(o[o.SaveGameKeys_Currency], this._currency),
                  u.emit(i[i.Currency_Changed], this.currency);
              }),
              (n.setCurrency = function (e) {
                (this._currency = e),
                  s.setData(o[o.SaveGameKeys_Currency], this._currency),
                  u.emit(i[i.Currency_Changed], this.currency);
              }),
              (n.removeCurrency = function (e) {
                if (!(this._currency >= e))
                  throw (
                    "Can't afford value {" +
                    e +
                    "}. Current currency balance is: " +
                    this._currency
                  );
                this.addCurrency(-e);
              }),
              r(e, [
                {
                  key: "currency",
                  get: function () {
                    return this._currency;
                  },
                },
              ]),
              e
            );
          })()
        );
        e("currencyController", new y());
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/CurrencyEvents.ts", ["cc"], function (e) {
  "use strict";
  var n;
  return {
    setters: [
      function (e) {
        n = e.cclegacy;
      },
    ],
    execute: function () {
      var r;
      e("CurrencyEvents", void 0),
        n._RF.push({}, "75e57JzFeVL5oeMYxffPpu7", "CurrencyEvents", void 0),
        (function (e) {
          (e[(e.Currency_None = 0)] = "Currency_None"),
            (e[(e.Currency_Changed = 1)] = "Currency_Changed");
        })(r || (r = e("CurrencyEvents", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/CurrencyEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./CurrencyEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, c, u, o, a, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (u = e._decorator), (o = e.Enum);
        },
        function (e) {
          a = e.CurrencyEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, y, p, f, E;
        c._RF.push(
          {},
          "2a5b8vcKbdMO4UH9X0N4O7k",
          "CurrencyEventsListener",
          void 0
        );
        var h = u.ccclass,
          C = u.property;
        e(
          "CurrencyEventsListener",
          ((v = h("CurrencyEventsListener")),
          (y = C({ visible: !0, type: o(a) })),
          v(
            ((E = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", E, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return a[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return a.Currency_None;
                },
              }
            )),
            (p = f))
          ) || p)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/DebugDraw.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (e) {
    "use strict";
    var n, o, i, t, r, a, c, s, l, u;
    return {
      setters: [
        function (e) {
          n = e.inheritsLoose;
        },
        function (e) {
          (o = e.cclegacy),
            (i = e._decorator),
            (t = e.Canvas),
            (r = e.Graphics),
            (a = e.Color),
            (c = e.Component);
        },
        function (e) {
          (s = e.logger), (l = e.LogCategory), (u = e.LogType);
        },
      ],
      execute: function () {
        var g, h;
        o._RF.push({}, "35b5fSfaRlOPKI14LMhoyZU", "DebugDraw", void 0);
        var _ = i.ccclass,
          p = (i.property, i.requireComponent),
          d = i.executionOrder;
        e(
          "DebugDraw",
          _("DebugDraw")(
            (g =
              p(t)(
                (g =
                  p(r)(
                    (g =
                      d(-1)(
                        (((h = (function (e) {
                          function o() {
                            for (
                              var n,
                                o = arguments.length,
                                i = new Array(o),
                                t = 0;
                              t < o;
                              t++
                            )
                              i[t] = arguments[t];
                            return (
                              ((n =
                                e.call.apply(e, [this].concat(i)) ||
                                this)._graphics = null),
                              n
                            );
                          }
                          n(o, e);
                          var i = o.prototype;
                          return (
                            (i.onLoad = function () {
                              null != o._instance &&
                                o._instance.isValid &&
                                o._instance.destroy(),
                                (o._instance = this),
                                (this._graphics = this.getComponent(r));
                            }),
                            (i.update = function () {
                              this._graphics && this._graphics.clear();
                            }),
                            (o.line = function (e, n, o, i) {
                              this._instance._checkDebugDrawValid();
                              var t = this._instance._graphics;
                              if (t && e) {
                                var r = e.convertToUINode(n, t.node),
                                  a = e.convertToUINode(o, t.node);
                                i && (t.strokeColor = i),
                                  t.moveTo(r.x, r.y),
                                  t.lineTo(a.x, a.y),
                                  t.close(),
                                  t.stroke();
                              }
                            }),
                            (o.circle = function (e, n, o, i) {
                              void 0 === o && (o = a.MAGENTA),
                                void 0 === i && (i = 10),
                                this._instance._checkDebugDrawValid();
                              var t = this._instance._graphics;
                              if (t && e) {
                                var r = e.convertToUINode(n, t.node);
                                o && (t.strokeColor = o),
                                  t.circle(r.x, r.y, i),
                                  t.stroke();
                              }
                            }),
                            (o.lineUI = function (e, n) {
                              this._instance._checkDebugDrawValid();
                              var o = this._instance._graphics;
                              o &&
                                ((o.strokeColor = a.BLUE),
                                o.moveTo(e.x, e.y),
                                o.lineTo(n.x, n.y),
                                o.stroke());
                            }),
                            (i._checkDebugDrawValid = function () {
                              (this._graphics && this._graphics.isValid) ||
                                s.log(
                                  "Dynamically instantiating debug canvas not working yet. Please add DebugDraw component to a canvas in scene.",
                                  l.Generic,
                                  u.Error
                                );
                            }),
                            o
                          );
                        })(c))._instance = null),
                        (g = h))
                      ) || g)
                  ) || g)
              ) || g)
          ) || g
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Draggable.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./InputEnums.ts"],
  function (t) {
    "use strict";
    var n, i, r, e, o, a, s, c, g, u, h;
    return {
      setters: [
        function (t) {
          (n = t.applyDecoratedDescriptor),
            (i = t.createClass),
            (r = t.inheritsLoose),
            (e = t.initializerDefineProperty),
            (o = t.assertThisInitialized);
        },
        function (t) {
          (a = t.cclegacy),
            (s = t._decorator),
            (c = t.EventHandler),
            (g = t.Vec2),
            (u = t.Component);
        },
        function (t) {
          h = t.InputEvent;
        },
      ],
      execute: function () {
        var l, D, _, S, p, b, f, P, d;
        a._RF.push({}, "4ba62TPJzhCar5/gykBs0KI", "Draggable", void 0);
        var v = s.ccclass,
          y = s.property,
          O =
            (t(
              "Draggable",
              ((l = v("Draggable")),
              (D = y({ type: [c], visible: !0 })),
              (_ = y({ type: [c], visible: !0 })),
              (S = y({ type: [c], visible: !0 })),
              l(
                ((f = n(
                  (b = (function (t) {
                    function n() {
                      for (
                        var n, i = arguments.length, r = new Array(i), a = 0;
                        a < i;
                        a++
                      )
                        r[a] = arguments[a];
                      return (
                        (n = t.call.apply(t, [this].concat(r)) || this),
                        e(n, "_onDragStart", f, o(n)),
                        e(n, "_onDragUpdate", P, o(n)),
                        e(n, "_onDragEnd", d, o(n)),
                        (n._touchPositionOnDragStart = null),
                        (n._objectScreenPositionOnDragStart = null),
                        (n._isDragging = !1),
                        n
                      );
                    }
                    r(n, t);
                    var i = n.prototype;
                    return (
                      (i.onDisable = function () {
                        this.isDragging() && this.endDrag();
                      }),
                      (i.isDragging = function () {
                        return this._isDragging;
                      }),
                      (i.startDrag = function (t, n) {
                        this._touchPositionOnDragStart = new g(t);
                        var i = n.worldToScreen(this.node.worldPosition);
                        (this._objectScreenPositionOnDragStart = new g(
                          i.x,
                          i.y
                        )),
                          (this._isDragging = !0);
                        var r = new O(
                          this._touchPositionOnDragStart,
                          this._objectScreenPositionOnDragStart,
                          this._touchPositionOnDragStart,
                          n
                        );
                        this.node.emit(h[h.Input_DragStart], r),
                          c.emitEvents(this._onDragStart, r);
                      }),
                      (i.updateDrag = function (t, n) {
                        if (this.isDragging()) {
                          var i = new O(
                            this._touchPositionOnDragStart,
                            this._objectScreenPositionOnDragStart,
                            t,
                            n
                          );
                          this.node.emit(h[h.Input_DragUpdate], i),
                            c.emitEvents(this._onDragUpdate, i);
                        }
                      }),
                      (i.endDrag = function (t, n) {
                        void 0 === t && (t = null),
                          void 0 === n && (n = null),
                          (this._isDragging = !1);
                        var i = new O(
                          this._touchPositionOnDragStart,
                          this._objectScreenPositionOnDragStart,
                          t,
                          n
                        );
                        this.node.emit(h[h.Input_DragEnd], i),
                          c.emitEvents(this._onDragEnd, i);
                      }),
                      n
                    );
                  })(u)).prototype,
                  "_onDragStart",
                  [D],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return [];
                    },
                  }
                )),
                (P = n(b.prototype, "_onDragUpdate", [_], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (d = n(b.prototype, "_onDragEnd", [S], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (p = b))
              ) || p)
            ),
            t(
              "DragData",
              (function () {
                function t(t, n, i, r) {
                  (this._touchPositionOnDragStart = null),
                    (this._objectScreenPositionOnDragStart = null),
                    (this._touchPosition = null),
                    (this._camera = null),
                    (this._touchPositionOnDragStart = t),
                    (this._objectScreenPositionOnDragStart = n),
                    (this._touchPosition = i),
                    (this._camera = r);
                }
                return (
                  i(t, [
                    {
                      key: "touchScreenPositionOnDragStart",
                      get: function () {
                        return this._touchPositionOnDragStart;
                      },
                    },
                    {
                      key: "objectScreenPositionOnDragStart",
                      get: function () {
                        return this._objectScreenPositionOnDragStart;
                      },
                    },
                    {
                      key: "touchScreenPosition",
                      get: function () {
                        return this._touchPosition;
                      },
                    },
                    {
                      key: "camera",
                      get: function () {
                        return this._camera;
                      },
                    },
                  ]),
                  t
                );
              })()
            ));
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/DropArea.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./InputEnums.ts"],
  function (e) {
    "use strict";
    var t, r, n, o, i, a, p, s, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (o = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (a = e._decorator),
            (p = e.EventHandler),
            (s = e.Component);
        },
        function (e) {
          c = e.DropAreaEvent;
        },
      ],
      execute: function () {
        var l, u, d, f, D, g, b, v, y;
        i._RF.push({}, "f05cdFrYUFEhLDfRJevq1qh", "DropArea", void 0);
        var _ = a.ccclass,
          h = a.property;
        e(
          "DropArea",
          ((l = _("DropArea")),
          (u = h({ type: [p], visible: !0 })),
          (d = h({ type: [p], visible: !0 })),
          (f = h({ type: [p], visible: !0 })),
          l(
            ((b = t(
              (g = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, i = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    i[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    n(t, "_onTargeted", b, o(t)),
                    n(t, "_onUntargeted", v, o(t)),
                    n(t, "_onDroppableDropped", y, o(t)),
                    t
                  );
                }
                r(t, e);
                var i = t.prototype;
                return (
                  (i.setTargetedBy = function (e) {
                    this.node.emit(c[c.DropArea_Targeted], e),
                      p.emitEvents(this._onTargeted, e);
                  }),
                  (i.setUntargetedBy = function (e) {
                    this.node.emit(c[c.DropArea_Untargeted], e),
                      p.emitEvents(this._onUntargeted, e);
                  }),
                  (i.drop = function (e) {
                    this.node.emit(c[c.DropArea_Dropped], e),
                      p.emitEvents(this._onDroppableDropped, e);
                  }),
                  t
                );
              })(s)).prototype,
              "_onTargeted",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (v = t(g.prototype, "_onUntargeted", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (y = t(g.prototype, "_onDroppableDropped", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (D = g))
          ) || D)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Droppable.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Draggable.ts",
    "./DropArea.ts",
    "./InputEnums.ts",
  ],
  function (e) {
    "use strict";
    var r, t, i, o, n, a, s, l, p, h, d, u, g, c, D;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (o = e.assertThisInitialized),
            (n = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (l = e.Collider),
            (p = e.EventHandler),
            (h = e.Vec3),
            (d = e.Component);
        },
        function (e) {
          u = e.Draggable;
        },
        function (e) {
          g = e.DropArea;
        },
        function (e) {
          (c = e.InputEvent), (D = e.DroppableEvent);
        },
      ],
      execute: function () {
        var _, f, A, b, E, v, m, y, C, T, I, S, x, L;
        a._RF.push({}, "e0197pg1alPh4ShgAIZoXQ0", "Droppable", void 0);
        var w = s.ccclass,
          z = s.property,
          V = s.requireComponent;
        e(
          "Droppable",
          ((_ = w("Droppable")),
          (f = V(u)),
          (A = z({ type: l, visible: !0 })),
          (b = z({ type: [p], visible: !0 })),
          (E = z({ type: [p], visible: !0 })),
          (v = z({ type: [p], visible: !0 })),
          (m = z({ type: [p], visible: !0 })),
          _(
            (y =
              f(
                ((T = r(
                  (C = (function (e) {
                    function r() {
                      for (
                        var r, t = arguments.length, n = new Array(t), a = 0;
                        a < t;
                        a++
                      )
                        n[a] = arguments[a];
                      return (
                        (r = e.call.apply(e, [this].concat(n)) || this),
                        i(r, "_collider", T, o(r)),
                        i(r, "_onValidDrop", I, o(r)),
                        i(r, "_onFailedDrop", S, o(r)),
                        i(r, "_onEnteredADropArea", x, o(r)),
                        i(r, "_onLeftAllDropArea", L, o(r)),
                        (r._draggable = null),
                        (r._dropArea = null),
                        (r._closeDropAreas = []),
                        r
                      );
                    }
                    t(r, e);
                    var a = r.prototype;
                    return (
                      (a.onLoad = function () {
                        this._draggable = this.node.getComponent(u);
                      }),
                      (a.onEnable = function () {
                        this.node.on(
                          c[c.Input_DragStart],
                          this.onDragStart,
                          this
                        ),
                          this.node.on(
                            c[c.Input_DragEnd],
                            this.onDragEnd,
                            this
                          ),
                          this._collider.on(
                            "onTriggerEnter",
                            this.onTriggerEnter,
                            this
                          ),
                          this._collider.on(
                            "onTriggerExit",
                            this.onTriggerExit,
                            this
                          );
                      }),
                      (a.onDisable = function () {
                        this._draggable &&
                          (this.node.off(
                            c[c.Input_DragStart],
                            this.onDragStart,
                            this
                          ),
                          this.node.off(
                            c[c.Input_DragEnd],
                            this.onDragEnd,
                            this
                          )),
                          this._collider &&
                            (this._collider.off(
                              "onTriggerEnter",
                              this.onTriggerEnter,
                              this
                            ),
                            this._collider.off(
                              "onTriggerExit",
                              this.onTriggerExit,
                              this
                            ));
                      }),
                      (a.onDragStart = function (e) {
                        (this._closeDropAreas = []), (this.dropArea = null);
                      }),
                      (a.onDragEnd = function (e) {
                        this.dropArea
                          ? (this.dropArea.drop(this),
                            this.node.emit(D[D.Droppable_ValidDrop]),
                            p.emitEvents(this._onValidDrop))
                          : (this.node.emit(D[D.Droppable_InvalidDrop]),
                            p.emitEvents(this._onFailedDrop)),
                          (this.dropArea = null);
                      }),
                      (a.onTriggerEnter = function (e) {
                        if (this._draggable.isDragging()) {
                          var r = e.otherCollider.node.getComponent(g);
                          if (r && r.enabled)
                            -1 ==
                              this._closeDropAreas.findIndex(function (e) {
                                return e == r;
                              }) &&
                              (this._closeDropAreas.push(r),
                              (this.dropArea = this.getClosestDropArea()));
                        }
                      }),
                      (a.onTriggerExit = function (e) {
                        if (this._draggable.isDragging()) {
                          var r = e.otherCollider.node.getComponent(g);
                          if (r) {
                            var t = this._closeDropAreas.findIndex(function (
                              e
                            ) {
                              return e == r;
                            });
                            t > -1 &&
                              (this._closeDropAreas.splice(t, 1),
                              (this.dropArea = this.getClosestDropArea()));
                          }
                        }
                      }),
                      (a.getClosestDropArea = function () {
                        for (
                          var e = null, r = Number.MAX_VALUE, t = 0;
                          t < this._closeDropAreas.length;
                          t++
                        ) {
                          var i = new h();
                          h.subtract(
                            i,
                            this._closeDropAreas[t].node.position,
                            this.node.position
                          ),
                            i.lengthSqr() < r &&
                              ((e = this._closeDropAreas[t]),
                              (r = i.lengthSqr()));
                        }
                        return e;
                      }),
                      n(r, [
                        {
                          key: "dropArea",
                          get: function () {
                            return this._dropArea;
                          },
                          set: function (e) {
                            if (this._dropArea != e) {
                              var r = !0;
                              null != this._dropArea &&
                                (this._dropArea.setUntargetedBy(this),
                                (r = !1)),
                                (this._dropArea = e),
                                null != this._dropArea
                                  ? (this._dropArea.setTargetedBy(this),
                                    r &&
                                      (this.node.emit(
                                        D[D.Droppable_EnteredADropArea]
                                      ),
                                      p.emitEvents(this._onEnteredADropArea)))
                                  : r ||
                                    (this.node.emit(
                                      D[D.Droppable_LeftAllDropAreas]
                                    ),
                                    p.emitEvents(this._onLeftAllDropArea));
                            }
                          },
                        },
                      ]),
                      r
                    );
                  })(d)).prototype,
                  "_collider",
                  [A],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (I = r(C.prototype, "_onValidDrop", [b], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (S = r(C.prototype, "_onFailedDrop", [E], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (x = r(C.prototype, "_onEnteredADropArea", [v], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (L = r(C.prototype, "_onLeftAllDropArea", [m], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (y = C))
              ) || y)
          ) || y)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EndGameUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var n, t, r, c;
    return {
      setters: [
        function (e) {
          n = e.inheritsLoose;
        },
        function (e) {
          (t = e.cclegacy), (r = e._decorator), (c = e.Component);
        },
      ],
      execute: function () {
        var o;
        t._RF.push({}, "6b287l31gNFBaX7EFR/A6A6", "EndGameUI", void 0);
        var s = r.ccclass;
        r.property,
          e(
            "EndGameUI",
            s("EndGameUI")(
              (o = (function (e) {
                function t() {
                  return e.apply(this, arguments) || this;
                }
                return n(t, e), t;
              })(c))
            ) || o
          );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemiesDataController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnemiesDataControllerEvents.ts",
    "./EnemyData.ts",
  ],
  function (e) {
    "use strict";
    var t, n, o, a, r, s, i, l, u, c, d, f;
    return {
      setters: [
        function (e) {
          (t = e.createForOfIteratorHelperLoose), (n = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (r = e.game),
            (s = e.Game),
            (i = e.resources),
            (l = e.JsonAsset);
        },
        function (e) {
          u = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          d = e.EnemiesDataControllerEvents;
        },
        function (e) {
          f = e.EnemyData;
        },
      ],
      execute: function () {
        o._RF.push(
          {},
          "af1aeaFL9dDf4awr3kQLl13",
          "EnemiesDataController",
          void 0
        );
        a.ccclass, a.property;
        var m = e(
          "EnemiesDataController",
          (function () {
            function e() {
              var e = this;
              (this._enemiesData = []),
                (this._isLoaded = !1),
                r.on(
                  s.EVENT_GAME_INITED,
                  function () {
                    i.load(
                      "Enemies/enemies",
                      l,
                      null,
                      e.onLoadCompleted.bind(e)
                    );
                  },
                  this
                );
            }
            var o = e.prototype;
            return (
              (o.onLoadCompleted = function (e, n) {
                if (null == e) {
                  var o = n.json;
                  if (Array.isArray(o)) {
                    for (var a, r = t(o); !(a = r()).done; ) {
                      var s = a.value,
                        i = new f(s);
                      this._enemiesData.push(i);
                    }
                    (this._isLoaded = !0),
                      c.emit(d[d.EnemiesDataController_Loaded]);
                  } else u.log("Couldn't parse waves!");
                }
              }),
              (o.getEnemyData = function (e) {
                var t = this._enemiesData.find(function (t) {
                  return t.name === e;
                });
                if (t) return t;
                throw "Couldn't find EnemyData for ID " + e;
              }),
              n(e, [
                {
                  key: "isLoaded",
                  get: function () {
                    return this._isLoaded;
                  },
                },
              ]),
              e
            );
          })()
        );
        e("enemiesDataController", new m());
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemiesDataControllerEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var t;
    return {
      setters: [
        function (e) {
          t = e.cclegacy;
        },
      ],
      execute: function () {
        var n;
        e("EnemiesDataControllerEvents", void 0),
          t._RF.push(
            {},
            "7472bjTneFMDZEveFvyfrWA",
            "EnemiesDataControllerEvents",
            void 0
          ),
          (function (e) {
            e[(e.EnemiesDataController_Loaded = 0)] =
              "EnemiesDataController_Loaded";
          })(n || (n = e("EnemiesDataControllerEvents", {}))),
          t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Enemy.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnemiesDataControllerEvents.ts",
    "./EnemiesDataController.ts",
    "./EnemyHP.ts",
    "./EnemyMovement.ts",
    "./EnemyStun.ts",
  ],
  function (e) {
    "use strict";
    var n, t, i, r, o, a, l, s, u, c, m, p, y, h, f, g, _, b;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (s = e.EventHandler),
            (u = e.CCInteger),
            (c = e.Node),
            (m = e.Component);
        },
        function (e) {
          p = e.logger;
        },
        function (e) {
          y = e.projectEvent;
        },
        function (e) {
          h = e.EnemiesDataControllerEvents;
        },
        function (e) {
          f = e.enemiesDataController;
        },
        function (e) {
          g = e.EnemyHP;
        },
        function (e) {
          _ = e.EnemyMovement;
        },
        function (e) {
          b = e.EnemyStun;
        },
      ],
      execute: function () {
        var v, E, d, D, C, z, M, w, P, I, k, S, H, L, j, F, V;
        a._RF.push({}, "aef56Y21r9E+J7yXKIjObFP", "Enemy", void 0);
        var R = l.ccclass,
          x = l.property;
        e(
          "Enemy",
          ((v = R("Enemy")),
          (E = x({ visible: !0 })),
          (d = x({ visible: !0, type: [s] })),
          (D = x({ visible: !0, type: g })),
          (C = x({ visible: !0, type: _ })),
          (z = x({ visible: !0, type: b })),
          (M = x({ visible: !0, type: u })),
          (w = x({ visible: !0, type: c })),
          v(
            ((k = n(
              (I = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, o = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (n = e.call.apply(e, [this].concat(o)) || this),
                    i(n, "_enemyID", k, r(n)),
                    i(n, "_initializeEnemyData", S, r(n)),
                    (n._enemyData = null),
                    i(n, "_hpManager", H, r(n)),
                    i(n, "_movement", L, r(n)),
                    i(n, "_stunController", j, r(n)),
                    i(n, "_tier", F, r(n)),
                    i(n, "_enemiesSpawnPosition", V, r(n)),
                    n
                  );
                }
                t(n, e);
                var a = n.prototype;
                return (
                  (a.onLoad = function () {
                    null === this._hpManager &&
                      (this._hpManager = this.node.getComponentInChildren(g)),
                      null === this._movement &&
                        (this._movement = this.node.getComponentInChildren(_)),
                      null === this._stunController &&
                        (this._stunController =
                          this.node.getComponentInChildren(b));
                  }),
                  (a.start = function () {
                    f.isLoaded
                      ? this.initializeEnemyData()
                      : y.once(
                          h[h.EnemiesDataController_Loaded],
                          this.initializeEnemyData,
                          this
                        );
                  }),
                  (a.initializeEnemyData = function () {
                    try {
                      var e = f.getEnemyData(this._enemyID);
                      (this._enemyData = e),
                        s.emitEvents(this._initializeEnemyData, e);
                    } catch (e) {
                      p.log(e);
                    }
                  }),
                  (a.damage = function (e) {
                    this._hpManager.damage(e);
                  }),
                  o(n, [
                    {
                      key: "enemyID",
                      get: function () {
                        return this._enemyID;
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        return this._enemyData;
                      },
                    },
                    {
                      key: "hpManager",
                      get: function () {
                        return this._hpManager;
                      },
                    },
                    {
                      key: "movement",
                      get: function () {
                        return this._movement;
                      },
                    },
                    {
                      key: "stunController",
                      get: function () {
                        return this._stunController;
                      },
                    },
                    {
                      key: "tier",
                      get: function () {
                        return this._tier;
                      },
                    },
                    {
                      key: "enemiesSpawnPosition",
                      get: function () {
                        var e;
                        return null != (e = this._enemiesSpawnPosition)
                          ? e
                          : this.node;
                      },
                    },
                    {
                      key: "isValid",
                      get: function () {
                        return null !== this._hpManager &&
                          this._hpManager.totalHP > 0
                          ? e.prototype.isValid && this._hpManager.currentHP > 0
                          : e.prototype.isValid && null !== this.node;
                      },
                    },
                  ]),
                  n
                );
              })(m)).prototype,
              "_enemyID",
              [E],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (S = n(I.prototype, "_initializeEnemyData", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = n(I.prototype, "_hpManager", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (L = n(I.prototype, "_movement", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (j = n(I.prototype, "_stunController", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (F = n(I.prototype, "_tier", [M], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (V = n(I.prototype, "_enemiesSpawnPosition", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (P = I))
          ) || P)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemyData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n, i;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          (n = e.cclegacy), (i = e._decorator);
        },
      ],
      execute: function () {
        var a;
        n._RF.push({}, "56a11aTc61A9KfqaJZ9KjVI", "EnemyData", void 0);
        var s = i.ccclass;
        i.property,
          e(
            "EnemyData",
            s("EnemyData")(
              (a = (function () {
                function e(e, t, n, i, a, s) {
                  (this._name = ""),
                    (this._hp = 0),
                    (this._moveSpeed = 0),
                    (this._damage = 0),
                    (this._special = ""),
                    (this._energyDrop = 0),
                    "object" == typeof e
                      ? ((this._name = e.name),
                        (this._hp = e.hp),
                        (this._moveSpeed = e.moveSpeed),
                        (this._damage = e.damage),
                        (this._special = e.special),
                        (this._energyDrop = e.energyDrop))
                      : ((this._name = e),
                        (this._hp = t),
                        (this._moveSpeed = n),
                        (this._damage = i),
                        (this._special = a),
                        (this._energyDrop = s));
                }
                return (
                  t(e, [
                    {
                      key: "name",
                      get: function () {
                        return this._name;
                      },
                    },
                    {
                      key: "hp",
                      get: function () {
                        return this._hp;
                      },
                    },
                    {
                      key: "moveSpeed",
                      get: function () {
                        return this._moveSpeed;
                      },
                    },
                    {
                      key: "damage",
                      get: function () {
                        return this._damage;
                      },
                    },
                    {
                      key: "special",
                      get: function () {
                        return this._special;
                      },
                    },
                    {
                      key: "energyDrop",
                      get: function () {
                        return this._energyDrop;
                      },
                    },
                  ]),
                  e
                );
              })())
            ) || a
          );
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/EnemyEvents.ts", ["cc"], function (e) {
  "use strict";
  var n;
  return {
    setters: [
      function (e) {
        n = e.cclegacy;
      },
    ],
    execute: function () {
      var t;
      e("EnemyEvents", void 0),
        n._RF.push({}, "e15e8VgwvpNI789pQ1Mugyp", "EnemyEvents", void 0),
        (function (e) {
          (e[(e.Enemy_Spawned = 0)] = "Enemy_Spawned"),
            (e[(e.Enemy_Died = 1)] = "Enemy_Died"),
            (e[(e.Enemy_ReachedCubeTower = 2)] = "Enemy_ReachedCubeTower"),
            (e[(e.Enemy_None = 3)] = "Enemy_None");
        })(t || (t = e("EnemyEvents", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/EnemyEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./EnemyEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, c, o, a, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (o = e._decorator), (a = e.Enum);
        },
        function (e) {
          u = e.EnemyEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, y, E, p, f;
        c._RF.push(
          {},
          "8047a44vKNE9LmKzAWzaOGd",
          "EnemyEventsListener",
          void 0
        );
        var m = o.ccclass,
          L = o.property;
        e(
          "EnemyEventsListener",
          ((v = m("EnemyEventsListener")),
          (y = L({ visible: !0, type: a(u) })),
          v(
            ((f = t(
              (p = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", f, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Enemy_None;
                },
              }
            )),
            (E = p))
          ) || E)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemyHP.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./Fillbar.ts",
    "./EnemyEvents.ts",
  ],
  function (t) {
    "use strict";
    var e, i, n, r, o, a, l, u, s, c, h, p, _;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (o = t.createClass);
        },
        function (t) {
          (a = t.cclegacy),
            (l = t._decorator),
            (u = t.EventHandler),
            (s = t.Node),
            (c = t.Component);
        },
        function (t) {
          h = t.projectEvent;
        },
        function (t) {
          p = t.Fillbar;
        },
        function (t) {
          _ = t.EnemyEvents;
        },
      ],
      execute: function () {
        var y, b, f, H, P, m, v, E, d, g, F;
        a._RF.push({}, "133b7ahIhlFXJe04KNJ+98c", "EnemyHP", void 0);
        var z = l.ccclass,
          D = l.property;
        t(
          "EnemyHP",
          ((y = z("EnemyHP")),
          (b = D({ visible: !0, type: [u] })),
          (f = D({ visible: !0, type: [u] })),
          (H = D({ visible: !0, type: p })),
          (P = D({ visible: !0, type: s })),
          y(
            ((E = e(
              (v = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, o = new Array(i), a = 0;
                    a < i;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    n(e, "_onHit", E, r(e)),
                    n(e, "_onDeath", d, r(e)),
                    n(e, "_uiFillbar", g, r(e)),
                    n(e, "_enemy", F, r(e)),
                    (e._totalHP = 0),
                    (e._currentHP = 0),
                    e
                  );
                }
                i(e, t);
                var a = e.prototype;
                return (
                  (a.initialize = function (t) {
                    (this._totalHP = t.hp), (this._currentHP = t.hp);
                  }),
                  (a.onLoad = function () {
                    null === this._enemy &&
                      (this._enemy = this.node.parent.parent);
                  }),
                  (a.damage = function (t) {
                    if (this.currentHP > 0) {
                      var e = this._currentHP === this.totalHP;
                      t >= this._currentHP
                        ? ((this._currentHP = 0),
                          u.emitEvents(this._onDeath),
                          h.emit(_[_.Enemy_Died], this._enemy),
                          this._uiFillbar.setRatio(0),
                          this._uiFillbar.hideBar())
                        : ((this._currentHP -= t),
                          u.emitEvents(this._onHit),
                          this._uiFillbar.setRatio(
                            this.currentHP / this.totalHP
                          ),
                          e && this._uiFillbar.showBar());
                    }
                  }),
                  o(e, [
                    {
                      key: "totalHP",
                      get: function () {
                        return this._totalHP;
                      },
                    },
                    {
                      key: "currentHP",
                      get: function () {
                        return this._currentHP;
                      },
                    },
                  ]),
                  e
                );
              })(c)).prototype,
              "_onHit",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (d = e(v.prototype, "_onDeath", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (g = e(v.prototype, "_uiFillbar", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (F = e(v.prototype, "_enemy", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (m = v))
          ) || m)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemyModelsUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelHintData.ts",
    "./SetModelsToUI.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, o, a, s, l, f, u, y, c, p, b, m;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.initializerDefineProperty),
            (i = e.inheritsLoose),
            (r = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (l = e.Node),
            (f = e.Prefab),
            (u = e.Vec3),
            (y = e.instantiate),
            (c = e.Component);
        },
        function (e) {
          (p = e.LevelHintData), (b = e.HintDataDisplayType);
        },
        function (e) {
          m = e.SetModelsToUI;
        },
      ],
      execute: function () {
        var d, h, v, P, D, E, I, g, M, _, w, T, U, z, O, H, L, F, N, S, j, k, A;
        a._RF.push({}, "26530mDlypKVbgkyPCFjn/T", "EnemyModelsUI", void 0);
        var C = s.ccclass,
          R = s.property,
          V =
            (e(
              "EnemyModelData",
              ((d = C("EnemyModelData")),
              (h = R({ visible: !0, type: l })),
              (v = R({ visible: !0 })),
              d(
                ((E = t(
                  (D = function () {
                    n(this, "enemyNode", E, this), n(this, "enemyID", I, this);
                  }).prototype,
                  "enemyNode",
                  [h],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (I = t(D.prototype, "enemyID", [v], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                })),
                (P = D))
              ) || P)
            ),
            e(
              "EnemyPrefabOffsetData",
              ((g = C("EnemyPrefabOffsetData")),
              (M = R({ visible: !0, type: f })),
              (_ = R({ visible: !0, type: u })),
              g(
                ((U = t(
                  (T = function () {
                    n(this, "enemyPrefab", U, this), n(this, "offset", z, this);
                  }).prototype,
                  "enemyPrefab",
                  [M],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return null;
                    },
                  }
                )),
                (z = t(T.prototype, "offset", [_], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return null;
                  },
                })),
                (w = T))
              ) || w)
            ));
        e(
          "EnemyModelsUI",
          ((O = C("EnemyModelsUI")),
          (H = R({ visible: !0, type: [f] })),
          (L = R({ visible: !0, type: [V] })),
          (F = R({ visible: !0, type: m })),
          O(
            ((j = t(
              (S = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, o = new Array(i), a = 0;
                    a < i;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_enemyPrefabs", j, r(t)),
                    n(t, "_enemyPrefabsOffset", k, r(t)),
                    n(t, "_setModelsToUI", A, r(t)),
                    t
                  );
                }
                i(t, e);
                var a = t.prototype;
                return (
                  (a.hideEnemy = function () {}),
                  (a.showEnemy = function (e) {
                    if (e instanceof p)
                      e.displayType === b.Enemy
                        ? this.showEnemy(e.displayEnemyID)
                        : this.hideEnemy();
                    else if ("string" == typeof e) {
                      var t = this._enemyPrefabs.find(function (t) {
                        return t.data.name.includes(e);
                      });
                      if (t) {
                        var n = y(t);
                        n.setParent(this.node);
                        var i = this._enemyPrefabsOffset.find(function (e) {
                          return e.enemyPrefab == t;
                        });
                        if (i) {
                          var r = n.position.add(i.offset);
                          n.position = r;
                        }
                        for (var a, s = o(n.children); !(a = s()).done; ) {
                          var l = a.value;
                          "Art" !== l.name && l.destroy();
                        }
                        this._setModelsToUI.setModelsToUI();
                      } else this.hideEnemy();
                    }
                  }),
                  t
                );
              })(c)).prototype,
              "_enemyPrefabs",
              [H],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (k = t(S.prototype, "_enemyPrefabsOffset", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (A = t(S.prototype, "_setModelsToUI", [F], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (N = S))
          ) || N)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemyMovement.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnemyEvents.ts",
    "./TimeScale.ts",
    "./RewardedAdsBonusEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, o, a, s, h, c, u, l, d, _, p, f, m, v, g;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (h = e.Node),
            (c = e.EventHandler),
            (u = e.Vec3),
            (l = e.math),
            (d = e.Quat),
            (_ = e.Component);
        },
        function (e) {
          p = e.logger;
        },
        function (e) {
          f = e.projectEvent;
        },
        function (e) {
          m = e.EnemyEvents;
        },
        function (e) {
          v = e.timeScale;
        },
        function (e) {
          g = e.RewardedAdsBonusEvents;
        },
      ],
      execute: function () {
        var E, y, b, x, w, P, S, I, z, M, D;
        a._RF.push({}, "f42c8MUO3JGzqBnIvM7zfpb", "EnemyMovement", void 0);
        var F = s.ccclass,
          N = s.property;
        e(
          "EnemyMovement",
          ((E = F("EnemyMovement")),
          (y = N({ visible: !0, type: h })),
          (b = N({ visible: !0 })),
          (x = N({ visible: !0 })),
          (w = N({ visible: !0, type: [c] })),
          E(
            ((I = t(
              (S = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, o = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    i(t, "_targetNode", I, r(t)),
                    i(t, "_debug", z, r(t)),
                    i(t, "_rotSpeed", M, r(t)),
                    i(t, "_onReachedDestination", D, r(t)),
                    (t._movementSpeed = 0),
                    (t._path = []),
                    (t._currentPathIndex = 0),
                    (t._reachedDestination = !1),
                    (t._active = !0),
                    (t._isFrozen = !1),
                    (t._log = !0),
                    (t._currentSlow = null),
                    t
                  );
                }
                n(t, e);
                var a = t.prototype;
                return (
                  (a.onEnable = function () {
                    f.on(g[g.FreezeEnemiesStart], this.freeEnemiesStart, this),
                      f.on(g[g.FreezeEnemiesEnd], this.freeEnemiesEnd, this);
                  }),
                  (a.onDisable = function () {
                    f.off(g[g.FreezeEnemiesStart], this.freeEnemiesStart, this),
                      f.off(g[g.FreezeEnemiesEnd], this.freeEnemiesEnd, this);
                  }),
                  (a.initialize = function (e) {
                    this._movementSpeed = e.moveSpeed;
                  }),
                  (a.setPath = function (e) {
                    (this._path = [].concat(e)), (this._currentPathIndex = 0);
                  }),
                  (a.update = function (e) {
                    this.canMove && this.move(e * v.current);
                  }),
                  (a.freeEnemiesStart = function () {
                    this._isFrozen = !0;
                  }),
                  (a.freeEnemiesEnd = function () {
                    this._isFrozen = !1;
                  }),
                  (a.move = function (e) {
                    var t,
                      n,
                      i = this._path[this._currentPathIndex + 1]
                        .clone()
                        .subtract(this._path[this._currentPathIndex]),
                      r = new u(i.y, 0, i.x),
                      o = new u(
                        this._path[this._currentPathIndex + 1].y,
                        1,
                        this._path[this._currentPathIndex + 1].x
                      ),
                      a =
                        1 -
                        (null !=
                        (t =
                          null == (n = this._currentSlow)
                            ? void 0
                            : n.percentage)
                          ? t
                          : 0),
                      s = this._targetNode.worldPosition.clone().add(
                        r
                          .clone()
                          .normalize()
                          .multiplyScalar(this._movementSpeed * a * e)
                      ),
                      h = u.distance(this._targetNode.worldPosition, o),
                      c = u.distance(s, o);
                    if (
                      (this._log &&
                        ((this._log = !1),
                        this._debug &&
                          p.log(
                            "Enemy Movement: Moving from " +
                              this._path[this._currentPathIndex] +
                              " to " +
                              this._path[this._currentPathIndex + 1] +
                              " direction: " +
                              r
                          )),
                      c > h)
                    ) {
                      this._debug &&
                        p.log(
                          "Enemy Movement: Reached destination OLD: " +
                            h +
                            " NEW: " +
                            c
                        ),
                        this._currentPathIndex++,
                        this._currentPathIndex === this._path.length - 1 &&
                          (this._debug &&
                            p.log("Enemy Movement: Reached FINAL destination"),
                          this.reachedFinalDestination());
                      var _ = u.dot(u.FORWARD, r);
                      Math.abs(_) > l.EPSILON
                        ? (this._debug &&
                            p.log(
                              "Enemy Movement: Fixing z coordinate " +
                                s.z +
                                " => " +
                                this._path[this._currentPathIndex].x
                            ),
                          (s.z = this._path[this._currentPathIndex].x))
                        : (this._debug &&
                            p.log(
                              "Enemy Movement: Fixing x coordinate " +
                                s.x +
                                " => " +
                                this._path[this._currentPathIndex].y
                            ),
                          (s.x = this._path[this._currentPathIndex].y)),
                        (this._log = !0);
                    }
                    this._targetNode.worldPosition = s;
                    var f = this._targetNode.forward;
                    if (l.toDegree(u.angle(f, r.clone().negative())) > 3) {
                      var m = new d();
                      d.rotationTo(m, f, r.clone().negative());
                      var v = new d();
                      d.slerp(v, d.IDENTITY, m.clone(), this._rotSpeed * e),
                        this._targetNode.rotate(v);
                    }
                  }),
                  (a.reachedFinalDestination = function () {
                    (this._reachedDestination = !0),
                      f.emit(m[m.Enemy_ReachedCubeTower], this._targetNode),
                      c.emitEvents(this._onReachedDestination);
                  }),
                  (a.addSlow = function (e) {
                    (null === this._currentSlow ||
                      this._currentSlow.percentage < e.percentage) &&
                      (this._currentSlow = e);
                  }),
                  (a.removeSlow = function (e) {
                    null !== this._currentSlow &&
                      this._currentSlow.tower === e &&
                      (this._currentSlow = null);
                  }),
                  (a.enable = function () {
                    this._active = !0;
                  }),
                  (a.disable = function () {
                    this._active = !1;
                  }),
                  (a.copyMovement = function (e) {
                    (this._path = [].concat(e.path)),
                      (this._currentPathIndex = e.currentPathIndex);
                  }),
                  o(t, [
                    {
                      key: "path",
                      get: function () {
                        return [].concat(this._path);
                      },
                    },
                    {
                      key: "currentPathIndex",
                      get: function () {
                        return this._currentPathIndex;
                      },
                    },
                    {
                      key: "canMove",
                      get: function () {
                        return (
                          this._active &&
                          this._path.length > 0 &&
                          !this._reachedDestination &&
                          !this._isFrozen
                        );
                      },
                    },
                    {
                      key: "distanceToGoal",
                      get: function () {
                        for (
                          var e = 0, t = this._currentPathIndex + 1;
                          t < this._path.length;
                          t++
                        ) {
                          var n = null;
                          if (t === this._currentPathIndex + 1)
                            n = this.node.worldPosition;
                          else {
                            var i = this._path[t - 1];
                            n = new u(i.y, 1, i.x);
                          }
                          var r = this._path[t],
                            o = new u(r.y, 1, r.x);
                          e += u.distance(n, o);
                        }
                        return e;
                      },
                    },
                  ]),
                  t
                );
              })(_)).prototype,
              "_targetNode",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (z = t(S.prototype, "_debug", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (M = t(S.prototype, "_rotSpeed", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 10;
              },
            })),
            (D = t(S.prototype, "_onReachedDestination", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = S))
          ) || P)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemySpecialEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var n;
    return {
      setters: [
        function (e) {
          n = e.cclegacy;
        },
      ],
      execute: function () {
        var c;
        e("EnemySpecialEvents", void 0),
          n._RF.push(
            {},
            "4c0ceDJRExAz7Aad32RevD0",
            "EnemySpecialEvents",
            void 0
          ),
          (function (e) {
            (e[(e.None = 0)] = "None"),
              (e[(e.EnemySpecial_SpawnEnemy = 1)] = "EnemySpecial_SpawnEnemy");
          })(c || (c = e("EnemySpecialEvents", {}))),
          n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnemyStun.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TimeScale.ts"],
  function (n) {
    "use strict";
    var t, e, i, r, u, s, o, a, c, l;
    return {
      setters: [
        function (n) {
          (t = n.createClass),
            (e = n.applyDecoratedDescriptor),
            (i = n.inheritsLoose),
            (r = n.initializerDefineProperty),
            (u = n.assertThisInitialized);
        },
        function (n) {
          (s = n.cclegacy),
            (o = n._decorator),
            (a = n.EventHandler),
            (c = n.Component);
        },
        function (n) {
          l = n.timeScale;
        },
      ],
      execute: function () {
        var p, S, d, _, h, f, y, m, v;
        s._RF.push({}, "1bef6jJvZ9JSrZKP9zLO/+3", "EnemyStun", void 0);
        var b = o.ccclass,
          g = o.property;
        n(
          "StunData",
          (function () {
            function n(n) {
              (this._duration = 0), (this._duration = n);
            }
            return (
              t(n, [
                {
                  key: "duration",
                  get: function () {
                    return this._duration;
                  },
                },
              ]),
              n
            );
          })()
        ),
          n(
            "EnemyStun",
            ((p = b("EnemyStun")),
            (S = g({ visible: !0, type: [a] })),
            (d = g({ visible: !0, type: [a] })),
            (_ = g({ visible: !0, type: [a] })),
            p(
              ((y = e(
                (f = (function (n) {
                  function e() {
                    for (
                      var t, e = arguments.length, i = new Array(e), s = 0;
                      s < e;
                      s++
                    )
                      i[s] = arguments[s];
                    return (
                      (t = n.call.apply(n, [this].concat(i)) || this),
                      r(t, "_onStunBegin", y, u(t)),
                      r(t, "_onStunRenewd", m, u(t)),
                      r(t, "_onStunEnd", v, u(t)),
                      (t._isStunned = !1),
                      (t._currentStun = null),
                      (t._elapsedTime = 0),
                      t
                    );
                  }
                  i(e, n);
                  var s = e.prototype;
                  return (
                    (s.stun = function (n) {
                      this._isStunned
                        ? ((this._currentStun = n),
                          (this._elapsedTime = 0),
                          a.emitEvents(this._onStunRenewd))
                        : ((this._isStunned = !0),
                          (this._currentStun = n),
                          (this._elapsedTime = 0),
                          a.emitEvents(this._onStunBegin));
                    }),
                    (s.finishStun = function () {
                      (this._isStunned = !1), a.emitEvents(this._onStunEnd);
                    }),
                    (s.update = function (n) {
                      (n *= l.current),
                        (this._elapsedTime += n),
                        this.isStunned &&
                          this._elapsedTime >= this._currentStun.duration &&
                          this.finishStun();
                    }),
                    t(e, [
                      {
                        key: "isStunned",
                        get: function () {
                          return this._isStunned;
                        },
                      },
                    ]),
                    e
                  );
                })(c)).prototype,
                "_onStunBegin",
                [S],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                }
              )),
              (m = e(f.prototype, "_onStunRenewd", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              })),
              (v = e(f.prototype, "_onStunEnd", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              })),
              (h = f))
            ) || h)
          );
        s._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/EnergyEvents.ts", ["cc"], function (e) {
  "use strict";
  var n;
  return {
    setters: [
      function (e) {
        n = e.cclegacy;
      },
    ],
    execute: function () {
      var r;
      e("EnergyEvents", void 0),
        n._RF.push({}, "cd079+VYzlJUo12qrWjNKm7", "EnergyEvents", void 0),
        (function (e) {
          (e[(e.Energy_None = 0)] = "Energy_None"),
            (e[(e.Energy_Changed = 1)] = "Energy_Changed"),
            (e[(e.Energy_Consume = 2)] = "Energy_Consume");
        })(r || (r = e("EnergyEvents", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/EnergyEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./EnergyEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, c, o, a, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (o = e._decorator), (a = e.Enum);
        },
        function (e) {
          u = e.EnergyEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, y, E, f;
        c._RF.push(
          {},
          "634b0b0+spC5rwO9HtRDINm",
          "EnergyEventsListener",
          void 0
        );
        var g = o.ccclass,
          h = o.property;
        e(
          "EnergyEventsListener",
          ((v = g("EnergyEventsListener")),
          (p = h({ visible: !0, type: a(u) })),
          v(
            ((f = t(
              (E = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", f, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Energy_None;
                },
              }
            )),
            (y = E))
          ) || y)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnergySystem.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./Enemy.ts",
    "./EnemyEvents.ts",
    "./EnergyEvents.ts",
    "./TimeScale.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./UpgradesController.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, a, s, u, c, o, y, g, h, l, f, _, E, m, d, p;
    return {
      setters: [
        function (e) {
          (t = e.createClass),
            (n = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized);
        },
        function (e) {
          (s = e.cclegacy),
            (u = e._decorator),
            (c = e.CCInteger),
            (o = e.CCFloat),
            (y = e.Prefab),
            (g = e.Component);
        },
        function (e) {
          h = e.projectEvent;
        },
        function (e) {
          l = e.Enemy;
        },
        function (e) {
          f = e.EnemyEvents;
        },
        function (e) {
          _ = e.EnergyEvents;
        },
        function (e) {
          E = e.timeScale;
        },
        function (e) {
          m = e.TowersData;
        },
        function (e) {
          d = e.TowerTypes;
        },
        function (e) {
          p = e.upgradesController;
        },
      ],
      execute: function () {
        var v, w, D, b, x, A, T, C, M, S, k, P, R;
        s._RF.push({}, "ca75cIVvLBMl7Ykys8006FJ", "EnergySystem", void 0);
        var F = u.ccclass,
          z = u.property,
          V = e(
            "EnergyEventData",
            (function () {
              function e(e, t, n) {
                (this._current = 0),
                  (this._total = 0),
                  (this._decimals = 0),
                  (this._current = e),
                  (this._decimals = t),
                  (this._total = n);
              }
              return (
                t(e, [
                  {
                    key: "current",
                    get: function () {
                      return this._current;
                    },
                  },
                  {
                    key: "total",
                    get: function () {
                      return this._total;
                    },
                  },
                  {
                    key: "decimals",
                    get: function () {
                      return this._decimals;
                    },
                  },
                ]),
                e
              );
            })()
          ),
          I = e(
            "ConsumeEnergyRequest",
            (function () {
              function e(e, t, n) {
                (this._value = 0),
                  (this._onSuccess = null),
                  (this._onFailed = null),
                  (this._value = e),
                  (this._onSuccess = t),
                  (this._onFailed = n);
              }
              return (
                t(e, [
                  {
                    key: "value",
                    get: function () {
                      return this._value;
                    },
                  },
                  {
                    key: "onSuccess",
                    get: function () {
                      return this._onSuccess;
                    },
                  },
                  {
                    key: "onFailed",
                    get: function () {
                      return this._onFailed;
                    },
                  },
                ]),
                e
              );
            })()
          );
        e(
          "EnergySystem",
          ((v = F("EnergySystem")),
          (w = z({ visible: !0 })),
          (D = z({ visible: !0, type: [c] })),
          (b = z({ visible: !0, type: [o], unit: "unit/s" })),
          (x = z({ visible: !0 })),
          (A = z({ visible: !0, type: y })),
          v(
            ((M = n(
              (C = (function (e) {
                function n() {
                  for (
                    var t, n = arguments.length, r = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    r[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    i(t, "_initialEnergy", M, a(t)),
                    i(t, "_maxEnergy", S, a(t)),
                    (t._currentMaxEnergy = -1),
                    i(t, "_rechargeAmount", k, a(t)),
                    (t._currentRechargeAmount = -1),
                    (t._currentEnergy = 0),
                    (t._energyAcc = 0),
                    i(t, "_active", P, a(t)),
                    (t._infinityEnergy = !1),
                    i(t, "_towersDataPrefab", R, a(t)),
                    (t._towersData = null),
                    t
                  );
                }
                r(n, e);
                var s = n.prototype;
                return (
                  (s.onEnable = function () {
                    h.on(_[_.Energy_Consume], this.consumeEnergy, this),
                      h.on(f[f.Enemy_Died], this.enemyDied, this);
                  }),
                  (s.onDisable = function () {
                    h.off(_[_.Energy_Consume], this.consumeEnergy, this),
                      h.off(f[f.Enemy_Died], this.enemyDied, this);
                  }),
                  (s.start = function () {
                    this.startGame();
                  }),
                  (s.update = function (e) {
                    this._active &&
                      this._currentEnergy < this.maxEnergy &&
                      this.rechargeEnergy(e * E.current);
                  }),
                  (s.rechargeEnergy = function (e) {
                    if (e > 0 || this._energyAcc > 0) {
                      this._energyAcc += e * this.rechargeAmount;
                      var t = Math.floor(this._energyAcc);
                      t > 0 &&
                        ((this._currentEnergy += t),
                        (this._energyAcc -= t),
                        this._currentEnergy >= this.maxEnergy &&
                          ((this._currentEnergy = this.maxEnergy),
                          (this._energyAcc = 0))),
                        this.emitEnergyData();
                    }
                  }),
                  (s.startGame = function () {
                    (this._currentEnergy = this._initialEnergy),
                      this.emitEnergyData();
                  }),
                  (s.activate = function () {
                    this._active = !0;
                  }),
                  (s.deactivate = function () {
                    this._active = !1;
                  }),
                  (s.consumeEnergy = function (e) {
                    this._active &&
                      e instanceof I &&
                      (this._currentEnergy >= e.value
                        ? ((this._currentEnergy -= e.value),
                          e.onSuccess(),
                          this.emitEnergyData())
                        : e.onFailed());
                  }),
                  (s.toggleInfinityEnergy = function () {
                    this._infinityEnergy
                      ? ((this._currentMaxEnergy = -1),
                        (this._currentRechargeAmount = -1),
                        (this._currentEnergy = this.maxEnergy),
                        this.emitEnergyData())
                      : ((this._currentMaxEnergy = 10),
                        (this._currentRechargeAmount = 10)),
                      (this._infinityEnergy = !this._infinityEnergy);
                  }),
                  (s.emitEnergyData = function () {
                    var e = new V(
                      this._currentEnergy,
                      this._energyAcc,
                      this.maxEnergy
                    );
                    h.emit(_[_.Energy_Changed], e);
                  }),
                  (s.enemyDied = function (e) {
                    var t = e.getComponent(l);
                    if (this._currentEnergy < this._currentMaxEnergy) {
                      var n = this._currentMaxEnergy - this._currentEnergy;
                      this._energyAcc += Math.min(t.data.energyDrop, n);
                    }
                  }),
                  (s.towerDestroyed = function (e) {
                    var t = e.currentUpgradeState.replace("-plus", ""),
                      n = e.currentUpgradeState.includes("-plus"),
                      r = 0;
                    if (
                      (e.towerType === d.GunTower
                        ? (r = n
                            ? this.towersData.gunTowers.find(function (e) {
                                return e.id === t;
                              }).energyValuePlus
                            : this.towersData.gunTowers.find(function (e) {
                                return e.id === t;
                              }).energyValue)
                        : e.towerType === d.CannonTower
                        ? (r = n
                            ? this.towersData.cannonTowers.find(function (e) {
                                return e.id === t;
                              }).energyValuePlus
                            : this.towersData.cannonTowers.find(function (e) {
                                return e.id === t;
                              }).energyValue)
                        : e.towerType === d.LaserTower &&
                          (r = n
                            ? this.towersData.laserTowers.find(function (e) {
                                return e.id === t;
                              }).energyValuePlus
                            : this.towersData.laserTowers.find(function (e) {
                                return e.id === t;
                              }).energyValue),
                      this._currentEnergy < this._currentMaxEnergy)
                    ) {
                      var i = this._currentMaxEnergy - this._currentEnergy;
                      this._energyAcc += Math.min(r, i);
                    }
                  }),
                  t(n, [
                    {
                      key: "maxEnergy",
                      get: function () {
                        if (this._currentMaxEnergy < 0) {
                          var e = p.savedCommonUpgrades.filter(function (e) {
                              return e.key.includes("maxEnergy");
                            }),
                            t = e.findIndex(function (e) {
                              return !1 === e.owned;
                            });
                          this._currentMaxEnergy =
                            this._maxEnergy[-1 == t ? e.length : t];
                        }
                        return this._currentMaxEnergy;
                      },
                    },
                    {
                      key: "rechargeAmount",
                      get: function () {
                        if (this._currentRechargeAmount < 0) {
                          var e = p.savedCommonUpgrades.filter(function (e) {
                              return e.key.includes("energyRecharge");
                            }),
                            t = e.findIndex(function (e) {
                              return !1 === e.owned;
                            });
                          this._currentRechargeAmount =
                            this._rechargeAmount[-1 == t ? e.length : t];
                        }
                        return this._currentRechargeAmount;
                      },
                    },
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null == this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(m)),
                          this._towersData
                        );
                      },
                    },
                  ]),
                  n
                );
              })(g)).prototype,
              "_initialEnergy",
              [w],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 3;
                },
              }
            )),
            (S = n(C.prototype, "_maxEnergy", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (k = n(C.prototype, "_rechargeAmount", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = n(C.prototype, "_active", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (R = n(C.prototype, "_towersDataPrefab", [A], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (T = C))
          ) || T)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EnergyUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./EnergySystem.ts"],
  function (e) {
    "use strict";
    var t, r, i, n, s, l, a, o, u, c, y, g;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (s = e.cclegacy),
            (l = e._decorator),
            (a = e.Node),
            (o = e.EventHandler),
            (u = e.Vec3),
            (c = e.UIOpacity),
            (y = e.Component);
        },
        function (e) {
          g = e.EnergyEventData;
        },
      ],
      execute: function () {
        var _, h, E, p, f, b, v, F, m, z, D, V, d, w, I, k, C;
        s._RF.push({}, "826172kECFGjq4DVDVtJUzR", "EnergyUI", void 0);
        var L = l.ccclass,
          S = l.property;
        e(
          "EnergyUI",
          ((_ = L("EnergyUI")),
          (h = S({ visible: !0, type: [a] })),
          (E = S({ visible: !0, type: [a] })),
          (p = S({ visible: !0, type: [o] })),
          (f = S({ visible: !0, type: [o] })),
          (b = S({ visible: !0, type: [o] })),
          (v = S({ visible: !0, type: [o] })),
          (F = S({ visible: !0, type: [o] })),
          _(
            ((D = t(
              (z = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, s = new Array(r), l = 0;
                    l < r;
                    l++
                  )
                    s[l] = arguments[l];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_energyEntries", D, n(t)),
                    i(t, "_energyLockEntries", V, n(t)),
                    i(t, "_setCurrentValue", d, n(t)),
                    i(t, "_setTotalValue", w, n(t)),
                    i(t, "_setFillValue", I, n(t)),
                    (t._currentData = null),
                    (t._isFirstInitialization = !0),
                    (t._isFull = !1),
                    i(t, "_onEnergyFull", k, n(t)),
                    i(t, "_onNotEnergyFull", C, n(t)),
                    t
                  );
                }
                r(t, e);
                var s = t.prototype;
                return (
                  (s.setEnergyData = function (e, t) {
                    if (e instanceof g) {
                      o.emitEvents(this._setCurrentValue, e.current),
                        o.emitEvents(this._setTotalValue, e.total);
                      var r = (e.current + e.decimals) / e.total;
                      o.emitEvents(this._setFillValue, r),
                        null !== this._currentData
                          ? this.updateEntries(this._currentData, e)
                          : this.setEntries(e),
                        (this._currentData = e);
                    } else t && this.setEnergyData(t);
                  }),
                  (s.setEntries = function (e) {
                    var t = 0;
                    for (
                      t = 0;
                      t < e.current && t < this._energyEntries.length;
                      t++
                    )
                      this._energyEntries[t].setScale(u.ONE);
                    for (
                      t = e.current;
                      t < this._energyEntries.length &&
                      t < this._energyEntries.length;
                      t++
                    )
                      this._energyEntries[t].setScale(u.ZERO);
                    if (this._isFirstInitialization) {
                      for (
                        this._isFirstInitialization = !1, t = 0;
                        t < e.total && t < this._energyEntries.length;
                        t++
                      )
                        this._energyLockEntries[t].getComponent(c).opacity = 0;
                      for (
                        t = e.total;
                        t < this._energyLockEntries.length &&
                        t < this._energyEntries.length;
                        t++
                      )
                        this._energyLockEntries[t].getComponent(
                          c
                        ).opacity = 255;
                    }
                    e.current === e.total
                      ? (this._isFull = !0)
                      : (this._isFull = !1);
                  }),
                  (s.updateEntries = function (e, t) {
                    for (var r = e.current; r < t.current; r++)
                      this._energyEntries[r].setScale(u.ONE);
                    for (
                      var i = Math.min(
                        this._energyEntries.length - 1,
                        e.current
                      );
                      i >= t.current;
                      i--
                    )
                      this._energyEntries[i].setScale(u.ZERO);
                    if (t.current < 10) {
                      var n = new u(t.decimals, 1, 1);
                      this._energyEntries[t.current].setScale(n);
                    }
                    t.current === t.total && !1 === this._isFull
                      ? ((this._isFull = !0), o.emitEvents(this._onEnergyFull))
                      : t.current < t.total &&
                        !0 === this._isFull &&
                        ((this._isFull = !1),
                        o.emitEvents(this._onNotEnergyFull));
                  }),
                  t
                );
              })(y)).prototype,
              "_energyEntries",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (V = t(z.prototype, "_energyLockEntries", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = t(z.prototype, "_setCurrentValue", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (w = t(z.prototype, "_setTotalValue", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (I = t(z.prototype, "_setFillValue", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (k = t(z.prototype, "_onEnergyFull", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(z.prototype, "_onNotEnergyFull", [F], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (m = z))
          ) || m)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EventListener.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseEventListener.ts"],
  function (e) {
    "use strict";
    var t, n, r, i, s, c, o, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (o = e._decorator);
        },
        function (e) {
          a = e.BaseEventListener;
        },
      ],
      execute: function () {
        var l, u, v, p, f;
        c._RF.push({}, "dd9c0fxyXpOX7Q1l8AlM8Gz", "EventListener", void 0);
        var y = o.ccclass,
          h = o.property;
        e(
          "EventListener",
          ((l = y("EventListener")),
          (u = h({ visible: !0 })),
          l(
            ((f = t(
              (p = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", f, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return this._eventID;
                      },
                    },
                  ]),
                  t
                );
              })(a)).prototype,
              "_eventID",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (v = p))
          ) || v)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/EventRaiser.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseEventRaiser.ts"],
  function (e) {
    "use strict";
    var t, r, i, n, a, s, o, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (o = e._decorator);
        },
        function (e) {
          c = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var u, l, p, f, y, v, h;
        s._RF.push({}, "a2b25EHeuNHtrhlTfnn9xoq", "EventRaiser", void 0);
        var d = o.ccclass,
          _ = o.property;
        e(
          "EventRaiser",
          ((u = d("EventRaiser")),
          (l = _({ visible: !0 })),
          (p = _({ visible: !0 })),
          u(
            ((v = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_key", v, n(t)),
                    i(t, "_data", h, n(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return this._key;
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_key",
              [l],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (h = t(y.prototype, "_data", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (f = y))
          ) || f)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/FarthestToGoalTowerTargetChooser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./EnemyMovement.ts",
    "./BaseTowerTargetChooser.ts",
  ],
  function (e) {
    "use strict";
    var o, t, r, n, s;
    return {
      setters: [
        function (e) {
          o = e.inheritsLoose;
        },
        function (e) {
          (t = e.cclegacy), (r = e._decorator);
        },
        function (e) {
          n = e.EnemyMovement;
        },
        function (e) {
          s = e.BaseTowerTargetChooser;
        },
      ],
      execute: function () {
        var a;
        t._RF.push(
          {},
          "bca0cxtiN5DSItYHhOy/+NW",
          "FarthestToGoalTowerTargetChooser",
          void 0
        );
        var c = r.ccclass;
        r.property,
          e(
            "FarthestToGoalTowerTargetChooser",
            c("FarthestToGoalTowerTargetChooser")(
              (a = (function (e) {
                function t() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  o(t, e),
                  (t.prototype.chooseTarget = function (e) {
                    for (
                      var o = e[0],
                        t = e[0].node.getComponentInChildren(n),
                        r = 1;
                      r < e.length;
                      r++
                    ) {
                      var s = e[r].node.getComponentInChildren(n);
                      t.distanceToGoal < s.distanceToGoal &&
                        ((o = e[r]), (t = s));
                    }
                    return o;
                  }),
                  t
                );
              })(s))
            ) || a
          );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Fillbar.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var i, t, r, n, a, o, l, s, c;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (o = e._decorator),
            (l = e.Sprite),
            (s = e.EventHandler),
            (c = e.Component);
        },
      ],
      execute: function () {
        var u, p, f, b, h, y, v, _, d;
        a._RF.push({}, "b2074tyucJAB5HC6PM0fXYi", "Fillbar", void 0);
        var B = o.ccclass,
          g = o.property;
        e(
          "Fillbar",
          ((u = B("Fillbar")),
          (p = g({ visible: !0, type: l })),
          (f = g({ visible: !0, type: [s] })),
          (b = g({ visible: !0, type: [s] })),
          u(
            ((v = i(
              (y = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, a = new Array(t), o = 0;
                    o < t;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (i = e.call.apply(e, [this].concat(a)) || this),
                    r(i, "_sprite", v, n(i)),
                    r(i, "_showBar", _, n(i)),
                    r(i, "_hideBar", d, n(i)),
                    i
                  );
                }
                t(i, e);
                var a = i.prototype;
                return (
                  (a.setRatio = function (e) {
                    this._sprite.fillRange = e;
                  }),
                  (a.showBar = function () {
                    s.emitEvents(this._showBar);
                  }),
                  (a.hideBar = function () {
                    s.emitEvents(this._hideBar);
                  }),
                  i
                );
              })(c)).prototype,
              "_sprite",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (_ = i(y.prototype, "_showBar", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = i(y.prototype, "_hideBar", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (h = y))
          ) || h)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/FollowDragOnGroundExample.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Draggable.ts",
    "./InputEnums.ts",
  ],
  function (n) {
    "use strict";
    var e, t, r, o, i, a, s, l, u, c, d, p, g, h;
    return {
      setters: [
        function (n) {
          (e = n.applyDecoratedDescriptor),
            (t = n.inheritsLoose),
            (r = n.initializerDefineProperty),
            (o = n.assertThisInitialized);
        },
        function (n) {
          (i = n.cclegacy),
            (a = n._decorator),
            (s = n.Layers),
            (l = n.geometry),
            (u = n.PhysicsSystem),
            (c = n.Collider),
            (d = n.Vec3),
            (p = n.Component);
        },
        function (n) {
          g = n.Draggable;
        },
        function (n) {
          h = n.InputEvent;
        },
      ],
      execute: function () {
        var y, f, m, v, D, b;
        i._RF.push(
          {},
          "508557u52tOdqiIYtxcbrB7",
          "FollowDragOnGroundExample",
          void 0
        );
        var P = a.ccclass,
          w = a.property,
          L = a.requireComponent;
        n(
          "FollowDragOnGroundExample",
          ((y = P("FollowDragOnGroundExample")),
          (f = L(g)),
          (m = w({ type: s.BitMask, visible: !0 })),
          y(
            (v =
              f(
                ((b = e(
                  (D = (function (n) {
                    function e() {
                      for (
                        var e, t = arguments.length, i = new Array(t), a = 0;
                        a < t;
                        a++
                      )
                        i[a] = arguments[a];
                      return (
                        (e = n.call.apply(n, [this].concat(i)) || this),
                        r(e, "_groundLayerMask", b, o(e)),
                        e
                      );
                    }
                    t(e, n);
                    var i = e.prototype;
                    return (
                      (i.onLoad = function () {
                        this.node.on(
                          h[h.Input_DragUpdate],
                          this.onDragUpdate,
                          this
                        );
                      }),
                      (i.onDragUpdate = function (n) {
                        var e = this.getGroundPosition(n);
                        e && (this.node.worldPosition = e);
                      }),
                      (i.getGroundPosition = function (n) {
                        var e = new l.Ray();
                        if (
                          (n.camera.screenPointToRay(
                            n.touchScreenPosition.x,
                            n.touchScreenPosition.y,
                            e
                          ),
                          u.instance.raycast(e))
                        ) {
                          for (
                            var t = u.instance.raycastResults,
                              r = null,
                              o = Number.MAX_VALUE,
                              i = this.node.getComponentsInChildren(c),
                              a = 0;
                            a < t.length;
                            a++
                          )
                            if (
                              (t[a].collider.node.layer &
                                this._groundLayerMask) >
                                0 &&
                              !this.isSubCollider(t[a].collider, i)
                            ) {
                              var s = new d(0, 0, 0);
                              d.subtract(s, t[a].hitPoint, e.o),
                                s.lengthSqr() < o &&
                                  ((o = s.lengthSqr()), (r = t[a]));
                            }
                          if (r) return r.hitPoint;
                        }
                        return null;
                      }),
                      (i.isSubCollider = function (n, e) {
                        return e.indexOf(n) > -1;
                      }),
                      e
                    );
                  })(p)).prototype,
                  "_groundLayerMask",
                  [m],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return s.makeMaskInclude([s.BitMask.DEFAULT]);
                    },
                  }
                )),
                (v = D))
              ) || v)
          ) || v)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ForceRotation.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var o, e, r, i, n, a, s, c, l, u, p;
    return {
      setters: [
        function (t) {
          (o = t.applyDecoratedDescriptor),
            (e = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (i = t.assertThisInitialized),
            (n = t.createClass);
        },
        function (t) {
          (a = t.cclegacy),
            (s = t._decorator),
            (c = t.Node),
            (l = t.Quat),
            (u = t.Component),
            (p = t.Vec3);
        },
      ],
      execute: function () {
        var h, _, f, d, y, b, v, R;
        a._RF.push({}, "22dbfDFrMNJE7Cj5beOtQhf", "ForceRotation", void 0);
        var g = s.ccclass,
          F = s.property,
          w = s.executionOrder;
        t(
          "ForceRotation",
          ((h = g("ForceRotation")),
          (_ = w(-1)),
          (f = F({ visible: !0 })),
          (d = F({ visible: !0, type: c })),
          h(
            (y =
              _(
                ((v = o(
                  (b = (function (t) {
                    function o() {
                      for (
                        var o, e = arguments.length, n = new Array(e), a = 0;
                        a < e;
                        a++
                      )
                        n[a] = arguments[a];
                      return (
                        (o = t.call.apply(t, [this].concat(n)) || this),
                        r(o, "_rotation", v, i(o)),
                        (o._rot = null),
                        r(o, "_node", R, i(o)),
                        o
                      );
                    }
                    return (
                      e(o, t),
                      (o.prototype.update = function (t) {
                        l.equals(this._node.worldRotation, this.rot) ||
                          this._node.setWorldRotation(this.rot);
                      }),
                      n(o, [
                        {
                          key: "rot",
                          get: function () {
                            return (
                              null === this._rot &&
                                ((this._rot = new l()),
                                l.fromEuler(
                                  this._rot,
                                  this._rotation.x,
                                  this._rotation.y,
                                  this._rotation.z
                                )),
                              this._rot
                            );
                          },
                        },
                      ]),
                      o
                    );
                  })(u)).prototype,
                  "_rotation",
                  [f],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return new p();
                    },
                  }
                )),
                (R = o(b.prototype, "_node", [d], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return null;
                  },
                })),
                (y = b))
              ) || y)
          ) || y)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/FreezeRewardedAdsBonusController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./AdsEvents.ts",
    "./TimeScale.ts",
    "./TimeScaleEvents.ts",
    "./RewardedAdsBonusEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, s, o, u, c, a, l, d, f, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (u = e._decorator), (c = e.Component);
        },
        function (e) {
          a = e.projectEvent;
        },
        function (e) {
          l = e.AdsEvents;
        },
        function (e) {
          d = e.timeScale;
        },
        function (e) {
          f = e.TimeScaleEvents;
        },
        function (e) {
          v = e.RewardedAdsBonusEvents;
        },
      ],
      execute: function () {
        var p, A, h, z, _, m, R;
        o._RF.push(
          {},
          "17bd6e7Ug9Jf40Gp1zz8+EI",
          "FreezeRewardedAdsBonusController",
          void 0
        );
        var C = u.ccclass,
          E = u.property;
        e(
          "FreezeRewardedAdsBonusController",
          ((p = C("FreezeRewardedAdsBonusController")),
          (A = E({ visible: !0 })),
          (h = E({ visible: !0 })),
          p(
            ((m = t(
              (_ = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_isActive", m, r(t)),
                    i(t, "_freezeDuration", R, r(t)),
                    (t._freezeDurationACC = 0),
                    t
                  );
                }
                n(t, e);
                var o = t.prototype;
                return (
                  (o.startFreeze = function () {
                    (this._freezeDurationACC = 0),
                      (this._isActive = !0),
                      a.emit(v[v.FreezeEnemiesStart]);
                  }),
                  (o.endFreeze = function () {
                    (this._isActive = !1), a.emit(v[v.FreezeEnemiesEnd]);
                  }),
                  (o.onEnable = function () {
                    a.on(v[v.RequestBonus], this.onRequestRewardBonus, this);
                  }),
                  (o.onDisable = function () {
                    a.off(v[v.RequestBonus], this.onRequestRewardBonus, this);
                  }),
                  (o.onRequestRewardBonus = function () {
                    a.emit(l[l.AdsEvents_ShowAd], this);
                  }),
                  (o.update = function (e) {
                    var t = e * d.current;
                    this._isActive &&
                      ((this._freezeDurationACC += t),
                      this._freezeDurationACC >= this._freezeDuration &&
                        this.endFreeze());
                  }),
                  (o.onAdCompleted = function () {
                    0 === d.current && a.emit(f[f.TimeScale_Restore]),
                      this.startFreeze();
                  }),
                  (o.onAdFailed = function (e) {
                    0 === d.current && a.emit(f[f.TimeScale_Restore]);
                  }),
                  s(t, [
                    {
                      key: "isActive",
                      get: function () {
                        return this._isActive;
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_isActive",
              [A],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (R = t(_.prototype, "_freezeDuration", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 5;
              },
            })),
            (z = _))
          ) || z)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GameEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./GameEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, a, s, o, c, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (o = e._decorator), (c = e.Enum);
        },
        function (e) {
          u = e.GameEvents;
        },
        function (e) {
          l = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var v, p, f, y, h, m, _;
        s._RF.push({}, "51cbayfFYRI0b4PXBU6JCiq", "GameEventRaiser", void 0);
        var b = o.ccclass,
          d = o.property;
        e(
          "GameEventRaiser",
          ((v = b("GameEventRaiser")),
          (p = d({ visible: !0, type: c(u) })),
          (f = d({ visible: !0 })),
          v(
            ((m = t(
              (h = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, a = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_eventID", m, r(t)),
                    i(t, "_data", _, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Game_None;
                },
              }
            )),
            (_ = t(h.prototype, "_data", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = h))
          ) || y)
        );
        s._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/GameEvents.ts", ["cc"], function (e) {
  "use strict";
  var t;
  return {
    setters: [
      function (e) {
        t = e.cclegacy;
      },
    ],
    execute: function () {
      var a;
      e("GameEvents", void 0),
        t._RF.push({}, "0ca4at+duJCkoP/GfE97LUV", "GameEvents", void 0),
        (function (e) {
          (e[(e.Game_None = 0)] = "Game_None"),
            (e[(e.Game_Started = 1)] = "Game_Started"),
            (e[(e.Game_Finished = 2)] = "Game_Finished"),
            (e[(e.Game_Victory = 3)] = "Game_Victory"),
            (e[(e.Game_Defeat = 4)] = "Game_Defeat"),
            (e[(e.Game_Start = 5)] = "Game_Start");
        })(a || (a = e("GameEvents", {}))),
        t._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/GameEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./GameEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, a, c, o, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (a = e.cclegacy), (c = e._decorator), (o = e.Enum);
        },
        function (e) {
          u = e.GameEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, f, m, y;
        a._RF.push({}, "da750P4YkNMQaDYb6vs4+jf", "GameEventsListener", void 0);
        var E = c.ccclass,
          h = c.property;
        e(
          "GameEventsListener",
          ((v = E("GameEventsListener")),
          (p = h({ visible: !0, type: o(u) })),
          v(
            ((y = t(
              (m = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    s[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", y, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Game_None;
                },
              }
            )),
            (f = m))
          ) || f)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GameOverController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./GameEvents.ts",
    "./GSGameEventsEmitter.ts",
    "./TimeScaleEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, o, c, s, i, a;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (r = e._decorator), (o = e.Component);
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          s = e.GameEvents;
        },
        function (e) {
          i = e.GSGameEventsEmitter;
        },
        function (e) {
          a = e.TimeScaleEvents;
        },
      ],
      execute: function () {
        var u;
        n._RF.push({}, "42f642WIEJAjprBy1WVF7oY", "GameOverController", void 0);
        var l = r.ccclass;
        r.property,
          e(
            "GameOverController",
            l("GameOverController")(
              (u = (function (e) {
                function n() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  t(n, e),
                  (n.prototype.setCubeTowerHP = function (e) {
                    0 === e.current &&
                      (c.emit(a[a.TimeScale_Set], 0),
                      i.gameOver(),
                      c.emit(s[s.Game_Defeat]));
                  }),
                  n
                );
              })(o))
            ) || u
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GameVictoryController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./GameEvents.ts",
    "./GSGameEventsEmitter.ts",
    "./LevelsController.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./TimeScaleEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, r, o, i, n, a, s, l, c, u, v, m, p, f, S;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (n = e.cclegacy), (a = e._decorator), (s = e.Component);
        },
        function (e) {
          l = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          u = e.GameEvents;
        },
        function (e) {
          v = e.GSGameEventsEmitter;
        },
        function (e) {
          m = e.levelsController;
        },
        function (e) {
          p = e.saveGame;
        },
        function (e) {
          f = e.SaveGameKeys;
        },
        function (e) {
          S = e.TimeScaleEvents;
        },
      ],
      execute: function () {
        var g, y, h, _, G, b, d, P, w;
        n._RF.push(
          {},
          "4b49aIoOPNJGbyOKIzv2YTd",
          "GameVictoryController",
          void 0
        );
        var z = a.ccclass,
          E = a.property;
        e(
          "GameVictoryController",
          ((g = z("GameVictoryController")),
          (y = E({
            visible: !0,
            group: "Prizes",
            range: [0, 1, 0.05],
            slide: !0,
          })),
          (h = E({
            visible: !0,
            group: "Prizes",
            range: [0, 1, 0.05],
            slide: !0,
          })),
          (_ = E({
            visible: !0,
            group: "Prizes",
            range: [0, 1, 0.05],
            slide: !0,
          })),
          g(
            ((d = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    n[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    o(t, "_oneStar", d, i(t)),
                    o(t, "_twoStars", P, i(t)),
                    o(t, "_threeStars", w, i(t)),
                    (t._towerHP = null),
                    t
                  );
                }
                r(t, e);
                var n = t.prototype;
                return (
                  (n.victory = function () {
                    var e = this;
                    this.scheduleOnce(function () {
                      c.emit(S[S.TimeScale_Set], 0);
                      var t = m.currentLevel + 1;
                      v.levelCompleted(t);
                      var r = p.getData(f[f.SaveGameKeys_Score], 0);
                      (r += t),
                        p.setData(f[f.SaveGameKeys_Score], r),
                        v.highscore(r),
                        l.log("Level completed:" + t + " Score: " + r),
                        e.getPrizes(),
                        c.emit(u[u.Game_Victory]);
                    }, 0);
                  }),
                  (n.getPrizes = function () {
                    var e = this._towerHP.current / this._towerHP.total,
                      t = 0;
                    e <= this._oneStar
                      ? (t = 1)
                      : e <= this._twoStars
                      ? (t = 2)
                      : e <= this._threeStars && (t = 3),
                      m.completedLevel(t);
                  }),
                  (n.updateTowerHP = function (e) {
                    this._towerHP = e;
                  }),
                  t
                );
              })(s)).prototype,
              "_oneStar",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (P = t(b.prototype, "_twoStars", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (w = t(b.prototype, "_threeStars", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (G = b))
          ) || G)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GetCurrency.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./CurrencyController.ts"],
  function (e) {
    "use strict";
    var r, t, n, c, i, o, u, l, s;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (c = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (o = e._decorator),
            (u = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          s = e.currencyController;
        },
      ],
      execute: function () {
        var a, y, p, f, C;
        i._RF.push({}, "f6b09ehRv5GY5ZX2VxS2Sj1", "GetCurrency", void 0);
        var v = o.ccclass,
          h = o.property;
        e(
          "GetCurrency",
          ((a = v("GetCurrency")),
          (y = h({ visible: !0, type: [u] })),
          a(
            ((C = r(
              (f = (function (e) {
                function r() {
                  for (
                    var r, t = arguments.length, i = new Array(t), o = 0;
                    o < t;
                    o++
                  )
                    i[o] = arguments[o];
                  return (
                    (r = e.call.apply(e, [this].concat(i)) || this),
                    n(r, "_onGetCurrency", C, c(r)),
                    r
                  );
                }
                return (
                  t(r, e),
                  (r.prototype.getCurrency = function () {
                    var e = s.currency;
                    u.emitEvents(this._onGetCurrency, e);
                  }),
                  r
                );
              })(l)).prototype,
              "_onGetCurrency",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (p = f))
          ) || p)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GetCurrentLevelData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./LevelsController.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, l, i, o, a, u, s, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (l = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (o = e._decorator),
            (a = e.EventHandler),
            (u = e.Component);
        },
        function (e) {
          s = e.logger;
        },
        function (e) {
          c = e.levelsController;
        },
      ],
      execute: function () {
        var v, f, p, L, g, C, y;
        i._RF.push(
          {},
          "0ca47t6TKlPq7GfoQTtu5fu",
          "GetCurrentLevelData",
          void 0
        );
        var _ = o.ccclass,
          h = o.property;
        e(
          "GetCurrentLevelData",
          ((v = _("GetCurrentLevelData")),
          (f = h({ visible: !0, type: [a] })),
          (p = h({ visible: !0 })),
          v(
            ((C = t(
              (g = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, i = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    i[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    n(t, "_setCurrentLevel", C, l(t)),
                    n(t, "_levelOffset", y, l(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.getCurrentLevelData = function () {
                    var e = c.currentLevel;
                    s.log("Get Current Level: " + (e + this._levelOffset)),
                      a.emitEvents(
                        this._setCurrentLevel,
                        e + this._levelOffset
                      );
                  }),
                  t
                );
              })(u)).prototype,
              "_setCurrentLevel",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (y = t(g.prototype, "_levelOffset", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (L = g))
          ) || L)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GroungBlock.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseBlock.ts"],
  function (o) {
    "use strict";
    var r, t, c, n;
    return {
      setters: [
        function (o) {
          r = o.inheritsLoose;
        },
        function (o) {
          (t = o.cclegacy), (c = o._decorator);
        },
        function (o) {
          n = o.BaseBlock;
        },
      ],
      execute: function () {
        var e;
        t._RF.push({}, "b65aftrretCPqoXV85A31xE", "GroungBlock", void 0);
        var u = c.ccclass;
        c.property,
          o(
            "GroundBlock",
            u("GroundBlock")(
              (e = (function (o) {
                function t() {
                  return o.apply(this, arguments) || this;
                }
                return r(t, o), t;
              })(n))
            ) || e
          );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GSAudioController.ts",
  ["cc", "./AudioEnums.ts", "./AudioManager.ts", "./ProjectEvent.ts"],
  function (n) {
    "use strict";
    var o, e, t, a, i, c, u;
    return {
      setters: [
        function (n) {
          (o = n.cclegacy), (e = n._decorator), (t = n.game), (a = n.Game);
        },
        function (n) {
          i = n.AudioEvent;
        },
        function (n) {
          c = n.AudioManager;
        },
        function (n) {
          u = n.projectEvent;
        },
      ],
      execute: function () {
        var r;
        o._RF.push({}, "6a244BXPm5Ht5fM+hYgNOsY", "GSAudioController", void 0);
        var d = e.ccclass,
          s = n(
            "GSAudioController",
            d("GSAudioController")(
              (r = (function () {
                function n() {
                  var n = this;
                  t.on(
                    a.EVENT_GAME_INITED,
                    function () {
                      c.instance
                        ? n.connectToAudioManager()
                        : u.once(
                            i.AudioManagerInitialized,
                            n.connectToAudioManager,
                            n
                          );
                    },
                    this
                  );
                }
                var o = n.prototype;
                return (
                  (o.connectToAudioManager = function () {
                    "undefined" != typeof GameSnacks &&
                      ((c.instance.audioEnabled = GameSnacks.audio.isEnabled()),
                      GameSnacks.audio.subscribe(
                        this.audioEnabledUpdate.bind(this)
                      ));
                  }),
                  (o.audioEnabledUpdate = function (n) {
                    c.instance.audioEnabled = n;
                  }),
                  n
                );
              })())
            ) || r
          );
        n("GameSnacksAudioController", new s());
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GSGameEventsEmitter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n, a, c;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (a = e._decorator), (c = e.Component);
        },
      ],
      execute: function () {
        var i, s;
        n._RF.push(
          {},
          "7fa30EftohPYbRJx2BFzkUm",
          "GSGameEventsEmitter",
          void 0
        );
        var m = a.ccclass;
        e(
          "GSGameEventsEmitter",
          m("GSGameEventsEmitter")(
            (((s = (function (e) {
              function n() {
                return e.apply(this, arguments) || this;
              }
              return (
                t(n, e),
                (n.levelCompleted = function (e) {
                  window.showNextAds();
                  "undefined" != typeof GameSnacks &&
                    GameSnacks.game.levelComplete(e);
                }),
                (n.highscore = function (e) {
                  "undefined" != typeof GameSnacks &&
                    GameSnacks.score.update(e);
                }),
                (n.gameOver = function () {
                  window.showNextAds();
                  "undefined" != typeof GameSnacks &&
                    GameSnacks.game.gameOver();
                }),
                (n.gameReady = function () {
                  n._emitted ||
                    ("undefined" != typeof GameSnacks &&
                      (GameSnacks.game.ready(), (n._emitted = !0)));
                }),
                n
              );
            })(c))._emitted = !1),
            (i = s))
          ) || i
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GSGameOverEmitter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./GSGameEventsEmitter.ts"],
  function (e) {
    "use strict";
    var t, r, n, i, o;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (r = e.cclegacy), (n = e._decorator), (i = e.Component);
        },
        function (e) {
          o = e.GSGameEventsEmitter;
        },
      ],
      execute: function () {
        var s;
        r._RF.push({}, "3ee1589zapM9JITH6e5vok4", "GSGameOverEmitter", void 0);
        var c = n.ccclass;
        e(
          "GSGameOverEmitter",
          c("GSGameOverEmitter")(
            (s = (function (e) {
              function r() {
                return e.apply(this, arguments) || this;
              }
              return (
                t(r, e),
                (r.prototype.sendGameOver = function () {
                  o.gameOver();
                }),
                r
              );
            })(i))
          ) || s
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GSGameReadyEmitter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./GSGameEventsEmitter.ts"],
  function (t) {
    "use strict";
    var e, n, r, i, a;
    return {
      setters: [
        function (t) {
          e = t.inheritsLoose;
        },
        function (t) {
          (n = t.cclegacy), (r = t._decorator), (i = t.Component);
        },
        function (t) {
          a = t.GSGameEventsEmitter;
        },
      ],
      execute: function () {
        var o;
        n._RF.push({}, "61531xMjfdJtLGPUfndQAv7", "GSGameReadyEmitter", void 0);
        var c = r.ccclass;
        t(
          "GSGameReadyEmitter",
          c("GSGameReadyEmitter")(
            (o = (function (t) {
              function n() {
                return t.apply(this, arguments) || this;
              }
              return (
                e(n, t),
                (n.prototype.ready = function () {
                  a.gameReady();
                }),
                n
              );
            })(i))
          ) || o
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTower.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTower.ts"],
  function (e) {
    "use strict";
    var r, t, n, o;
    return {
      setters: [
        function (e) {
          r = e.inheritsLoose;
        },
        function (e) {
          (t = e.cclegacy), (n = e._decorator);
        },
        function (e) {
          o = e.BaseTower;
        },
      ],
      execute: function () {
        var u;
        t._RF.push({}, "b6223hbyb9EN43KLh0Z0lQR", "GunTower", void 0);
        var s = n.ccclass;
        n.property,
          e(
            "GunTower",
            s("GunTower")(
              (u = (function (e) {
                function t() {
                  return e.apply(this, arguments) || this;
                }
                return r(t, e), t;
              })(o))
            ) || u
          );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTowerAttack.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Enemy.ts",
    "./ProjectileTowerAttack.ts",
  ],
  function (e) {
    "use strict";
    var t, r, o, n, i, a, s, c, u, l, p, y, d, f, h, g;
    return {
      setters: [
        function (e) {
          (t = e.extends),
            (r = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (s = e.cclegacy),
            (c = e._decorator),
            (u = e.BitMask),
            (l = e.PhysicsSystem),
            (p = e.Node),
            (y = e.geometry),
            (d = e.Vec3),
            (f = e.PhysicsGroup);
        },
        function (e) {
          h = e.Enemy;
        },
        function (e) {
          g = e.ProjectileTowerAttack;
        },
      ],
      execute: function () {
        var _, b, v, P, w, T, k;
        s._RF.push({}, "d99f8q9JitMHpjrz0o8jKu2", "GunTowerAttack", void 0);
        var m = c.ccclass,
          S = c.property;
        e(
          "GunTowerAttack",
          ((_ = m("GunTowerAttack")),
          (b = S({ visible: !0, type: u(t({}, l.PhysicsGroup)) })),
          (v = S({ visible: !0, type: p })),
          _(
            ((T = r(
              (w = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    ((t =
                      e.call.apply(e, [this].concat(o)) ||
                      this)._bulletPenetration = !1),
                    n(t, "_sniperShotBitMask", T, i(t)),
                    n(t, "_rayDebugNode", k, i(t)),
                    t
                  );
                }
                o(t, e);
                var r = t.prototype;
                return (
                  (r.getDamageTargets = function (e, t) {
                    var r = [e];
                    return (
                      this._bulletPenetration &&
                        r.push.apply(r, this.getSniperShotTargets(this, e)),
                      r
                    );
                  }),
                  (r.applySpecials = function (e, t) {}),
                  (r.getSniperShotTargets = function (e, t) {
                    var r = [],
                      o = new y.Ray();
                    y.Ray.fromPoints(
                      o,
                      e._towerNode.worldPosition
                        .clone()
                        .add(d.UNIT_Y.clone().multiplyScalar(0.5)),
                      t.node.worldPosition
                    ),
                      (this._rayDebugNode.worldPosition = o.o),
                      this._rayDebugNode.lookAt(o.o.clone().add(o.d)),
                      l.instance.raycast(
                        o,
                        e._sniperShotBitMask,
                        Number.MAX_SAFE_INTEGER,
                        !0
                      );
                    for (
                      var n,
                        i = l.instance.raycastResults,
                        s = [],
                        c = function () {
                          var e = n.value.collider.node.getComponent(h);
                          -1 ===
                            s.findIndex(function (t) {
                              return t === e;
                            }) && s.push(e);
                        },
                        u = a(i);
                      !(n = u()).done;

                    )
                      c();
                    for (var p = 0, f = s; p < f.length; p++) {
                      var g = f[p];
                      g !== t && g.isValid && r.push(g);
                    }
                    return r;
                  }),
                  (r.setBulletPenetration = function (e) {
                    this._bulletPenetration = e;
                  }),
                  t
                );
              })(g)).prototype,
              "_sniperShotBitMask",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return f.DEFAULT;
                },
              }
            )),
            (k = r(w.prototype, "_rayDebugNode", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (P = w))
          ) || P)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTowerProgressionData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./GunTowerUpgradeData.ts",
    "./BaseTowerProgressionData.ts",
  ],
  function (r) {
    "use strict";
    var e, o, t, n, s, a;
    return {
      setters: [
        function (r) {
          (e = r.inheritsLoose),
            (o = r.createClass),
            (t = r.createForOfIteratorHelperLoose);
        },
        function (r) {
          n = r.cclegacy;
        },
        function (r) {
          s = r.GunTowerUpgradeData;
        },
        function (r) {
          a = r.BaseTowerProgressionData;
        },
      ],
      execute: function () {
        n._RF.push(
          {},
          "2c59bLQ5i9AdZ6LUVLUGFz3",
          "GunTowerProgressionData",
          void 0
        );
        r(
          "GunTowerProgressionData",
          (function (r) {
            function n(e) {
              var o;
              (o = r.call(this) || this)._progressionData = [];
              for (var n, a = t(e.progression); !(n = a()).done; ) {
                var i = n.value;
                o._progressionData.push(new s(i));
              }
              return o;
            }
            return (
              e(n, r),
              (n.prototype.getDataProgressionFor = function (r) {
                return this._progressionData.find(function (e) {
                  return e.id === r;
                });
              }),
              o(n, [
                {
                  key: "progressionData",
                  get: function () {
                    return [].concat(this._progressionData);
                  },
                },
              ]),
              n
            );
          })(a)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTowerShootVFX.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./PrefabPool.ts",
    "./TimeScale.ts",
    "./AttackVFXTriggers.ts",
    "./BaseShootVFX.ts",
  ],
  function (e) {
    "use strict";
    var t, o, n, r, i, a, l, u, c, s, p, f, m, d, v, b, w;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (i = e.createForOfIteratorHelperLoose),
            (a = e.asyncToGenerator);
        },
        function (e) {
          (l = e.cclegacy),
            (u = e._decorator),
            (c = e.Node),
            (s = e.EventHandler),
            (p = e.ParticleSystem),
            (f = e.tween),
            (m = e.game);
        },
        function (e) {
          d = e.PrefabPool;
        },
        function (e) {
          v = e.timeScale;
        },
        function (e) {
          b = e.AttackVFXTriggers;
        },
        function (e) {
          w = e.BaseShootVFX;
        },
      ],
      execute: function () {
        var h, S, y, g, P, _, T, F, V;
        l._RF.push({}, "d955ajLtu5AIoknVee9/pvJ", "GunTowerShootVFX", void 0);
        var k = u.ccclass,
          X = u.property;
        e(
          "GunTowerShootVFX",
          ((h = k("GunTowerShootVFX")),
          (S = X({ visible: !0 })),
          (y = X({ visible: !0, type: c })),
          (g = X({ visible: !0, type: [s] })),
          h(
            ((T = t(
              (_ = (function (e) {
                function t() {
                  for (
                    var t, o = arguments.length, i = new Array(o), a = 0;
                    a < o;
                    a++
                  )
                    i[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    n(t, "_commonBulletTime", T, r(t)),
                    n(t, "_bulletSpawnNode", F, r(t)),
                    n(t, "_onShoot", V, r(t)),
                    (t._bulletPenetration = !1),
                    t
                  );
                }
                o(t, e);
                var l = t.prototype;
                return (
                  (l.startShootVFX = function (e, t) {
                    if (!e.isValid) throw "Invalid Target";
                    var o = this,
                      n = o.shootVFX,
                      r = d.instance.getInScene(n);
                    r.setPosition(o._bulletSpawnNode.worldPosition),
                      (r.active = !0);
                    var l = r.getComponent(b);
                    l.activate(),
                      s.emitEvents(o._onShoot),
                      (r.worldRotation = o._bulletSpawnNode.worldRotation);
                    var u = e.node.worldPosition.clone();
                    if (o._bulletPenetration) {
                      var c = u
                        .clone()
                        .subtract(o._bulletSpawnNode.worldPosition.clone())
                        .normalize();
                      u.add(c.multiplyScalar(5));
                    }
                    var w = r.getComponentsInChildren(p).filter(function (e) {
                      return e.playOnAwake;
                    });
                    f(r)
                      .to(
                        o._commonBulletTime / v.current,
                        { position: u },
                        {
                          onStart: function (e) {
                            for (var t, o = i(w); !(t = o()).done; ) {
                              var n = t.value;
                              n.playOnAwake && n.play();
                            }
                          },
                          onComplete: function (e) {
                            return a(
                              regeneratorRuntime.mark(function e() {
                                var o, a, u;
                                return regeneratorRuntime.wrap(function (e) {
                                  for (;;)
                                    switch ((e.prev = e.next)) {
                                      case 0:
                                        for (o = i(w); !(a = o()).done; )
                                          (u = a.value).playOnAwake && u.stop();
                                        l.collided(), t();
                                      case 3:
                                        if (!l.isCollisionParticlesPlaying) {
                                          e.next = 8;
                                          break;
                                        }
                                        return (
                                          (e.next = 6),
                                          new Promise(function (e) {
                                            return setTimeout(e, m.frameTime);
                                          })
                                        );
                                      case 6:
                                        e.next = 3;
                                        break;
                                      case 8:
                                        d.instance.put(n, r), (r.active = !1);
                                      case 10:
                                      case "end":
                                        return e.stop();
                                    }
                                }, e);
                              })
                            )();
                          },
                        }
                      )
                      .start();
                  }),
                  (l.setBulletPenetration = function (e) {
                    this._bulletPenetration = e;
                  }),
                  t
                );
              })(w)).prototype,
              "_commonBulletTime",
              [S],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0.5;
                },
              }
            )),
            (F = t(_.prototype, "_bulletSpawnNode", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (V = t(_.prototype, "_onShoot", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = _))
          ) || P)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTowerUpgradeData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTowerUpgradeData.ts"],
  function (e) {
    "use strict";
    var t, r, a, n;
    return {
      setters: [
        function (e) {
          (t = e.inheritsLoose), (r = e.createClass);
        },
        function (e) {
          a = e.cclegacy;
        },
        function (e) {
          n = e.BaseTowerUpgradeData;
        },
      ],
      execute: function () {
        a._RF.push(
          {},
          "621bfTLpHRFpr/d7ghOtYNn",
          "GunTowerUpgradeData",
          void 0
        );
        e(
          "GunTowerUpgradeData",
          (function (e) {
            function a(t) {
              var r;
              return (
                ((r = e.call(this, t) || this)._range = 0),
                (r._ccTargets = 0),
                (r._special1 = !1),
                (r._range = t.range),
                (r._ccTargets = t.ccTargets),
                (r._special1 = t.special1),
                r
              );
            }
            return (
              t(a, e),
              r(a, [
                {
                  key: "range",
                  get: function () {
                    return this._range;
                  },
                },
                {
                  key: "ccTargets",
                  get: function () {
                    return this._ccTargets;
                  },
                },
                {
                  key: "special1",
                  get: function () {
                    return this._special1;
                  },
                },
              ]),
              a
            );
          })(n)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/GunTowerUpgradeHandler.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./BaseTowerUpgradeHandler.ts",
    "./GunTowerUpgradeData.ts",
  ],
  function (e) {
    "use strict";
    var t, r, a, n, i, s, o, l, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy), (s = e._decorator), (o = e.EventHandler);
        },
        function (e) {
          l = e.BaseTowerUpgradeHandler;
        },
        function (e) {
          c = e.GunTowerUpgradeData;
        },
      ],
      execute: function () {
        var p, u, g, d, f, b, y, v, T;
        i._RF.push(
          {},
          "9b749big4dCWY0qDLrSNM9k",
          "GunTowerUpgradeHandler",
          void 0
        );
        var _ = s.ccclass,
          w = s.property;
        e(
          "GunTowerUpgradeHandler",
          ((p = _("GunTowerUpgradeHandler")),
          (u = w({ visible: !0, type: [o] })),
          (g = w({ visible: !0, type: [o] })),
          (d = w({ visible: !0, type: [o] })),
          p(
            ((y = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, i = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    i[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    a(t, "_setRange", y, n(t)),
                    a(t, "_setCCTargets", v, n(t)),
                    a(t, "_setSpecial1", T, n(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.setUpgradeData = function (t) {
                    e.prototype.setUpgradeData.call(this, t),
                      t instanceof c &&
                        (o.emitEvents(this._setRange, t.range),
                        o.emitEvents(this._setCCTargets, t.ccTargets),
                        o.emitEvents(this._setSpecial1, t.special1));
                  }),
                  t
                );
              })(l)).prototype,
              "_setRange",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (v = t(b.prototype, "_setCCTargets", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(b.prototype, "_setSpecial1", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (f = b))
          ) || f)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/HighestHPTowerTargetChooser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./EnemyHP.ts",
    "./EnemyMovement.ts",
    "./BaseTowerTargetChooser.ts",
  ],
  function (e) {
    "use strict";
    var o, n, t, r, s, i;
    return {
      setters: [
        function (e) {
          o = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (t = e._decorator);
        },
        function (e) {
          r = e.EnemyHP;
        },
        function (e) {
          s = e.EnemyMovement;
        },
        function (e) {
          i = e.BaseTowerTargetChooser;
        },
      ],
      execute: function () {
        var c;
        n._RF.push(
          {},
          "079e0oHz71Oao8qfSApBiG5",
          "HighestHPTowerTargetChooser",
          void 0
        );
        var a = t.ccclass;
        t.property,
          e(
            "HighestHPTowerTargetChooser",
            a("HighestHPTowerTargetChooser")(
              (c = (function (e) {
                function n() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  o(n, e),
                  (n.prototype.chooseTarget = function (e) {
                    for (
                      var o = e[0],
                        n = e[0].node.getComponentInChildren(r),
                        t = o.getComponentInChildren(s).distanceToGoal,
                        i = 1;
                      i < e.length;
                      i++
                    ) {
                      var c = e[i].node.getComponentInChildren(r),
                        a = !1;
                      if (n.currentHP < c.currentHP) a = !0;
                      else if (n.currentHP == c.currentHP) {
                        e[i].node.getComponentInChildren(s).distanceToGoal >
                          t && (a = !0);
                      }
                      a &&
                        ((n = c),
                        (t = (o = e[i]).getComponentInChildren(
                          s
                        ).distanceToGoal));
                    }
                    return o;
                  }),
                  n
                );
              })(i))
            ) || c
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Holdable.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./InputEnums.ts"],
  function (t) {
    "use strict";
    var n, i, e, o, r, l, s, a, u, c;
    return {
      setters: [
        function (t) {
          (n = t.applyDecoratedDescriptor),
            (i = t.createClass),
            (e = t.inheritsLoose),
            (o = t.initializerDefineProperty),
            (r = t.assertThisInitialized);
        },
        function (t) {
          (l = t.cclegacy),
            (s = t._decorator),
            (a = t.EventHandler),
            (u = t.Component);
        },
        function (t) {
          c = t.InputEvent;
        },
      ],
      execute: function () {
        var d, h, p, H, _, f, v;
        l._RF.push({}, "ab113lawTxJjoAF39Ss9o+K", "Holdable", void 0);
        var b = s.ccclass,
          g = s.property,
          y =
            (t(
              "Holdable",
              ((d = b("Holdable")),
              (h = g({ type: [a], visible: !0 })),
              (p = g({ type: [a], visible: !0 })),
              d(
                ((f = n(
                  (_ = (function (t) {
                    function n() {
                      for (
                        var n, i = arguments.length, e = new Array(i), l = 0;
                        l < i;
                        l++
                      )
                        e[l] = arguments[l];
                      return (
                        (n = t.call.apply(t, [this].concat(e)) || this),
                        o(n, "_onHoldStart", f, r(n)),
                        o(n, "_onHoldEnd", v, r(n)),
                        (n._isHolding = !1),
                        n
                      );
                    }
                    e(n, t);
                    var i = n.prototype;
                    return (
                      (i.onDisable = function () {
                        this.isHolding() && this.endHold();
                      }),
                      (i.startHold = function (t, n) {
                        this._isHolding = !0;
                        var i = new y(t, n);
                        this.node.emit(c[c.Input_HoldStart], i),
                          a.emitEvents(this._onHoldStart, i);
                      }),
                      (i.endHold = function (t, n) {
                        void 0 === t && (t = null),
                          void 0 === n && (n = null),
                          (this._isHolding = !1);
                        var i = new y(t, n);
                        this.node.emit(c[c.Input_HoldEnd], i),
                          a.emitEvents(this._onHoldEnd, i);
                      }),
                      (i.isHolding = function () {
                        return this._isHolding;
                      }),
                      n
                    );
                  })(u)).prototype,
                  "_onHoldStart",
                  [h],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return [];
                    },
                  }
                )),
                (v = n(_.prototype, "_onHoldEnd", [p], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                })),
                (H = _))
              ) || H)
            ),
            t(
              "HoldData",
              (function () {
                function t(t, n) {
                  (this._touchPosition = null),
                    (this._camera = null),
                    (this._touchPosition = t),
                    (this._camera = n);
                }
                return (
                  i(t, [
                    {
                      key: "touchScreenPosition",
                      get: function () {
                        return this._touchPosition;
                      },
                    },
                    {
                      key: "camera",
                      get: function () {
                        return this._camera;
                      },
                    },
                  ]),
                  t
                );
              })()
            ));
        l._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/IAdRequest.ts", ["cc"], function () {
  "use strict";
  var e;
  return {
    setters: [
      function (t) {
        e = t.cclegacy;
      },
    ],
    execute: function () {
      e._RF.push({}, "22612UF5l5FMooRU1qXNbbR", "IAdRequest", void 0),
        e._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/IEnemyDataComponent.ts",
  ["cc"],
  function () {
    "use strict";
    var t;
    return {
      setters: [
        function (e) {
          t = e.cclegacy;
        },
      ],
      execute: function () {
        t._RF.push(
          {},
          "24fa28QvxxOCZkB7Hm/m0QY",
          "IEnemyDataComponent",
          void 0
        ),
          t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/IEnemyMovementData.ts",
  ["cc"],
  function (t) {
    "use strict";
    var n, e;
    return {
      setters: [
        function (t) {
          (n = t.cclegacy), (e = t.Vec3);
        },
      ],
      execute: function () {
        t("isIEnemyMovementData", function (t) {
          return (
            null != t &&
            null !== t.position &&
            void 0 !== t.position &&
            t.position instanceof e &&
            null !== t.currentPathIndex &&
            void 0 !== t.currentPathIndex &&
            "number" == typeof t.currentPathIndex &&
            null !== t.path &&
            void 0 !== t.path &&
            Array.isArray(t.path)
          );
        }),
          n._RF.push(
            {},
            "713f2nfzNRBk7yrMR2WgB15",
            "IEnemyMovementData",
            void 0
          ),
          n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/InputEnums.ts", ["cc"], function (r) {
  "use strict";
  var p;
  return {
    setters: [
      function (r) {
        p = r.cclegacy;
      },
    ],
    execute: function () {
      var t, e, a;
      r({ DropAreaEvent: void 0, DroppableEvent: void 0, InputEvent: void 0 }),
        p._RF.push({}, "494bagGv19A6qaO01iDWWku", "InputEnums", void 0),
        (function (r) {
          (r[(r.Input_Tap = 0)] = "Input_Tap"),
            (r[(r.Input_HoldStart = 1)] = "Input_HoldStart"),
            (r[(r.Input_HoldEnd = 2)] = "Input_HoldEnd"),
            (r[(r.Input_DragStart = 3)] = "Input_DragStart"),
            (r[(r.Input_DragUpdate = 4)] = "Input_DragUpdate"),
            (r[(r.Input_DragEnd = 5)] = "Input_DragEnd");
        })(t || (t = r("InputEvent", {}))),
        (function (r) {
          (r[(r.Droppable_ValidDrop = 0)] = "Droppable_ValidDrop"),
            (r[(r.Droppable_InvalidDrop = 1)] = "Droppable_InvalidDrop"),
            (r[(r.Droppable_EnteredADropArea = 2)] =
              "Droppable_EnteredADropArea"),
            (r[(r.Droppable_LeftAllDropAreas = 3)] =
              "Droppable_LeftAllDropAreas");
        })(e || (e = r("DroppableEvent", {}))),
        (function (r) {
          (r[(r.DropArea_Targeted = 0)] = "DropArea_Targeted"),
            (r[(r.DropArea_Untargeted = 1)] = "DropArea_Untargeted"),
            (r[(r.DropArea_Dropped = 2)] = "DropArea_Dropped");
        })(a || (a = r("DropAreaEvent", {}))),
        p._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/IntTextFormatter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTextFormatter.ts"],
  function (t) {
    "use strict";
    var e, r, a, i, n, o, l, s;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.inheritsLoose),
            (a = t.initializerDefineProperty),
            (i = t.assertThisInitialized),
            (n = t.createClass);
        },
        function (t) {
          (o = t.cclegacy), (l = t._decorator);
        },
        function (t) {
          s = t.BaseTextFormatter;
        },
      ],
      execute: function () {
        var u, c, p, f, h, m, x;
        o._RF.push({}, "042b84REhpIkrcWQXDTBB9U", "IntTextFormatter", void 0);
        var _ = l.ccclass,
          g = l.property;
        t(
          "IntTextFormatter",
          ((u = _("IntTextFormatter")),
          (c = g({ visible: !0 })),
          (p = g({ visible: !0 })),
          u(
            ((m = e(
              (h = (function (t) {
                function e() {
                  for (
                    var e, r = arguments.length, n = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    n[o] = arguments[o];
                  return (
                    (e = t.call.apply(t, [this].concat(n)) || this),
                    a(e, "_length", m, i(e)),
                    a(e, "_addLeftZeroes", x, i(e)),
                    (e._maxValue = -1),
                    e
                  );
                }
                return (
                  r(e, t),
                  (e.prototype.formatText = function (e) {
                    if ("number" == typeof e) {
                      var r = "";
                      for (
                        r =
                          e > this.maxValue
                            ? this.maxValue.toString()
                            : e.toString();
                        this._addLeftZeroes && r.length < this._length;

                      )
                        r = "0" + r;
                      return r;
                    }
                    return t.prototype.formatText.call(this, e);
                  }),
                  n(e, [
                    {
                      key: "maxValue",
                      get: function () {
                        return (
                          this._maxValue < 0 &&
                            (this._maxValue = Math.pow(10, this._length) - 1),
                          this._maxValue
                        );
                      },
                    },
                  ]),
                  e
                );
              })(s)).prototype,
              "_length",
              [c],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 4;
                },
              }
            )),
            (x = e(h.prototype, "_addLeftZeroes", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (f = h))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserAttackUnit.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Enemy.ts",
    "./EnemyHP.ts",
    "./TowerAttackUnit.ts",
  ],
  function (t) {
    "use strict";
    var i, e, n, a, r, s, c;
    return {
      setters: [
        function (t) {
          (i = t.inheritsLoose),
            (e = t.createForOfIteratorHelperLoose),
            (n = t.createClass);
        },
        function (t) {
          a = t.cclegacy;
        },
        function (t) {
          r = t.Enemy;
        },
        function (t) {
          s = t.EnemyHP;
        },
        function (t) {
          c = t.TowerAttackUnit;
        },
      ],
      execute: function () {
        a._RF.push({}, "c31ba9T+/lI4KTcLpb9Z+WF", "LaserAttackUnit", void 0);
        t(
          "LaserAttackUnit",
          (function (t) {
            function a(i, e, n, a) {
              var r;
              return (
                ((r = t.call(this, i, e) || this)._multiplier = 0),
                (r._damageModifierAcc = 0),
                (r._isAttacking = !1),
                (r._swapTargetsCD = 0),
                (r._onSwapTargetCD = !1),
                (r._swapTargetCDAcc = 0),
                (r._multiplier = n),
                (r._swapTargetsCD = a),
                r
              );
            }
            i(a, t);
            var c = a.prototype;
            return (
              (c.update = function (t) {
                this._onCD
                  ? ((this._currentAtkCD += t),
                    this._currentAtkCD >= this._cd && this.renewCD())
                  : this._onSwapTargetCD &&
                    ((this._swapTargetCDAcc += t),
                    this._swapTargetCDAcc >= this._swapTargetsCD &&
                      this.renewSwapTargetCD()),
                  this._isAttacking &&
                    (this._damageModifierAcc += this._multiplier * t);
              }),
              (c.finishAttack = function () {
                (this._isAttacking = !1),
                  (this._damageModifierAcc = 0),
                  (this._onSwapTargetCD = !0),
                  (this._swapTargetCDAcc = 0);
              }),
              (c.renewSwapTargetCD = function () {
                this._onSwapTargetCD = !1;
              }),
              (c.attack = function (t, i) {
                if (t instanceof r) this.attack([t], i);
                else if (
                  Array.isArray(t) &&
                  !this._onCD &&
                  !this._onSwapTargetCD
                ) {
                  for (var n, a = e(t); !(n = a()).done; ) {
                    n.value.node
                      .getComponentInChildren(s)
                      .damage(this.totalDamage);
                  }
                  (this._currentAtkCD = 0),
                    (this._onCD = !0),
                    (this._onCDFinish = i),
                    (this._isAttacking = !0);
                }
              }),
              (c.setDamageModifier = function (t) {
                this._multiplier = t;
              }),
              n(a, [
                {
                  key: "multiplier",
                  get: function () {
                    return this._multiplier;
                  },
                },
                {
                  key: "damageModifierAcc",
                  get: function () {
                    return this._damageModifierAcc;
                  },
                },
                {
                  key: "isAttacking",
                  get: function () {
                    return this._isAttacking;
                  },
                },
                {
                  key: "onCD",
                  get: function () {
                    return this._onCD || this._onSwapTargetCD;
                  },
                },
                {
                  key: "totalDamage",
                  get: function () {
                    return this._damage + this._damageModifierAcc;
                  },
                },
              ]),
              a
            );
          })(c)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerAttack.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./EnemyStun.ts",
    "./SlowData.ts",
    "./TimeScale.ts",
    "./LookAtTarget.ts",
    "./ChainSpecialData.ts",
    "./BaseTowerAttack.ts",
  ],
  function (t) {
    "use strict";
    var e, a, i, r, o, n, s, l, c, g, u, _, h, d, T, w, k, f, m;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (a = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (o = t.createForOfIteratorHelperLoose),
            (n = t.createClass);
        },
        function (t) {
          (s = t.cclegacy), (l = t._decorator), (c = t.Vec2), (g = t.game);
        },
        function (t) {
          (u = t.logger), (_ = t.LogCategory), (h = t.LogType);
        },
        function (t) {
          d = t.StunData;
        },
        function (t) {
          T = t.SlowData;
        },
        function (t) {
          w = t.timeScale;
        },
        function (t) {
          k = t.LookAtTarget;
        },
        function (t) {
          f = t.ChainSpecialData;
        },
        function (t) {
          m = t.BaseTowerAttack;
        },
      ],
      execute: function () {
        var p, v, b, A, S, y, D, P, I, F, L, z, N, V, C, E, x, M, X;
        s._RF.push({}, "eabd4jLlnpI9pLiRtNsUPbD", "LaserTowerAttack", void 0);
        var q = l.ccclass,
          R = l.property;
        t(
          "LaserTowerAttack",
          ((p = q("LaserTowerAttack")),
          (v = R({ visible: !0 })),
          (b = R({ visible: !0 })),
          (A = R({ visible: !0 })),
          (S = R({ visible: !0 })),
          (y = R({ visible: !0 })),
          (D = R({ visible: !0, unit: "stuns/s" })),
          (P = R({ visible: !0, type: f })),
          (I = R({ visible: !0, type: k })),
          p(
            ((z = e(
              (L = (function (t) {
                function e() {
                  for (
                    var e, a = arguments.length, o = new Array(a), n = 0;
                    n < a;
                    n++
                  )
                    o[n] = arguments[n];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    i(e, "_attackModifier", z, r(e)),
                    i(e, "_swapTargetsCD", N, r(e)),
                    i(e, "_slowPercentage", V, r(e)),
                    i(e, "_stun", C, r(e)),
                    i(e, "_stunDuration", E, r(e)),
                    i(e, "_stunFrequency", x, r(e)),
                    i(e, "_chainAttackData", M, r(e)),
                    (e._lockedTargets = []),
                    (e._lastStunTime = 0),
                    i(e, "_lookAtTarget", X, r(e)),
                    (e._stunIntervalValid = !1),
                    (e._stunInterval = 0),
                    (e._slowTargets = []),
                    (e._isSingleTarget = !0),
                    (e._lastAttackTime = 0),
                    (e._lockTargetTime = 0),
                    e
                  );
                }
                a(e, t);
                var s = e.prototype;
                return (
                  (s.update = function (e) {
                    t.prototype.update.call(this, e);
                    var a = e * w.current;
                    this._lockedTargets.length > 0 &&
                      (this._lockTargetTime += a);
                  }),
                  (s.updateAttackUnits = function (t) {}),
                  (s.updateTargets = function (e) {
                    t.prototype.updateTargets.call(this, e);
                    var a = 0;
                    for (a = this._lockedTargets.length - 1; a >= 0; a--) {
                      if (this._lockedTargets[a].isValid)
                        c.distance(
                          new c(
                            this._towerNode.worldPosition.x,
                            this._towerNode.worldPosition.z
                          ),
                          new c(
                            this._lockedTargets[a].node.worldPosition.x,
                            this._lockedTargets[a].node.worldPosition.z
                          )
                        ) > this._radius &&
                          (this._debug &&
                            u.log(
                              "Tower Attack: Locked target left area: " +
                                this._lockedTargets[a].node.name +
                                " " +
                                this._lockedTargets[a].uuid
                            ),
                          this._lookAtTarget.removeTarget(
                            this._lockedTargets[a]
                          ),
                          this._lockedTargets.splice(a, 1),
                          0 == a &&
                            this._isSingleTarget &&
                            this._attackVFX.finishShootVFX());
                      else
                        this._lookAtTarget.removeTarget(this._lockedTargets[a]),
                          this._lockedTargets.splice(a, 1),
                          0 == a &&
                            this._isSingleTarget &&
                            this._attackVFX.finishShootVFX(),
                          this._debug &&
                            u.log("Tower Attack: Locked target is invalid");
                    }
                    for (a = this._slowTargets.length - 1; a >= 0; a--) {
                      if (this._slowTargets[a].isValid)
                        c.distance(
                          new c(
                            this._towerNode.worldPosition.x,
                            this._towerNode.worldPosition.z
                          ),
                          new c(
                            this._slowTargets[a].node.worldPosition.x,
                            this._slowTargets[a].node.worldPosition.z
                          )
                        ) > this._radius &&
                          (this._debug &&
                            u.log(
                              "Tower Attack: Slow target left area: " +
                                this._slowTargets[a].node.name +
                                " " +
                                this._slowTargets[a].uuid
                            ),
                          this.removeEnemyFromSlowTargets(a));
                      else
                        this.removeEnemyFromSlowTargets(a),
                          this._debug &&
                            u.log("Tower Attack: Slow target invalid");
                    }
                  }),
                  (s.faceTarget = function (t) {
                    return (
                      this._isSingleTarget &&
                        0 === this._lockedTargets.length &&
                        this._lookAtTarget.resetRotation(t),
                      []
                    );
                  }),
                  (s.removeEnemyFromSlowTargets = function (t) {
                    var e, a;
                    null == (e = this._slowTargets[t]) ||
                      null == (a = e.movement) ||
                      a.removeSlow(this._towerNode),
                      this._slowTargets.splice(t, 1);
                  }),
                  (s.singleTargetAttack = function (t) {
                    var e = this;
                    if (
                      (0 === this._lockedTargets.length &&
                        this._targets.length > 0 &&
                        (this._lockedTargets.push(
                          this.targetChooser.chooseTarget(this._targets)
                        ),
                        (this._lockTargetTime = 0),
                        this._debug &&
                          u.log(
                            "Tower Attack: New target locked: " +
                              this._lockedTargets[0].node.name +
                              " " +
                              this._lockedTargets[0].uuid
                          ),
                        this._lookAtTarget.lookAtTarget(
                          this._lockedTargets[0]
                        )),
                      this._lockedTargets.length > 0 &&
                        this._lookAtTarget.isLookingAtTarget)
                    )
                      try {
                        this._attackVFX.startShootVFX(
                          this._lockedTargets[0],
                          function () {
                            var a = e.getSingleTargetDamage(t);
                            e._lockedTargets[0].hpManager.damage(a);
                            for (
                              var i = e._lockedTargets[0], r = [], o = 0;
                              o < e._chainAttackData.targets && null !== i;
                              o++
                            ) {
                              var n = e.getCloserEnemyTo(
                                i,
                                e._trackedEnemies,
                                r,
                                e._chainAttackData.distance
                              );
                              n && (n.hpManager.damage(a), r.push(i), (i = n));
                            }
                            e._debug &&
                              u.log(
                                "Tower Attack: Attacking: " +
                                  e._lockedTargets[0].node.name +
                                  " " +
                                  e._lockedTargets[0].uuid
                              );
                          }
                        );
                      } catch (t) {
                        u.log(t, _.Generic, h.Error);
                      }
                  }),
                  (s.areaAttack = function (t) {
                    for (
                      var e,
                        a = this,
                        i = g.frameStartTime / 1e3,
                        r = "Tower Attack:",
                        n = function () {
                          var o = e.value;
                          o.hpManager.damage(a.getAreaTargetDamage(t)),
                            a._slowPercentage > 0 &&
                              -1 ===
                                a._slowTargets.findIndex(function (t) {
                                  return t === o;
                                }) &&
                              (o.movement.addSlow(
                                new T(a._slowPercentage, a._towerNode)
                              ),
                              a._slowTargets.push(o)),
                            a._stun &&
                              i - a._lastStunTime > a.stunInterval &&
                              ((a._lastStunTime = i),
                              o.stunController.stun(new d(a._stunDuration))),
                            (r += "\nAttacking: " + o.node.name + " " + o.uuid);
                        },
                        s = o(a._targets);
                      !(e = s()).done;

                    )
                      n();
                    a._debug && a._targets.length > 0 && u.log(r);
                  }),
                  (s.getSingleTargetDamage = function (t) {
                    return (
                      t *
                      (this._damage +
                        this._attackModifier * this._lockTargetTime)
                    );
                  }),
                  (s.getAreaTargetDamage = function (t) {
                    return t * this._damage;
                  }),
                  (s.getCloserEnemyTo = function (t, e, a, i) {
                    void 0 === i && (i = Number.POSITIVE_INFINITY);
                    for (
                      var r,
                        n = null,
                        s = Number.POSITIVE_INFINITY,
                        l = new c(
                          t.node.worldPosition.x,
                          t.node.worldPosition.z
                        ),
                        g = function () {
                          var e = r.value;
                          if (
                            e !== t &&
                            -1 ===
                              a.findIndex(function (t) {
                                return t === e;
                              })
                          ) {
                            var o = c.distance(
                              l,
                              new c(
                                e.node.worldPosition.x,
                                e.node.worldPosition.z
                              )
                            );
                            s > o && o <= i && ((s = o), (n = e));
                          }
                        },
                        u = o(e);
                      !(r = u()).done;

                    )
                      g();
                    return n;
                  }),
                  (s.attack = function (t, e) {
                    this._isSingleTarget
                      ? this.singleTargetAttack(t)
                      : this.areaAttack(t);
                  }),
                  (s.setShootFrequency = function (t) {
                    var e = 1 / t;
                    this._attackCD = e;
                  }),
                  (s.setDamage = function (t) {
                    this._damage = t;
                  }),
                  (s.setDamageModifier = function (t) {
                    this._attackModifier = t;
                  }),
                  (s.setSlowPercentage = function (t) {
                    this._slowPercentage = t;
                    for (
                      var e,
                        a = new T(this._slowPercentage, this._towerNode),
                        i = o(this._slowTargets);
                      !(e = i()).done;

                    ) {
                      e.value.movement.addSlow(a);
                    }
                  }),
                  (s.setStun = function (t) {
                    this._stun = t;
                  }),
                  (s.setChainAttackData = function (t) {
                    this._chainAttackData = t;
                  }),
                  (s.setSingleTarget = function (t) {
                    this._isSingleTarget = t;
                  }),
                  (s.towerDestroyed = function () {
                    t.prototype.towerDestroyed.call(this),
                      (this._lockedTargets = []),
                      (this._slowTargets = []),
                      (this._lockTargetTime = 0);
                  }),
                  n(e, [
                    {
                      key: "stunInterval",
                      get: function () {
                        return (
                          this._stunIntervalValid ||
                            ((this._stunInterval = 1 / this._stunFrequency),
                            (this._stunIntervalValid = !0)),
                          this._stunInterval
                        );
                      },
                    },
                  ]),
                  e
                );
              })(m)).prototype,
              "_attackModifier",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (N = e(L.prototype, "_swapTargetsCD", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (V = e(L.prototype, "_slowPercentage", [A], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (C = e(L.prototype, "_stun", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (E = e(L.prototype, "_stunDuration", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (x = e(L.prototype, "_stunFrequency", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (M = e(L.prototype, "_chainAttackData", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (X = e(L.prototype, "_lookAtTarget", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (F = L))
          ) || F)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerProgressionData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LaserTowerUpgradeData.ts",
    "./BaseTowerProgressionData.ts",
  ],
  function (r) {
    "use strict";
    var e, o, s, t, a, n;
    return {
      setters: [
        function (r) {
          (e = r.inheritsLoose),
            (o = r.createClass),
            (s = r.createForOfIteratorHelperLoose);
        },
        function (r) {
          t = r.cclegacy;
        },
        function (r) {
          a = r.LaserTowerUpgradeData;
        },
        function (r) {
          n = r.BaseTowerProgressionData;
        },
      ],
      execute: function () {
        t._RF.push(
          {},
          "d42c9/CMFlDx7Vm6Ds6fPX8",
          "LaserTowerProgressionData",
          void 0
        );
        r(
          "LaserTowerProgressionData",
          (function (r) {
            function t(e) {
              var o;
              (o = r.call(this) || this)._progressionData = [];
              for (var t, n = s(e.progression); !(t = n()).done; ) {
                var i = t.value;
                o._progressionData.push(new a(i));
              }
              return o;
            }
            return (
              e(t, r),
              (t.prototype.getDataProgressionFor = function (r) {
                return this._progressionData.find(function (e) {
                  return e.id === r;
                });
              }),
              o(t, [
                {
                  key: "progressionData",
                  get: function () {
                    return [].concat(this._progressionData);
                  },
                },
              ]),
              t
            );
          })(n)
        );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerShootSFXController.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AudioProxy.ts"],
  function (o) {
    "use strict";
    var t, e, r, i, n, s, l, a, u;
    return {
      setters: [
        function (o) {
          (t = o.applyDecoratedDescriptor),
            (e = o.inheritsLoose),
            (r = o.initializerDefineProperty),
            (i = o.assertThisInitialized);
        },
        function (o) {
          (n = o.cclegacy),
            (s = o._decorator),
            (l = o.randomRangeInt),
            (a = o.Component);
        },
        function (o) {
          u = o.AudioProxy;
        },
      ],
      execute: function () {
        var c, p, y, f, h;
        n._RF.push(
          {},
          "0e0544yblFGAInBmDlibiCW",
          "LaserTowerShootSFXController",
          void 0
        );
        var d = s.ccclass,
          _ = s.property;
        o(
          "LaserTowerShootSFXController",
          ((c = d("LaserTowerShootSFXController")),
          (p = _({ visible: !0, type: [u] })),
          c(
            ((h = t(
              (f = (function (o) {
                function t() {
                  for (
                    var t, e = arguments.length, n = new Array(e), s = 0;
                    s < e;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (t = o.call.apply(o, [this].concat(n)) || this),
                    r(t, "_sfxs", h, i(t)),
                    (t._playingAudioIndex = -1),
                    t
                  );
                }
                e(t, o);
                var n = t.prototype;
                return (
                  (n.play = function () {
                    (this._playingAudioIndex = l(0, this._sfxs.length)),
                      this._sfxs[this._playingAudioIndex].playSFX();
                  }),
                  (n.stop = function () {
                    this._sfxs[this._playingAudioIndex].stopSFX();
                  }),
                  t
                );
              })(a)).prototype,
              "_sfxs",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (y = f))
          ) || y)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerShootVFX.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./PrefabPool.ts",
    "./BitLine.ts",
    "./TimeScale.ts",
    "./BaseShootVFX.ts",
    "./TowerRangeScaler.ts",
  ],
  function (e) {
    "use strict";
    var t, o, n, i, r, a, s, l, c, u, h, m, p, f, _, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (r = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (l = e.Node),
            (c = e.EventHandler),
            (u = e.ParticleSystem),
            (h = e.tween);
        },
        function (e) {
          m = e.PrefabPool;
        },
        function (e) {
          p = e.BitLine;
        },
        function (e) {
          f = e.timeScale;
        },
        function (e) {
          _ = e.BaseShootVFX;
        },
        function (e) {
          d = e.TowerRangeScaler;
        },
      ],
      execute: function () {
        var v, S, w, b, B, L, g, y, F, T, I, V, X;
        a._RF.push({}, "73d3de5uWhKsLUv3xQl1Qmu", "LaserTowerShootVFX", void 0);
        var P = s.ccclass,
          x = s.property;
        e(
          "LaserTowerShootVFX",
          ((v = P("LaserTowerShootVFX")),
          (S = x({ visible: !0, type: l })),
          (w = x({ visible: !0, type: l })),
          (b = x({ visible: !0, type: [c] })),
          (B = x({ visible: !0, type: [c] })),
          (L = x({ visible: !0, type: d })),
          v(
            ((F = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, o = arguments.length, r = new Array(o), a = 0;
                    a < o;
                    a++
                  )
                    r[a] = arguments[a];
                  return (
                    ((t =
                      e.call.apply(e, [this].concat(r)) ||
                      this)._commonLaserBeam = null),
                    n(t, "_beamSpawnNode", F, i(t)),
                    n(t, "_pulsarSpawnNode", T, i(t)),
                    n(t, "_onBeamStarted", I, i(t)),
                    n(t, "_onBeamStopped", V, i(t)),
                    n(t, "_pulsarVFXScaler", X, i(t)),
                    (t._isLaserBeamTower = !0),
                    (t._vfxInstance = null),
                    (t.active = !1),
                    t
                  );
                }
                o(t, e);
                var a = t.prototype;
                return (
                  (a.setCurrentTowerID = function (t) {
                    if (
                      (null !== this._vfxInstance &&
                        m.instance.put(this.shootVFX, this._vfxInstance),
                      e.prototype.setCurrentTowerID.call(this, t),
                      null !== this._commonLaserBeam &&
                        (this._commonLaserBeam.enabled = !1),
                      (this._vfxInstance = m.instance.getInScene(
                        this.shootVFX
                      )),
                      this._isLaserBeamTower)
                    )
                      this._commonLaserBeam =
                        this._vfxInstance.getComponentInChildren(p);
                    else {
                      this._vfxInstance.setWorldPosition(
                        this._pulsarSpawnNode.worldPosition
                      );
                      for (
                        var o,
                          n = this._vfxInstance.getComponentsInChildren(u),
                          i = r(n);
                        !(o = i()).done;

                      ) {
                        var a = o.value;
                        this._pulsarVFXScaler.addTarget(a.node);
                      }
                      this.active && this.finishShootVFX();
                    }
                  }),
                  (a.setSingleTarget = function (e) {
                    this._isLaserBeamTower = e;
                  }),
                  (a.finishShootVFX = function () {
                    if (
                      (this._commonLaserBeam &&
                        (this._commonLaserBeam.positions.pop(),
                        (this._commonLaserBeam.enabled = !1)),
                      this.active)
                    ) {
                      if (((this.active = !1), this._commonLaserBeam)) {
                        var e = this._commonLaserBeam;
                        h(this.node)
                          .to(0.15 / f.current, null, {
                            onUpdate: function (t, o) {
                              e.setProgress(1 - o);
                            },
                          })
                          .start();
                      }
                      c.emitEvents(this._onBeamStopped);
                    }
                  }),
                  (a.startShootVFX = function (e, t) {
                    if (!e.isValid) throw "Invalid Target";
                    if (this._isLaserBeamTower) {
                      var o = [,];
                      if (
                        ((o[0] = this._beamSpawnNode.worldPosition),
                        (o[1] = e.node.worldPosition),
                        (this._commonLaserBeam.positions = o),
                        (this._commonLaserBeam.enabled = !0),
                        !this.active &&
                          ((this.active = !0), this._commonLaserBeam))
                      ) {
                        var n = this._commonLaserBeam;
                        h(this.node)
                          .to(0.15 / f.current, null, {
                            onUpdate: function (e, t) {
                              n.setProgress(t);
                            },
                          })
                          .start(),
                          c.emitEvents(this._onBeamStarted);
                      }
                      t();
                    }
                  }),
                  (a.towerDestroyed = function () {
                    if (
                      (this.active && this.finishShootVFX(),
                      !this._isLaserBeamTower)
                    )
                      for (
                        var e,
                          t = this._vfxInstance.getComponentsInChildren(u),
                          o = r(t);
                        !(e = o()).done;

                      ) {
                        var n = e.value;
                        this._pulsarVFXScaler.removeTarget(n.node);
                      }
                    m.instance.put(this.shootVFX, this._vfxInstance);
                  }),
                  t
                );
              })(_)).prototype,
              "_beamSpawnNode",
              [S],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (T = t(y.prototype, "_pulsarSpawnNode", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (I = t(y.prototype, "_onBeamStarted", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (V = t(y.prototype, "_onBeamStopped", [B], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (X = t(y.prototype, "_pulsarVFXScaler", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (g = y))
          ) || g)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerUpgradeData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ChainSpecialData.ts",
    "./BaseTowerUpgradeData.ts",
  ],
  function (e) {
    "use strict";
    var t, a, n, r, i;
    return {
      setters: [
        function (e) {
          (t = e.inheritsLoose), (a = e.createClass);
        },
        function (e) {
          n = e.cclegacy;
        },
        function (e) {
          r = e.ChainSpecialData;
        },
        function (e) {
          i = e.BaseTowerUpgradeData;
        },
      ],
      execute: function () {
        n._RF.push(
          {},
          "b8a47IpspRIYoHdO6nr8YRe",
          "LaserTowerUpgradeData",
          void 0
        );
        e(
          "LaserTowerUpgradeData",
          (function (e) {
            function n(t) {
              var a;
              return (
                ((a = e.call(this, t) || this)._range = 0),
                (a._damageModifier = 0),
                (a._chainData = null),
                (a._slow = 0),
                (a._stun = !1),
                (a._singleTarget = !1),
                (a._range = t.range),
                (a._damageModifier = t.damageModifier),
                (a._chainData = new r(t.chain.targets, t.chain.distance)),
                (a._slow = t.slow),
                (a._stun = t.stun),
                (a._singleTarget = t.singleTarget),
                a
              );
            }
            return (
              t(n, e),
              a(n, [
                {
                  key: "range",
                  get: function () {
                    return this._range;
                  },
                },
                {
                  key: "damageModifier",
                  get: function () {
                    return this._damageModifier;
                  },
                },
                {
                  key: "chainData",
                  get: function () {
                    return this._chainData;
                  },
                },
                {
                  key: "slow",
                  get: function () {
                    return this._slow;
                  },
                },
                {
                  key: "stun",
                  get: function () {
                    return this._stun;
                  },
                },
                {
                  key: "singleTarget",
                  get: function () {
                    return this._singleTarget;
                  },
                },
              ]),
              n
            );
          })(i)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LaserTowerUpgradeHandler.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./BaseTowerUpgradeHandler.ts",
    "./LaserTowerUpgradeData.ts",
  ],
  function (e) {
    "use strict";
    var t, r, i, a, n, s, o, l, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized);
        },
        function (e) {
          (n = e.cclegacy), (s = e._decorator), (o = e.EventHandler);
        },
        function (e) {
          l = e.BaseTowerUpgradeHandler;
        },
        function (e) {
          u = e.LaserTowerUpgradeData;
        },
      ],
      execute: function () {
        var c, p, g, d, f, b, _, y, h, v, w, m, T, S, U;
        n._RF.push(
          {},
          "1c9a7hThbRDAZOJlNfeGc8g",
          "LaserTowerUpgradeHandler",
          void 0
        );
        var D = s.ccclass,
          z = s.property;
        e(
          "LaserTowerUpgradeHandler",
          ((c = D("LaserTowerUpgradeHandler")),
          (p = z({ visible: !0, type: [o] })),
          (g = z({ visible: !0, type: [o] })),
          (d = z({ visible: !0, type: [o] })),
          (f = z({ visible: !0, type: [o] })),
          (b = z({ visible: !0, type: [o] })),
          (_ = z({ visible: !0, type: [o] })),
          c(
            ((v = t(
              (h = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    i(t, "_setRange", v, a(t)),
                    i(t, "_damageModifier", w, a(t)),
                    i(t, "_setSlow", m, a(t)),
                    i(t, "_setStun", T, a(t)),
                    i(t, "_setChainAttack", S, a(t)),
                    i(t, "_setSingleTarget", U, a(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.setUpgradeData = function (t) {
                    e.prototype.setUpgradeData.call(this, t),
                      t instanceof u &&
                        (o.emitEvents(this._setRange, t.range),
                        o.emitEvents(this._damageModifier, t.damageModifier),
                        o.emitEvents(this._setSlow, t.slow),
                        o.emitEvents(this._setStun, t.stun),
                        o.emitEvents(this._setChainAttack, t.chainData),
                        o.emitEvents(this._setSingleTarget, t.singleTarget));
                  }),
                  t
                );
              })(l)).prototype,
              "_setRange",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (w = t(h.prototype, "_damageModifier", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (m = t(h.prototype, "_setSlow", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(h.prototype, "_setStun", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (S = t(h.prototype, "_setChainAttack", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = t(h.prototype, "_setSingleTarget", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (y = h))
          ) || y)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LastLevelChecker.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelsController.ts"],
  function (e) {
    "use strict";
    var t, n, r, o, i, l, s, a, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (o = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (l = e._decorator),
            (s = e.EventHandler),
            (a = e.Component);
        },
        function (e) {
          c = e.levelsController;
        },
      ],
      execute: function () {
        var u, v, L, p, f, h, m;
        i._RF.push({}, "d8c24sveLFFz6xbXsQUJL9R", "LastLevelChecker", void 0);
        var y = l.ccclass,
          C = l.property;
        e(
          "LastLevelChecker",
          ((u = y("LastLevelChecker")),
          (v = C({ visible: !0, type: [s] })),
          (L = C({ visible: !0, type: [s] })),
          u(
            ((h = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, i = new Array(n), l = 0;
                    l < n;
                    l++
                  )
                    i[l] = arguments[l];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    r(t, "_onLastLevel", h, o(t)),
                    r(t, "_onCommonLevel", m, o(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.start = function () {
                    c.currentLevel + 1 == c.levelsCount
                      ? s.emitEvents(this._onLastLevel)
                      : s.emitEvents(this._onCommonLevel);
                  }),
                  t
                );
              })(a)).prototype,
              "_onLastLevel",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (m = t(f.prototype, "_onCommonLevel", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (p = f))
          ) || p)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelCompletedUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AnimationGraphHelper.ts"],
  function (e) {
    "use strict";
    var t, r, i, n, a, o, l, s, p;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (o = e._decorator),
            (l = e.SpriteFrame),
            (s = e.Component);
        },
        function (e) {
          p = e.AnimationGraphHelper;
        },
      ],
      execute: function () {
        var c, u, f, m, v, y, b, h, g;
        a._RF.push({}, "48f99m4mrhOfJj9PX5MTE9r", "LevelCompletedUI", void 0);
        var _ = o.ccclass,
          S = o.property;
        e(
          "LevelCompletedUI",
          ((c = _("LevelCompletedUI")),
          (u = S({ visible: !0, type: [p] })),
          (f = S({ visible: !0, type: l })),
          (m = S({ visible: !0, type: l })),
          c(
            ((b = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_starsAnimators", b, n(t)),
                    i(t, "_activeStarSprite", h, n(t)),
                    i(t, "_inactiveStarSprite", g, n(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.setLevelStars = function (e) {
                    if ("string" == typeof e) {
                      var t = Number.parseInt(e);
                      this.setLevelStars(t);
                    } else if ("number" == typeof e)
                      for (var r = 0; r < this._starsAnimators.length; r++)
                        r < e
                          ? this._starsAnimators[r].setTrigger("complete", null)
                          : this._starsAnimators[r].setTrigger(
                              "notCompleted",
                              null
                            );
                  }),
                  t
                );
              })(s)).prototype,
              "_starsAnimators",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (h = t(y.prototype, "_activeStarSprite", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (g = t(y.prototype, "_inactiveStarSprite", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (v = y))
          ) || v)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelConstructor.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./BoundaryBlock.ts",
    "./CubeToweBlock.ts",
    "./GroungBlock.ts",
    "./PathBlock.ts",
    "./SlotBlock.ts",
    "./SpawnBlock.ts",
    "./LevelConstructorEvents.ts",
    "./LevelsController.ts",
  ],
  function (e) {
    "use strict";
    var t, n, o, i, r, a, l, s, c, u, f, d, p, b, v, g, _, h, P, y, k, m, B;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy),
            (a = e._decorator),
            (l = e.Prefab),
            (s = e.instantiate),
            (c = e.Vec3),
            (u = e.Layers),
            (f = e.Vec2),
            (d = e.Component);
        },
        function (e) {
          p = e.logger;
        },
        function (e) {
          b = e.projectEvent;
        },
        function (e) {
          (v = e.BoundaryBlock), (g = e.BoundaryBlockSide);
        },
        function (e) {
          _ = e.CubeToweBlock;
        },
        function (e) {
          h = e.GroundBlock;
        },
        function (e) {
          P = e.PathBlock;
        },
        function (e) {
          y = e.SlotBlock;
        },
        function (e) {
          k = e.SpawnBlock;
        },
        function (e) {
          m = e.LevelConstructorEvents;
        },
        function (e) {
          B = e.levelsController;
        },
      ],
      execute: function () {
        var C, T, L, z, w, I, S, N, O, U, D, R, X, Z, E, j, G;
        r._RF.push({}, "e93b2BayABBuKYLltRfqtdm", "LevelConstructor", void 0);
        var x = a.ccclass,
          A = a.property;
        e(
          "LevelConstructor",
          ((C = x("LevelConstructor")),
          (T = A({ visible: !0, group: "Debug" })),
          (L = A({ visible: !0, group: "Debug" })),
          (z = A({ visible: !0, type: [l], group: "Prefabs" })),
          (w = A({ visible: !0, type: l, group: "Prefabs" })),
          (I = A({ visible: !0, type: l, group: "Prefabs" })),
          (S = A({ visible: !0 })),
          (N = A({ visible: !0 })),
          C(
            ((D = t(
              (U = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, r = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    r[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    o(t, "_debug", D, i(t)),
                    o(t, "_levelID", R, i(t)),
                    o(t, "_blocksPrefabs", X, i(t)),
                    o(t, "_terrainPrefab", Z, i(t)),
                    o(t, "_outterBlockPrefab", E, i(t)),
                    o(t, "_blockSize", j, i(t)),
                    o(t, "_terrainOffset", G, i(t)),
                    t
                  );
                }
                n(t, e);
                var r = t.prototype;
                return (
                  (r.createLevel = function (e) {
                    if ("string" == typeof e)
                      try {
                        var t = Number.parseInt(e);
                        this.createLevel(t);
                      } catch (t) {
                        p.log(
                          "Couldn't create level of id: " +
                            e +
                            "\nError message:\n" +
                            t
                        );
                      }
                    else if (void 0 === e && this._debug)
                      this.createLevel(this._levelID);
                    else {
                      for (
                        var n = B.getLevel(e),
                          o = { value: 0 },
                          i = { value: 0 },
                          r = 0;
                        r < n.layout.length;
                        r++
                      )
                        for (var a = 0; a < n.layout[r].length; a++) {
                          var l = s(this._blocksPrefabs[n.layout[r][a]]);
                          l.setParent(this.node.parent),
                            this.initializeBlock(l, o, r, a, i);
                          var u = this.node.worldPosition.clone();
                          u.add(
                            new c(
                              this._blockSize.x * a,
                              0,
                              this._blockSize.z * r
                            )
                          ),
                            l.setPosition(u);
                          var f = s(this._terrainPrefab);
                          f.setParent(this.node.parent),
                            f.setPosition(u.clone().add(this._terrainOffset)),
                            this.createOutterTerrain(
                              r,
                              a,
                              this.node.parent,
                              u,
                              this._outterBlockPrefab,
                              n
                            );
                        }
                      b.emit(m[m.LevelConstructor_Completed]);
                    }
                  }),
                  (r.createOutterTerrain = function (e, t, n, o, i, r) {
                    var a = 0 === e,
                      l = e === r.layout.length - 1,
                      u = 0 === t,
                      f = t === r.layout[e].length - 1;
                    if (a && u) {
                      var d = s(i);
                      d.setParent(n),
                        d.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone().negative())
                            .add(c.UNIT_X.clone().negative())
                        ),
                        d.getComponent(v).initialize(g.RightBottom);
                    }
                    if (a && f) {
                      var p = s(i);
                      p.setParent(n),
                        p.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone().negative())
                            .add(c.UNIT_X.clone())
                        ),
                        p.getComponent(v).initialize(g.LeftBottom);
                    }
                    if (l && u) {
                      var b = s(i);
                      b.setParent(n),
                        b.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone())
                            .add(c.UNIT_X.clone().negative())
                        ),
                        b.getComponent(v).initialize(g.RightTop);
                    }
                    if (l && f) {
                      var _ = s(i);
                      _.setParent(n),
                        _.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone())
                            .add(c.UNIT_X.clone())
                        ),
                        _.getComponent(v).initialize(g.LeftTop);
                    }
                    if (a) {
                      var h = s(i);
                      h.setParent(n),
                        h.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone().negative())
                        ),
                        h.getComponent(v).initialize(g.Bottom);
                    }
                    if (l) {
                      var P = s(i);
                      P.setParent(n),
                        P.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_Z.clone())
                        ),
                        P.getComponent(v).initialize(g.Top);
                    }
                    if (u) {
                      var y = s(i);
                      y.setParent(n),
                        y.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_X.clone().negative())
                        ),
                        y.getComponent(v).initialize(g.Right);
                    }
                    if (f) {
                      var k = s(i);
                      k.setParent(n),
                        k.setPosition(
                          o
                            .clone()
                            .add(this._terrainOffset)
                            .add(c.UNIT_X.clone())
                        ),
                        k.getComponent(v).initialize(g.Left);
                    }
                  }),
                  (r.initializeBlock = function (e, t, n, o, i) {
                    var r = void 0;
                    switch (e.layer) {
                      case 1 << u.nameToLayer("SpawnBlock"):
                        (r = e.getComponent(k)).setSpawnID(t.value++);
                        break;
                      case 1 << u.nameToLayer("CubeTowerBlock"):
                        r = e.getComponent(_);
                        break;
                      case 1 << u.nameToLayer("PathBlock"):
                        r = e.getComponent(P);
                        break;
                      case 1 << u.nameToLayer("SlotBlock"):
                        (r = e.getComponent(y)).setSlotID(i.value++);
                        break;
                      case 1 << u.nameToLayer("GroundBlock"):
                        r = e.getComponent(h);
                    }
                    r.setCoordinate(new f(n, o));
                  }),
                  t
                );
              })(d)).prototype,
              "_debug",
              [T],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (R = t(U.prototype, "_levelID", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (X = t(U.prototype, "_blocksPrefabs", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (Z = t(U.prototype, "_terrainPrefab", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (E = t(U.prototype, "_outterBlockPrefab", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (j = t(U.prototype, "_blockSize", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new c(1, 1, 1);
              },
            })),
            (G = t(U.prototype, "_terrainOffset", [N], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new c();
              },
            })),
            (O = U))
          ) || O)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelConstructorEvents.ts",
  ["cc"],
  function (t) {
    "use strict";
    var e;
    return {
      setters: [
        function (t) {
          e = t.cclegacy;
        },
      ],
      execute: function () {
        var o;
        t("LevelConstructorEvents", void 0),
          e._RF.push(
            {},
            "65752NdP9ZK4aqOC6nbDBos",
            "LevelConstructorEvents",
            void 0
          ),
          (function (t) {
            t[(t.LevelConstructor_Completed = 0)] =
              "LevelConstructor_Completed";
          })(o || (o = t("LevelConstructorEvents", {}))),
          e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelControllerEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelsController.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, l, o, s, c, a, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (l = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (c = e.Enum);
        },
        function (e) {
          a = e.LevelsControllerEvents;
        },
        function (e) {
          u = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, f, p, L, y;
        o._RF.push(
          {},
          "eff21f12D1AfZxhjzNkUlQX",
          "LevelControllerEventsListener",
          void 0
        );
        var h = s.ccclass,
          C = s.property;
        e(
          "LevelControllerEventsListener",
          ((v = h("LevelControllerEventsListener")),
          (f = C({ visible: !0, type: c(a) })),
          v(
            ((y = t(
              (L = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, l = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    l[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(l)) || this),
                    r(t, "_eventID", y, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  l(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return a[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(u)).prototype,
              "_eventID",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return a.LevelsController_None;
                },
              }
            )),
            (p = L))
          ) || p)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, s, i;
    return {
      setters: [
        function (t) {
          e = t.createClass;
        },
        function (t) {
          (s = t.cclegacy), (i = t._decorator);
        },
      ],
      execute: function () {
        var n;
        s._RF.push({}, "c61b2LSDjlLf4qRNSllOylb", "LevelData", void 0);
        var r = i.ccclass;
        i.property,
          t(
            "LevelData",
            r("LevelData")(
              (n = (function () {
                function t(t, e, s, i) {
                  (this._id = -1),
                    (this._size = -1),
                    (this._stars = -1),
                    (this._name = ""),
                    (this._layout = [[]]),
                    (this._id = t),
                    (this._name = e),
                    (this._stars = i),
                    (this._layout = [[]]);
                  for (var n = 0; n < s.length; n++) {
                    0 != n && this._layout.push([]);
                    for (var r = 0; r < s[r].length; r++)
                      this._layout[n].push(s[n][r]);
                  }
                  this._layout.length < 8
                    ? (this._size = 0)
                    : this._layout.length < 9
                    ? (this._size = 1)
                    : (this._size = 2);
                }
                return (
                  (t.prototype.levelCompleted = function (t) {
                    this._stars = t;
                  }),
                  e(t, [
                    {
                      key: "id",
                      get: function () {
                        return this._id;
                      },
                    },
                    {
                      key: "size",
                      get: function () {
                        return this._size;
                      },
                    },
                    {
                      key: "stars",
                      get: function () {
                        return this._stars;
                      },
                    },
                    {
                      key: "name",
                      get: function () {
                        return this._name;
                      },
                    },
                    {
                      key: "layout",
                      get: function () {
                        return this._layout;
                      },
                    },
                  ]),
                  t
                );
              })())
            ) || n
          );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelHintData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var i, t, n, r, l;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor), (t = e.initializerDefineProperty);
        },
        function (e) {
          (n = e.cclegacy), (r = e._decorator), (l = e.Enum);
        },
      ],
      execute: function () {
        var a, o, s, u, p, c, y, b, f, D, v, h, m;
        e("HintDataDisplayType", void 0),
          n._RF.push({}, "71bbbtDh39HzZnMaBtc0rzI", "LevelHintData", void 0);
        var d,
          w = r.ccclass,
          g = r.property;
        !(function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.Tower = 1)] = "Tower"),
            (e[(e.Enemy = 2)] = "Enemy");
        })(d || (d = e("HintDataDisplayType", {})));
        e(
          "LevelHintData",
          ((a = w("LevelHintData")),
          (o = g({ visible: !0 })),
          (s = g({ visible: !0, multiline: !0 })),
          (u = g({ visible: !0 })),
          (p = g({ visible: !0 })),
          (c = g({ visible: !0, type: l(d) })),
          a(
            ((f = i(
              (b = function () {
                t(this, "levelID", f, this),
                  t(this, "info", D, this),
                  t(this, "displayTowerID", v, this),
                  t(this, "displayEnemyID", h, this),
                  t(this, "displayType", m, this);
              }).prototype,
              "levelID",
              [o],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (D = i(b.prototype, "info", [s], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (v = i(b.prototype, "displayTowerID", [u], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (h = i(b.prototype, "displayEnemyID", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (m = i(b.prototype, "displayType", [c], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return d.None;
              },
            })),
            (y = b))
          ) || y)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelHints.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelHintData.ts"],
  function (e) {
    "use strict";
    var t, i, n, r, s, o, a, c, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (a = e._decorator), (c = e.Component);
        },
        function (e) {
          l = e.LevelHintData;
        },
      ],
      execute: function () {
        var u, p, h, v, f;
        o._RF.push({}, "710b7Q048pC8YCG3KuHhukj", "LevelHints", void 0);
        var y = a.ccclass,
          H = a.property;
        e(
          "LevelHints",
          ((u = y("LevelHints")),
          (p = H({ visible: !0, type: [l] })),
          u(
            ((f = t(
              (v = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, s = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    n(t, "_hints", f, r(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  s(t, [
                    {
                      key: "hints",
                      get: function () {
                        return this._hints;
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_hints",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (h = v))
          ) || h)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelHintsUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelHints.ts"],
  function (e) {
    "use strict";
    var t, i, n, l, r, s, o, a, u, c, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (l = e.assertThisInitialized),
            (r = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (o = e._decorator),
            (a = e.Prefab),
            (u = e.EventHandler),
            (c = e.Component);
        },
        function (e) {
          v = e.LevelHints;
        },
      ],
      execute: function () {
        var p, f, H, b, _, h, y, d, g;
        s._RF.push({}, "38246A7yIhB9pH55CZX1oMb", "LevelHintsUI", void 0);
        var m = o.ccclass,
          L = o.property;
        e(
          "LevelHintsUI",
          ((p = m("LevelHintsUI")),
          (f = L({ visible: !0, type: a })),
          (H = L({ visible: !0, type: [u] })),
          (b = L({ visible: !0, type: [u] })),
          p(
            ((y = t(
              (h = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, r = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    r[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    n(t, "_levelHintsPrefab", y, l(t)),
                    n(t, "_setHintText", d, l(t)),
                    n(t, "_setHintModel", g, l(t)),
                    (t._levelHints = null),
                    t
                  );
                }
                return (
                  i(t, e),
                  (t.prototype.setHints = function (e) {
                    var t = this.levelHints.hints.find(function (t) {
                      return t.levelID === e;
                    });
                    t &&
                      (u.emitEvents(this._setHintText, t.info),
                      u.emitEvents(this._setHintModel, t));
                  }),
                  r(t, [
                    {
                      key: "levelHints",
                      get: function () {
                        if (null === this._levelHints) {
                          var e = this._levelHintsPrefab.data;
                          this._levelHints = e.getComponent(v);
                        }
                        return this._levelHints;
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_levelHintsPrefab",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (d = t(h.prototype, "_setHintText", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (g = t(h.prototype, "_setHintModel", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (_ = h))
          ) || _)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelsController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./CurrencyController.ts",
    "./LevelSelectionEvents.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./LevelData.ts",
  ],
  function (e) {
    "use strict";
    var t, l, n, r, o, s, a, v, i, c, u, L, d, h;
    return {
      setters: [
        function (e) {
          (t = e.createClass), (l = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (n = e.cclegacy),
            (r = e._decorator),
            (o = e.game),
            (s = e.Game),
            (a = e.resources),
            (v = e.JsonAsset);
        },
        function (e) {
          i = e.projectEvent;
        },
        function (e) {
          c = e.currencyController;
        },
        function (e) {
          u = e.LevelSelectionEvents;
        },
        function (e) {
          L = e.saveGame;
        },
        function (e) {
          d = e.SaveGameKeys;
        },
        function (e) {
          h = e.LevelData;
        },
      ],
      execute: function () {
        e("LevelsControllerEvents", void 0),
          n._RF.push({}, "9ce36PTUjhC0rZc3rBhk4v5", "LevelsController", void 0);
        var _;
        r.ccclass, r.property;
        !(function (e) {
          (e[(e.LevelsController_Loaded = 0)] = "LevelsController_Loaded"),
            (e[(e.LevelsController_LevelStarsChanged = 1)] =
              "LevelsController_LevelStarsChanged"),
            (e[(e.LevelsController_None = 2)] = "LevelsController_None"),
            (e[(e.LevelsController_UnlockedLevelsChanged = 3)] =
              "LevelsController_UnlockedLevelsChanged");
        })(_ || (_ = e("LevelsControllerEvents", {})));
        var f = e(
            "LevelsController",
            (function () {
              function e() {
                var e = this;
                (this._levelsData = []),
                  (this._isLoaded = !1),
                  (this._currentLevel = -1),
                  (this._unlockedLevels = -1),
                  (this._playerWon = !1),
                  o.on(
                    s.EVENT_GAME_INITED,
                    function () {
                      a.load(
                        "/Levels/levels",
                        v,
                        null,
                        e.onCompleteLoad.bind(e)
                      );
                    },
                    this
                  ),
                  i.on(
                    u[u.LevelSelection_Selected],
                    this.onLevelSelected,
                    this
                  );
              }
              var n = e.prototype;
              return (
                (n.onLevelSelected = function (e) {
                  this._currentLevel = e;
                }),
                (n.completedLevel = function (e) {
                  this._playerWon = !0;
                  var t = L.getData(d[d.SaveGameKeys_LevelStars], []);
                  if (e > t[this._currentLevel]) {
                    var l = e - t[this._currentLevel];
                    c.addCurrency(l),
                      (t[this._currentLevel] = e),
                      L.setData(d[d.SaveGameKeys_LevelStars], t);
                    var n = C.levelsCount,
                      r = Math.max(
                        this._unlockedLevels,
                        Math.min(this._currentLevel + 1, n)
                      );
                    r !== this._unlockedLevels &&
                      (L.setData(d[d.SaveGameKeys_UnlockedLevels], r),
                      (this._unlockedLevels = r),
                      i.emit(
                        _[_.LevelsController_UnlockedLevelsChanged],
                        this._unlockedLevels
                      ));
                  }
                  i.emit(_[_.LevelsController_LevelStarsChanged], e);
                }),
                (n.setNextLevel = function () {
                  this._playerWon && this._currentLevel++;
                }),
                (n.onCompleteLoad = function (e, t) {
                  if (!e && Array.isArray(t.json)) {
                    var l = L.getData(d[d.SaveGameKeys_LevelStars], []);
                    if (l.length < t.json.length) {
                      var n = new Array(t.json.length - l.length).fill(0);
                      l.push.apply(l, n),
                        L.setData(d[d.SaveGameKeys_LevelStars], l);
                    }
                    for (var r = 0; r < t.json.length; r++) {
                      var o = t.json[r],
                        s = o.id,
                        a = o.name,
                        v = o.layout,
                        c = l[r];
                      this._levelsData.push(new h(s, a, v, c));
                    }
                    (this._unlockedLevels = L.getData(
                      d[d.SaveGameKeys_UnlockedLevels],
                      0
                    )),
                      (this._isLoaded = !0),
                      i.emit(_[_.LevelsController_Loaded]);
                  }
                }),
                (n.getLevel = function (e) {
                  var t = this._levelsData.find(function (t) {
                    return t.id === e;
                  });
                  if (t) return t;
                  throw "Invalid Level id: " + e;
                }),
                (n.setUnlockLevels = function (e) {}),
                t(e, [
                  {
                    key: "levelsCount",
                    get: function () {
                      return this._levelsData.length;
                    },
                  },
                  {
                    key: "isLoaded",
                    get: function () {
                      return this._isLoaded;
                    },
                  },
                  {
                    key: "currentLevel",
                    get: function () {
                      return this._currentLevel;
                    },
                  },
                  {
                    key: "unlockedLevels",
                    get: function () {
                      return this._unlockedLevels;
                    },
                  },
                  {
                    key: "totalStars",
                    get: function () {
                      for (
                        var e,
                          t = 0,
                          n = L.getData(d[d.SaveGameKeys_LevelStars], []),
                          r = l(n);
                        !(e = r()).done;

                      ) {
                        t += e.value;
                      }
                      return t;
                    },
                  },
                ]),
                e
              );
            })()
          ),
          C = e("levelsController", new f());
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelSelectionEntryUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LevelSelectionEvents.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./LevelsController.ts",
  ],
  function (e) {
    "use strict";
    var t, i, n, l, r, o, a, c, s, v, u, p, f, b, _, d, h, S;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (l = e.assertThisInitialized),
            (r = e.createClass);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (c = e.EventHandler),
            (s = e.Node),
            (v = e.SpriteFrame),
            (u = e.Sprite),
            (p = e.Component);
        },
        function (e) {
          f = e.projectEvent;
        },
        function (e) {
          b = e.LevelSelectionEvents;
        },
        function (e) {
          _ = e.saveGame;
        },
        function (e) {
          d = e.SaveGameKeys;
        },
        function (e) {
          (h = e.levelsController), (S = e.LevelsControllerEvents);
        },
      ],
      execute: function () {
        var y,
          m,
          L,
          g,
          E,
          D,
          k,
          I,
          z,
          C,
          w,
          G,
          O,
          U,
          A,
          F,
          N,
          P,
          j,
          K,
          q,
          H,
          R,
          x,
          B,
          M,
          T;
        o._RF.push(
          {},
          "d2b25cqmZVPFqIvectC/nlG",
          "LevelSelectionEntryUI",
          void 0
        );
        var V = a.ccclass,
          Z = a.property;
        e(
          "LevelSelectionEntryUI",
          ((y = V("LevelSelectionEntryUI")),
          (m = Z({ visible: !0 })),
          (L = Z({ visible: !0, type: [c] })),
          (g = Z({ visible: !0, type: [c] })),
          (E = Z({ visible: !0 })),
          (D = Z({ visible: !0, type: [c] })),
          (k = Z({ visible: !0, type: [s] })),
          (I = Z({ visible: !0, type: v })),
          (z = Z({ visible: !0, type: v })),
          (C = Z({ visible: !0, type: [c], group: "Activate" })),
          (w = Z({ visible: !0, type: [c], group: "Deactivate" })),
          (G = Z({ visible: !0, type: [c], group: "State" })),
          (O = Z({ visible: !0, type: [c], group: "State" })),
          y(
            ((F = t(
              (A = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, r = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    r[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    n(t, "_levelID", F, l(t)),
                    n(t, "_onLevelSelected", N, l(t)),
                    n(t, "_onOtherLevelSelected", P, l(t)),
                    n(t, "_levelSettedOffset", j, l(t)),
                    n(t, "_onLevelSetted", K, l(t)),
                    n(t, "_starsNodes", q, l(t)),
                    n(t, "_activeSprite", H, l(t)),
                    n(t, "_inactiveSprite", R, l(t)),
                    n(t, "_onActivate", x, l(t)),
                    n(t, "_onDeactivate", B, l(t)),
                    n(t, "_locked", M, l(t)),
                    n(t, "_unlocked", T, l(t)),
                    t
                  );
                }
                i(t, e);
                var o = t.prototype;
                return (
                  (o.setLevelID = function (e) {
                    (this._levelID = e),
                      c.emitEvents(
                        this._onLevelSetted,
                        e + this._levelSettedOffset
                      ),
                      this._levelID <= h.unlockedLevels
                        ? c.emitEvents(this._unlocked)
                        : c.emitEvents(this._locked);
                    for (
                      var t = _.getData(d[d.SaveGameKeys_LevelStars], [])[
                          this.levelID
                        ],
                        i = 0;
                      i < this._starsNodes.length;
                      i++
                    )
                      this._starsNodes[i].getComponent(u).spriteFrame =
                        i < t ? this._activeSprite : this._inactiveSprite;
                  }),
                  (o.onEnable = function () {
                    f.on(
                      b[b.LevelSelection_Selected],
                      this.levelSelected,
                      this
                    ),
                      f.on(
                        S[S.LevelsController_UnlockedLevelsChanged],
                        this.unlockedLevelsChanged,
                        this
                      );
                  }),
                  (o.onDisable = function () {
                    f.off(
                      b[b.LevelSelection_Selected],
                      this.levelSelected,
                      this
                    ),
                      f.off(
                        S[S.LevelsController_UnlockedLevelsChanged],
                        this.unlockedLevelsChanged,
                        this
                      );
                  }),
                  (o.unlockedLevelsChanged = function (e) {
                    this._levelID <= e
                      ? c.emitEvents(this._unlocked)
                      : c.emitEvents(this._locked);
                  }),
                  (o.levelSelected = function (e) {
                    this._levelID === e
                      ? c.emitEvents(this._onLevelSelected)
                      : c.emitEvents(this._onOtherLevelSelected);
                  }),
                  (o.activate = function () {
                    c.emitEvents(this._onActivate);
                  }),
                  (o.deactivate = function () {
                    c.emitEvents(this._onDeactivate);
                  }),
                  r(t, [
                    {
                      key: "levelID",
                      get: function () {
                        return this._levelID;
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_levelID",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return -1;
                },
              }
            )),
            (N = t(A.prototype, "_onLevelSelected", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = t(A.prototype, "_onOtherLevelSelected", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (j = t(A.prototype, "_levelSettedOffset", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (K = t(A.prototype, "_onLevelSetted", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (q = t(A.prototype, "_starsNodes", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = t(A.prototype, "_activeSprite", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (R = t(A.prototype, "_inactiveSprite", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (x = t(A.prototype, "_onActivate", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (B = t(A.prototype, "_onDeactivate", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (M = t(A.prototype, "_locked", [G], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(A.prototype, "_unlocked", [O], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = A))
          ) || U)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelSelectionEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelSelectionEntryUI.ts",
    "./LevelSelectionEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, l, o, a, c, s, u, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (l = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (a = e._decorator), (c = e.Enum);
        },
        function (e) {
          s = e.LevelSelectionEntryUI;
        },
        function (e) {
          u = e.LevelSelectionEvents;
        },
        function (e) {
          v = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var p, y, f, E, b, _, L, h, S;
        o._RF.push(
          {},
          "0f753W4bYNEMKGte2GE8/db",
          "LevelSelectionEventRaiser",
          void 0
        );
        var d = a.ccclass,
          g = a.property;
        e(
          "LevelSelectionEventRaiser",
          ((p = d("LevelSelectionEventRaiser")),
          (y = g({ visible: !0, type: c(u) })),
          (f = g({ visible: !0 })),
          (E = g({ visible: !0, type: s })),
          p(
            ((L = t(
              (_ = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, l = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    l[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(l)) || this),
                    i(t, "_eventID", L, r(t)),
                    i(t, "_data", h, r(t)),
                    i(t, "_levelEntry", S, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.raise = function (t) {
                    e.prototype.raise.call(this, t);
                  }),
                  l(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        return this._levelEntry.levelID;
                      },
                    },
                  ]),
                  t
                );
              })(v)).prototype,
              "_eventID",
              [y],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.LevelSelection_None;
                },
              }
            )),
            (h = t(_.prototype, "_data", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (S = t(_.prototype, "_levelEntry", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (b = _))
          ) || b)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelSelectionEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var t;
    return {
      setters: [
        function (e) {
          t = e.cclegacy;
        },
      ],
      execute: function () {
        var n;
        e("LevelSelectionEvents", void 0),
          t._RF.push(
            {},
            "f6f4e6iW5NBnJsVWuyAGEBd",
            "LevelSelectionEvents",
            void 0
          ),
          (function (e) {
            (e[(e.LevelSelection_None = 0)] = "LevelSelection_None"),
              (e[(e.LevelSelection_Selected = 1)] = "LevelSelection_Selected");
          })(n || (n = e("LevelSelectionEvents", {}))),
          t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelSelectionEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelSelectionEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, s, c, o, l, a, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (o = e._decorator), (l = e.Enum);
        },
        function (e) {
          a = e.LevelSelectionEvents;
        },
        function (e) {
          v = e.BaseEventListener;
        },
      ],
      execute: function () {
        var u, p, L, f, y;
        c._RF.push(
          {},
          "f7d41Qy3qJNQ7QmMEGEa0cU",
          "LevelSelectionEventsListener",
          void 0
        );
        var E = o.ccclass,
          h = o.property;
        e(
          "LevelSelectionEventsListener",
          ((u = E("LevelSelectionEventsListener")),
          (p = h({ visible: !0, type: l(a) })),
          u(
            ((y = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_eventID", y, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return a[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(v)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return a.LevelSelection_None;
                },
              }
            )),
            (L = f))
          ) || L)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelsProgressionUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
  ],
  function (e) {
    "use strict";
    var r, t, s, n, o, i, a, c, l, u, v;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (s = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (i = e.cclegacy),
            (a = e._decorator),
            (c = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          u = e.saveGame;
        },
        function (e) {
          v = e.SaveGameKeys;
        },
      ],
      execute: function () {
        var p, g, f, P, y;
        i._RF.push(
          {},
          "2cf8fVhg/RKxbWtjFRBFB36",
          "LevelsProgressionUI",
          void 0
        );
        var h = a.ccclass,
          m = a.property;
        e(
          "LevelsProgressionUI",
          ((p = h("LevelsProgressionUI")),
          (g = m({ visible: !0, type: [c] })),
          p(
            ((y = r(
              (P = (function (e) {
                function r() {
                  for (
                    var r, t = arguments.length, o = new Array(t), i = 0;
                    i < t;
                    i++
                  )
                    o[i] = arguments[i];
                  return (
                    (r = e.call.apply(e, [this].concat(o)) || this),
                    s(r, "_setProgressionsPercentage", y, n(r)),
                    r
                  );
                }
                return (
                  t(r, e),
                  (r.prototype.setProgressionPercentage = function () {
                    for (
                      var e,
                        r = u.getData(v[v.SaveGameKeys_LevelStars], []),
                        t = 0,
                        s = 0,
                        n = o(r);
                      !(e = n()).done;

                    ) {
                      (s += e.value), (t += 3);
                    }
                    var i = Math.round((s / t) * 100);
                    c.emitEvents(this._setProgressionsPercentage, i);
                  }),
                  r
                );
              })(l)).prototype,
              "_setProgressionsPercentage",
              [g],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (f = P))
          ) || f)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LevelsSelectionUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LevelsController.ts",
    "./LevelSelectionEntryUI.ts",
  ],
  function (e) {
    "use strict";
    var t, i, r, n, l, o, s, a, u, c, v, p, f, b, _, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (l = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (o = e.cclegacy),
            (s = e._decorator),
            (a = e.Prefab),
            (u = e.Node),
            (c = e.EventHandler),
            (v = e.instantiate),
            (p = e.Component);
        },
        function (e) {
          f = e.projectEvent;
        },
        function (e) {
          (b = e.levelsController), (_ = e.LevelsControllerEvents);
        },
        function (e) {
          h = e.LevelSelectionEntryUI;
        },
      ],
      execute: function () {
        var y, L, d, m, g, I, S, C, E, w, P, R, U;
        o._RF.push({}, "a2c610KRLRHgoDZhv0oKlf6", "LevelsSelectionUI", void 0);
        var z = s.ccclass,
          H = s.property;
        e(
          "LevelsSelectionUI",
          ((y = z("LevelsSelectionUI")),
          (L = H({ visible: !0, type: a })),
          (d = H({ visible: !0, type: u })),
          (m = H({ visible: !0 })),
          (g = H({ visible: !0, type: [c] })),
          (I = H({ visible: !0, type: [c] })),
          y(
            ((E = t(
              (C = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, l = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    l[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(l)) || this),
                    r(t, "_levelEntryPrefab", E, n(t)),
                    r(t, "_entriesHolder", w, n(t)),
                    (t._entries = []),
                    r(t, "_uiColumns", P, n(t)),
                    r(t, "_setUIRows", R, n(t)),
                    r(t, "_setLevelScrollRatio", U, n(t)),
                    t
                  );
                }
                i(t, e);
                var o = t.prototype;
                return (
                  (o.populateLevels = function () {
                    if (b.isLoaded) {
                      for (var e = b.levelsCount, t = 0; t < e; t++) {
                        var i = v(this._levelEntryPrefab);
                        i.setParent(this._entriesHolder);
                        var r = i.getComponent(h);
                        r.setLevelID(t), this._entries.push(r);
                      }
                      var n = Math.ceil(e / this._uiColumns);
                      c.emitEvents(this._setUIRows, n);
                      var l = b.unlockedLevels,
                        o = Math.ceil(l / this._uiColumns);
                      c.emitEvents(this._setLevelScrollRatio, o / n);
                    } else
                      f.once(
                        _[_.LevelsController_Loaded],
                        this.populateLevels,
                        this
                      );
                  }),
                  (o.showStagePanel = function () {
                    for (var e, t = l(this._entries); !(e = t()).done; ) {
                      e.value.activate();
                    }
                  }),
                  (o.hideStagePanel = function () {
                    for (var e, t = l(this._entries); !(e = t()).done; ) {
                      e.value.deactivate();
                    }
                  }),
                  t
                );
              })(p)).prototype,
              "_levelEntryPrefab",
              [L],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (w = t(C.prototype, "_entriesHolder", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (P = t(C.prototype, "_uiColumns", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 3;
              },
            })),
            (R = t(C.prototype, "_setUIRows", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = t(C.prototype, "_setLevelScrollRatio", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (S = C))
          ) || S)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LinePositioner.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var n, e, o, r;
    return {
      setters: [
        function (t) {
          n = t.inheritsLoose;
        },
        function (t) {
          (e = t.cclegacy), (o = t._decorator), (r = t.Component);
        },
      ],
      execute: function () {
        var i;
        e._RF.push({}, "641aap4CudNrKMJCJ5DOmSr", "LinePositioner", void 0);
        var s = o.ccclass;
        o.property,
          t(
            "LinePositioner",
            s("LinePositioner")(
              (i = (function (t) {
                function e() {
                  return t.apply(this, arguments) || this;
                }
                n(e, t);
                var o = e.prototype;
                return (
                  (o.start = function () {}), (o.update = function (t) {}), e
                );
              })(r))
            ) || i
          );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LoadingEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LoadingEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, a, o, s, c, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (c = e.Enum);
        },
        function (e) {
          u = e.LoadingEvents;
        },
        function (e) {
          l = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var v, d, p, f, g, y, h;
        o._RF.push({}, "4de5euRDM9BrJN6BQzqBJ4r", "LoadingEventRaiser", void 0);
        var _ = s.ccclass,
          E = s.property;
        e(
          "LoadingEventRaiser",
          ((v = _("LoadingEventRaiser")),
          (d = E({ visible: !0, type: c(u) })),
          (p = E({ visible: !0 })),
          v(
            ((y = t(
              (g = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, a = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_eventID", y, r(t)),
                    i(t, "_data", h, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Loading_None;
                },
              }
            )),
            (h = t(g.prototype, "_data", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (f = g))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/LoadingEvents.ts", ["cc"], function (n) {
  "use strict";
  var i;
  return {
    setters: [
      function (n) {
        i = n.cclegacy;
      },
    ],
    execute: function () {
      var e;
      n("LoadingEvents", void 0),
        i._RF.push({}, "5de90teBKNMP5EIkGzQCm68", "LoadingEvents", void 0),
        (function (n) {
          (n[(n.Loading_None = 0)] = "Loading_None"),
            (n[(n.Loading_Show = 1)] = "Loading_Show"),
            (n[(n.Loading_Hide = 2)] = "Loading_Hide"),
            (n[(n.Loading_HideFinished = 3)] = "Loading_HideFinished"),
            (n[(n.Loading_CurrentState = 4)] = "Loading_CurrentState");
        })(e || (e = n("LoadingEvents", {}))),
        i._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/LoadingEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LoadingEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, s, o, a, c, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (a = e._decorator), (c = e.Enum);
        },
        function (e) {
          u = e.LoadingEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, L, f, g;
        o._RF.push(
          {},
          "2c777uJJKlMQKZijqaRubSj",
          "LoadingEventsListener",
          void 0
        );
        var d = a.ccclass,
          y = a.property;
        e(
          "LoadingEventsListener",
          ((v = d("LoadingEventsListener")),
          (p = y({ visible: !0, type: c(u) })),
          v(
            ((g = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_eventID", g, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Loading_None;
                },
              }
            )),
            (L = f))
          ) || L)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LoadingScreenState.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LoadingEvents.ts",
  ],
  function (t) {
    "use strict";
    var e, n, i, a, r, o, c, s, u;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (a = t.assertThisInitialized);
        },
        function (t) {
          (r = t.cclegacy), (o = t._decorator), (c = t.Component);
        },
        function (t) {
          s = t.projectEvent;
        },
        function (t) {
          u = t.LoadingEvents;
        },
      ],
      execute: function () {
        var p, l, v, f, g;
        r._RF.push({}, "415935Oj51AL7TcfQ4IEKSo", "LoadingScreenState", void 0);
        var d = o.ccclass,
          S = o.property;
        t(
          "LoadingScreenState",
          ((p = d("LoadingScreenState")),
          (l = S({ visible: !0 })),
          p(
            ((g = e(
              (f = (function (t) {
                function e() {
                  for (
                    var e, n = arguments.length, r = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    r[o] = arguments[o];
                  return (
                    (e = t.call.apply(t, [this].concat(r)) || this),
                    i(e, "_active", g, a(e)),
                    e
                  );
                }
                n(e, t);
                var r = e.prototype;
                return (
                  (r.onEnable = function () {
                    this.propagateState();
                  }),
                  (r.activate = function () {
                    this._active = !0;
                  }),
                  (r.deactivate = function () {
                    this._active = !1;
                  }),
                  (r.propagateState = function () {
                    s.emit(u[u.Loading_CurrentState], this._active);
                  }),
                  e
                );
              })(c)).prototype,
              "_active",
              [l],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (v = f))
          ) || v)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LoadingScreenStateAction.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n, i, o, r, c, a, s;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (o = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy),
            (c = e._decorator),
            (a = e.EventHandler),
            (s = e.Component);
        },
      ],
      execute: function () {
        var l, u, p, d, g, v, L;
        r._RF.push(
          {},
          "b12c0nuIs5FLrZK2eAd5doN",
          "LoadingScreenStateAction",
          void 0
        );
        var f = c.ccclass,
          y = c.property;
        e(
          "LoadingScreenStateAction",
          ((l = f("LoadingScreenStateAction")),
          (u = y({ visible: !0, type: [a] })),
          (p = y({ visible: !0, type: [a] })),
          l(
            ((v = t(
              (g = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, r = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    r[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(r)) || this),
                    i(t, "_onLoadingActive", v, o(t)),
                    i(t, "_onLoadingNotActive", L, o(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.setLoadingScreenState = function (e) {
                    e
                      ? a.emitEvents(this._onLoadingActive)
                      : a.emitEvents(this._onLoadingNotActive);
                  }),
                  t
                );
              })(s)).prototype,
              "_onLoadingActive",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (L = t(g.prototype, "_onLoadingNotActive", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = g))
          ) || d)
        );
        r._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/Logger.ts", ["cc"], function (e) {
  "use strict";
  var g;
  return {
    setters: [
      function (e) {
        g = e.cclegacy;
      },
    ],
    execute: function () {
      var o, r;
      e({ LogCategory: void 0, LogType: void 0 }),
        g._RF.push({}, "46e063+EuZIZL/iJQhAf/jc", "Logger", void 0),
        (function (e) {
          (e[(e.Info = 0)] = "Info"),
            (e[(e.Warning = 1)] = "Warning"),
            (e[(e.Error = 2)] = "Error");
        })(o || (o = e("LogType", {}))),
        (function (e) {
          (e[(e.Generic = 0)] = "Generic"),
            (e[(e.Gameplay = 1)] = "Gameplay"),
            (e[(e.AI = 2)] = "AI"),
            (e[(e.Metagame = 3)] = "Metagame"),
            (e[(e.UI = 4)] = "UI"),
            (e[(e.Audio = 5)] = "Audio");
        })(r || (r = e("LogCategory", {})));
      var n = e(
        "Logger",
        (function () {
          function e() {
            for (var e in ((this.currentLoggingLevel = o.Info),
            (this.categoryLogging = new Map()),
            r)) {
              var g = Number(e);
              isNaN(g) || this.categoryLogging.set(g, !0);
            }
          }
          var g = e.prototype;
          return (
            (g.setLoggingLevel = function (e) {
              this.currentLoggingLevel = e;
            }),
            (g.setCategoryLogging = function (e, g) {
              this.categoryLogging.set(e, g);
            }),
            (g.getCategoryLogging = function (e) {
              if (this.categoryLogging.has(e)) {
                var g = this.categoryLogging.get(e);
                return g || !1;
              }
              return !1;
            }),
            (g.log = function (e, g, n) {
              if (
                (void 0 === g && (g = r.Generic),
                void 0 === n && (n = o.Info),
                this.categoryLogging.get(g) && !(n < this.currentLoggingLevel))
              ) {
                var t = r[g];
                switch (n) {
                  case o.Info:
                    console.log("[" + t + "] " + e);
                    break;
                  case o.Warning:
                    console.warn("[" + t + "] " + e);
                    break;
                  case o.Error:
                    console.error("[" + t + "] " + e);
                }
                o.Error;
              }
            }),
            e
          );
        })()
      );
      e("logger", new n()).setLoggingLevel(o.Error), g._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/LogString.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (t) {
    "use strict";
    var e, r, i, n, o, c, l, a;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy), (c = t._decorator), (l = t.Component);
        },
        function (t) {
          a = t.logger;
        },
      ],
      execute: function () {
        var s, u, g, p, f;
        o._RF.push({}, "93f08a/C8BE67WCaBfvDFAN", "LogString", void 0);
        var y = c.ccclass,
          h = c.property;
        t(
          "LogString",
          ((s = y("LogString")),
          (u = h({ visible: !0, multiline: !0 })),
          s(
            ((f = e(
              (p = (function (t) {
                function e() {
                  for (
                    var e, r = arguments.length, o = new Array(r), c = 0;
                    c < r;
                    c++
                  )
                    o[c] = arguments[c];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    i(e, "_text", f, n(e)),
                    e
                  );
                }
                return (
                  r(e, t),
                  (e.prototype.log = function () {
                    a.log(this._text);
                  }),
                  e
                );
              })(l)).prototype,
              "_text",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (g = p))
          ) || g)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/LookAtTarget.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TimeScale.ts"],
  function (e) {
    "use strict";
    var t, r, i, n, o, a, s, c, u, l, g, d, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (c = e.Node),
            (u = e.Vec3),
            (l = e.math),
            (g = e.Quat),
            (d = e.Component);
        },
        function (e) {
          h = e.timeScale;
        },
      ],
      execute: function () {
        var _, f, p, T, v, y, m, b, k;
        a._RF.push({}, "b46f3gbdcBN4Zzu1k+puyPE", "LookAtTarget", void 0);
        var w = s.ccclass,
          A = s.property;
        e(
          "LookAtTarget",
          ((_ = w("LookAtTarget")),
          (f = A({ visible: !0, type: c })),
          (p = A({ visible: !0 })),
          (T = A({ visible: !0 })),
          _(
            ((m = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    i(t, "_renderNode", m, n(t)),
                    i(t, "_rotSpeed", b, n(t)),
                    (t._currentTarget = null),
                    i(t, "_active", k, n(t)),
                    (t._isLookingAtTarget = !1),
                    t
                  );
                }
                r(t, e);
                var a = t.prototype;
                return (
                  (a.lookAtTarget = function (e) {
                    return (
                      (this._currentTarget = e),
                      (this._isLookingAtTarget = this.isFacingEnemy(e)),
                      this._isLookingAtTarget
                    );
                  }),
                  (a.removeTarget = function (e) {
                    this._currentTarget === e &&
                      ((this._currentTarget = null),
                      (this._isLookingAtTarget = !1));
                  }),
                  (a.resetRotation = function (e) {
                    var t = this._renderNode.forward.clone().normalize(),
                      r = u.UNIT_Z.clone().negative();
                    this.rotate(t, r, e);
                  }),
                  (a.update = function (e) {
                    if (
                      ((e *= h.current),
                      this._currentTarget && this._currentTarget.isValid)
                    ) {
                      var t = this._renderNode.forward.clone().normalize(),
                        r = this._currentTarget.node.worldPosition
                          .clone()
                          .subtract(this._renderNode.worldPosition);
                      (r.y = 0),
                        (r = r.normalize()),
                        this.rotate(t, r, e),
                        (this._isLookingAtTarget = this.isFacingEnemy(
                          this._currentTarget
                        ));
                    }
                  }),
                  (a.rotate = function (e, t, r) {
                    var i = l.toDegree(u.angle(e, t));
                    if (i > this._rotSpeed * r) {
                      var n = this.getRotation(e, t),
                        o = new g();
                      g.slerp(o, g.IDENTITY, n.clone(), this._rotSpeed * r),
                        this._renderNode.rotate(o);
                    } else if (i > l.EPSILON) {
                      var a = this.getRotation(e, t);
                      this._renderNode.rotate(a);
                    }
                  }),
                  (a.isFacingTargetDirection = function (e, t) {
                    return l.toDegree(u.angle(e, t)) < 5;
                  }),
                  (a.isFacingEnemy = function (e) {
                    var t = this._renderNode.forward.clone().normalize(),
                      r = this._currentTarget.node.worldPosition
                        .clone()
                        .subtract(this._renderNode.worldPosition);
                    return (
                      (r.y = 0),
                      (r = r.normalize()),
                      this.isFacingTargetDirection(t, r)
                    );
                  }),
                  (a.getRotation = function (e, t) {
                    var r = new g();
                    g.rotationTo(r, e, t);
                    var i = new u();
                    return r.getEulerAngles(i), g.fromEuler(r, 0, i.y, 0), r;
                  }),
                  o(t, [
                    {
                      key: "active",
                      get: function () {
                        return this._active;
                      },
                    },
                    {
                      key: "isLookingAtTarget",
                      get: function () {
                        return this._isLookingAtTarget;
                      },
                    },
                  ]),
                  t
                );
              })(d)).prototype,
              "_renderNode",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (b = t(y.prototype, "_rotSpeed", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 10;
              },
            })),
            (k = t(y.prototype, "_active", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !0;
              },
            })),
            (v = y))
          ) || v)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/main",
  [
    "./AdsUI.ts",
    "./BundleLoader.ts",
    "./ScenesBundleLoader.ts",
    "./BaseBlock.ts",
    "./BoundaryBlock.ts",
    "./CubeToweBlock.ts",
    "./GroungBlock.ts",
    "./PathBlock.ts",
    "./SlotBlock.ts",
    "./SpawnBlock.ts",
    "./SetCameraZoomIntensity.ts",
    "./UICamera.ts",
    "./UICameraGetter.ts",
    "./CheatInfo.ts",
    "./CheatInfoLogger.ts",
    "./CheatSetUnlockedLevels.ts",
    "./CurrencyCheat.ts",
    "./OnKeyDown.ts",
    "./SetLevel.ts",
    "./SphereColliderHelper.ts",
    "./SetColor.ts",
    "./SetColorToText.ts",
    "./ColumnDelayData.ts",
    "./CubeTowerEvents.ts",
    "./CubeTowerHP.ts",
    "./CubeTowerHPEntryUI.ts",
    "./CubeTowerHPUI.ts",
    "./CurrencyController.ts",
    "./CurrencyEvents.ts",
    "./GetCurrency.ts",
    "./SwitchCamera.ts",
    "./EnemiesDataController.ts",
    "./Enemy.ts",
    "./EnemyData.ts",
    "./EnemyEvents.ts",
    "./EnemyHP.ts",
    "./EnemyModelsUI.ts",
    "./EnemyMovement.ts",
    "./EnemyStun.ts",
    "./IEnemyDataComponent.ts",
    "./IEnemyMovementData.ts",
    "./SlowData.ts",
    "./EnemySpecialEvents.ts",
    "./SpawnEnemiesDataController.ts",
    "./SpawnEnemiesDataSpecialEvent.ts",
    "./SpawnEnemiesSpecial.ts",
    "./SpawnSpecialData.ts",
    "./EnergySystem.ts",
    "./EnergyUI.ts",
    "./BlockEvents.ts",
    "./EnemiesDataControllerEvents.ts",
    "./EnergyEvents.ts",
    "./GameEvents.ts",
    "./LevelConstructorEvents.ts",
    "./LevelSelectionEvents.ts",
    "./LoadingEvents.ts",
    "./TowerEvents.ts",
    "./WaveEvents.ts",
    "./WavesDataControllerEvents.ts",
    "./BaseEventListener.ts",
    "./CubeTowerEventsListener.ts",
    "./CurrencyEventsListener.ts",
    "./EnemyEventsListener.ts",
    "./EnergyEventsListener.ts",
    "./EventListener.ts",
    "./GameEventsListener.ts",
    "./LevelControllerEventsListener.ts",
    "./LevelSelectionEventsListener.ts",
    "./LoadingEventsListener.ts",
    "./SpawnerEventsListener.ts",
    "./TimeScaleEventsListener.ts",
    "./TowerEventsListener.ts",
    "./TutorialEventsListener.ts",
    "./WaveEventsListener.ts",
    "./BaseEventRaiser.ts",
    "./CubeTowerEventRaiser.ts",
    "./EventRaiser.ts",
    "./GameEventRaiser.ts",
    "./LevelSelectionEventRaiser.ts",
    "./LoadingEventRaiser.ts",
    "./TimeScaleEventRaiser.ts",
    "./TowerEventRaiser.ts",
    "./WaveEventRaiser.ts",
    "./Fillbar.ts",
    "./AdsEvents.ts",
    "./IAdRequest.ts",
    "./RewardedAdOportunity.ts",
    "./GSAudioController.ts",
    "./GSGameEventsEmitter.ts",
    "./GSGameOverEmitter.ts",
    "./GSGameReadyEmitter.ts",
    "./EndGameUI.ts",
    "./GameOverController.ts",
    "./GameVictoryController.ts",
    "./GetCurrentLevelData.ts",
    "./LastLevelChecker.ts",
    "./LevelCompletedUI.ts",
    "./LevelConstructor.ts",
    "./LevelData.ts",
    "./LevelHintData.ts",
    "./LevelHints.ts",
    "./LevelHintsUI.ts",
    "./LevelSelectionEntryUI.ts",
    "./LevelsController.ts",
    "./LevelsProgressionUI.ts",
    "./LevelsSelectionUI.ts",
    "./SetNextLevel.ts",
    "./BitLine.ts",
    "./LoadingScreenState.ts",
    "./LoadingScreenStateAction.ts",
    "./SetSibling.ts",
    "./OnParticlesFinish.ts",
    "./Pathfinder.ts",
    "./PersistentNode.ts",
    "./PhysicsGroupSetter.ts",
    "./PositionOffsetRandomizer.ts",
    "./WorldToUIPosition.ts",
    "./Randomizer.ts",
    "./FreezeRewardedAdsBonusController.ts",
    "./RewardedAdsBonusEvents.ts",
    "./ForceRotation.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./SceneLoader.ts",
    "./SceneLoaderEventListener.ts",
    "./SceneLoaderEventRaiser.ts",
    "./SceneLoaderEvents.ts",
    "./ConfirmationPanelEntry.ts",
    "./BaseShopEntryData.ts",
    "./CommonShopEntryData.ts",
    "./TowerShopEntryData.ts",
    "./BaseShopEntry.ts",
    "./ChangeTowerEntryTab.ts",
    "./CommonShopEntry.ts",
    "./TowerShopEntry.ts",
    "./TowerShopEntryModel.ts",
    "./TowerShopUITreeLinesController.ts",
    "./ShopColumn.ts",
    "./ShopTowerModelsUI.ts",
    "./ShopUI.ts",
    "./SpawnAudioController.ts",
    "./Spawner.ts",
    "./SpawnerCheat.ts",
    "./TimeScale.ts",
    "./TimeScaleEvents.ts",
    "./Timer.ts",
    "./AttackData.ts",
    "./AttackState.ts",
    "./AttackVFXTriggers.ts",
    "./BaseShootVFX.ts",
    "./BaseTowerAttack.ts",
    "./CannonTowerAttack.ts",
    "./CannonTowerShootVFX.ts",
    "./GunTowerAttack.ts",
    "./GunTowerShootVFX.ts",
    "./LaserAttackUnit.ts",
    "./LaserTowerAttack.ts",
    "./LaserTowerShootVFX.ts",
    "./ProjectileTowerAttack.ts",
    "./ShootVFXData.ts",
    "./TowerAttackUnit.ts",
    "./TowerRangeScaler.ts",
    "./LaserTowerShootSFXController.ts",
    "./TowerAura.ts",
    "./BaseTower.ts",
    "./TowersData.ts",
    "./GunTower.ts",
    "./LookAtTarget.ts",
    "./BaseSpecial.ts",
    "./BurnSpecial.ts",
    "./ChainSpecial.ts",
    "./ChainSpecialData.ts",
    "./BaseTowerTargetChooser.ts",
    "./ClosestToGoalTowerTargetChooser.ts",
    "./FarthestToGoalTowerTargetChooser.ts",
    "./HighestHPTowerTargetChooser.ts",
    "./TowerConstructor.ts",
    "./TowerDestructor.ts",
    "./TowerUpgrader.ts",
    "./TowerTypes.ts",
    "./LinePositioner.ts",
    "./TowerContructionEntryData.ts",
    "./TowerContructionUI.ts",
    "./TowerContructionUIEntry.ts",
    "./TowerInfoUI.ts",
    "./TowerUpgradeEntryData.ts",
    "./TowerModelsUI.ts",
    "./TowerUpgradeDataControllerEvents.ts",
    "./TowerUpgradesDataController.ts",
    "./BaseTowerUpgradeData.ts",
    "./CannonTowerUpgradeData.ts",
    "./GunTowerUpgradeData.ts",
    "./LaserTowerUpgradeData.ts",
    "./BaseTowerUpgradeHandler.ts",
    "./TowerUpgradeID.ts",
    "./CannonTowerUpgradeHandler.ts",
    "./GunTowerUpgradeHandler.ts",
    "./LaserTowerUpgradeHandler.ts",
    "./BaseTowerProgressionData.ts",
    "./CannonTowerProgressionData.ts",
    "./GunTowerProgressionData.ts",
    "./LaserTowerProgressionData.ts",
    "./TowerProgressionDataFactory.ts",
    "./UpgradeState.ts",
    "./TowerUpgradesUI.ts",
    "./TutorialController.ts",
    "./TutorialEvents.ts",
    "./TutorialUI.ts",
    "./TutorialUIType.ts",
    "./ScrollViewHeightController.ts",
    "./ScrollViewRatio.ts",
    "./BaseTextFormatter.ts",
    "./IntTextFormatter.ts",
    "./TimeTextFormatter.ts",
    "./SetText.ts",
    "./SetTextAnimated.ts",
    "./TextExtensions.ts",
    "./SetModelsToUI.ts",
    "./BaseUpgrade.ts",
    "./CommonUpgrade.ts",
    "./TowerUpgrade.ts",
    "./UpgradeControllerEvents.ts",
    "./UpgradeData.ts",
    "./UpgradesController.ts",
    "./UpgradesControllerEvents.ts",
    "./WaveData.ts",
    "./WaveEnemyData.ts",
    "./WaveEventData.ts",
    "./WaveUI.ts",
    "./WavesController.ts",
    "./WavesDataController.ts",
    "./ThemeCameraColor.ts",
    "./ThemeModelChooser.ts",
    "./WorldSettings.ts",
    "./LogString.ts",
    "./AnimationEnums.ts",
    "./AnimationEventRaiser.ts",
    "./AnimationGraphHelper.ts",
    "./AnimationHelperVariable.ts",
    "./AudioData.ts",
    "./AudioDataLoader.ts",
    "./AudioEnums.ts",
    "./AudioItem.ts",
    "./AudioListener.ts",
    "./AudioManager.ts",
    "./AudioManagerInitializer.ts",
    "./AudioObject.ts",
    "./AudioProxy.ts",
    "./UIClickSFX.ts",
    "./ButtonHelper.ts",
    "./NodeHelper.ts",
    "./RigidbodyHelper.ts",
    "./SpriteHelper.ts",
    "./DebugDraw.ts",
    "./Logger.ts",
    "./ObjectPool.ts",
    "./PrefabPool.ts",
    "./ProjectEvent.ts",
    "./OnEnable.ts",
    "./OnStart.ts",
    "./Draggable.ts",
    "./DropArea.ts",
    "./Droppable.ts",
    "./FollowDragOnGroundExample.ts",
    "./Holdable.ts",
    "./InputEnums.ts",
    "./Tappable.ts",
    "./TouchController.ts",
    "./AxisInput.ts",
    "./UIVirtualJoystick.ts",
    "./VirtualJoystick.ts",
    "./VirutalJoystick%20enums.ts",
    "./Panel.ts",
    "./PanelEnums.ts",
    "./PanelManager.ts",
    "./BaseSaveGame.ts",
    "./BaseSaveGameData.ts",
    "./SaveGameEnums.ts",
    "./PunchPositionTween.ts",
    "./PunchRotationTween.ts",
    "./PunchScaleTween.ts",
    "./PunchTweenBase.ts",
    "./TweenBase.ts",
    "./TweenCollection.ts",
    "./TweenEnums.ts",
    "./TweenNodePosition.ts",
    "./TweenNodeRotation.ts",
    "./TweenNodeScale.ts",
    "./TweenPunchScale.ts",
    "./TweenUIOpacity.ts",
  ],
  function () {
    "use strict";
    return {
      setters: [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
      ],
      execute: function () {},
    };
  }
);

System.register(
  "chunks:///_virtual/NodeHelper.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, o, n, i;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (o = e.cclegacy), (n = e._decorator), (i = e.Component);
        },
      ],
      execute: function () {
        var r;
        o._RF.push({}, "99672sUg5NFw4x7bEPAiyHE", "NodeHelper", void 0);
        var c = n.ccclass;
        n.property,
          e(
            "NodeHelper",
            c("NodeHelper")(
              (r = (function (e) {
                function o() {
                  return e.apply(this, arguments) || this;
                }
                t(o, e);
                var n = o.prototype;
                return (
                  (n.activate = function () {
                    this.setActiveState(!0);
                  }),
                  (n.deactivate = function () {
                    this.setActiveState(!1);
                  }),
                  (n.setActiveState = function (e) {
                    "boolean" == typeof e && (this.node.active = e);
                  }),
                  (n.destroyNode = function () {
                    this.node.destroy();
                  }),
                  o
                );
              })(i))
            ) || r
          );
        o._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/ObjectPool.ts", ["cc"], function (t) {
  "use strict";
  var e;
  return {
    setters: [
      function (t) {
        e = t.cclegacy;
      },
    ],
    execute: function () {
      e._RF.push({}, "11492o6PdtKSpWjhHMselFX", "ObjectPool", void 0);
      t(
        "ObjectPool",
        (function () {
          function t(t, e) {
            void 0 === e && (e = 0), (this.elements = []), (this.allocator = t);
            for (var o = 0; o < e; o++) this.elements.push(this.allocator());
          }
          var e = t.prototype;
          return (
            (e.get = function () {
              return this.elements.length > 0
                ? this.elements.pop()
                : this.allocator();
            }),
            (e.release = function (t) {
              this.elements.push(t);
            }),
            t
          );
        })()
      );
      e._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/OnEnable.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var n, t, r, i, o, a, l, c;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (l = e.EventHandler),
            (c = e.Component);
        },
      ],
      execute: function () {
        var s, u, p, b, f;
        o._RF.push({}, "56f824up7tJH6vIYn6FglJc", "OnEnable", void 0);
        var v = a.ccclass,
          y = a.property;
        e(
          "OnEnable",
          ((s = v("OnEnable")),
          (u = y({ visible: !0, type: [l] })),
          s(
            ((f = n(
              (b = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, o = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (n = e.call.apply(e, [this].concat(o)) || this),
                    r(n, "_onEnable", f, i(n)),
                    n
                  );
                }
                return (
                  t(n, e),
                  (n.prototype.onEnable = function () {
                    l.emitEvents(this._onEnable);
                  }),
                  n
                );
              })(c)).prototype,
              "_onEnable",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (p = b))
          ) || p)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/OnKeyDown.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var n, t, i, o, r, s, a, c, u, y, l, p;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (o = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy),
            (s = e._decorator),
            (a = e.Enum),
            (c = e.KeyCode),
            (u = e.EventHandler),
            (y = e.input),
            (l = e.Input),
            (p = e.Component);
        },
      ],
      execute: function () {
        var f, h, v, D, K, w, _;
        r._RF.push({}, "a8166/pfj5AOJwP6C7HTwV/", "OnKeyDown", void 0);
        var b = s.ccclass,
          d = s.property;
        e(
          "OnKeyDown",
          ((f = b("OnKeyDown")),
          (h = d({ visible: !0, type: a(c) })),
          (v = d({ visible: !0, type: [u] })),
          f(
            ((w = n(
              (K = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, r = new Array(t), s = 0;
                    s < t;
                    s++
                  )
                    r[s] = arguments[s];
                  return (
                    (n = e.call.apply(e, [this].concat(r)) || this),
                    i(n, "_key", w, o(n)),
                    i(n, "_onKeyPressed", _, o(n)),
                    n
                  );
                }
                t(n, e);
                var r = n.prototype;
                return (
                  (r.onEnable = function () {
                    y.on(l.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (r.onDisable = function () {
                    y.off(l.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (r.onKeyDown = function (e) {
                    e.keyCode === this._key && u.emitEvents(this._onKeyPressed);
                  }),
                  n
                );
              })(p)).prototype,
              "_key",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return c.NONE;
                },
              }
            )),
            (_ = n(K.prototype, "_onKeyPressed", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (D = K))
          ) || D)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/OnParticlesFinish.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (i) {
    "use strict";
    var t, e, n, r, s, a, o, c, l;
    return {
      setters: [
        function (i) {
          (t = i.applyDecoratedDescriptor),
            (e = i.inheritsLoose),
            (n = i.initializerDefineProperty),
            (r = i.assertThisInitialized);
        },
        function (i) {
          (s = i.cclegacy),
            (a = i._decorator),
            (o = i.ParticleSystem),
            (c = i.EventHandler),
            (l = i.Component);
        },
      ],
      execute: function () {
        var u, p, h, y, f, d, P;
        s._RF.push({}, "62285pUnQZPabUSSmdd/Zu1", "OnParticlesFinish", void 0);
        var _ = a.ccclass,
          v = a.property;
        i(
          "OnParticlesFinish",
          ((u = _("OnParticlesFinish")),
          (p = v({ visible: !0, type: [o] })),
          (h = v({ visible: !0, type: [c] })),
          u(
            ((d = t(
              (f = (function (i) {
                function t() {
                  for (
                    var t, e = arguments.length, s = new Array(e), a = 0;
                    a < e;
                    a++
                  )
                    s[a] = arguments[a];
                  return (
                    (t = i.call.apply(i, [this].concat(s)) || this),
                    n(t, "_pSystems", d, r(t)),
                    n(t, "_onFinished", P, r(t)),
                    (t._started = !1),
                    t
                  );
                }
                e(t, i);
                var s = t.prototype;
                return (
                  (s.update = function (i) {
                    if (this._started) {
                      for (
                        var t = !0, e = 0;
                        e < this._pSystems.length && t;
                        e++
                      ) {
                        var n = this._pSystems[e];
                        t =
                          t &&
                          (!n.isPlaying ||
                            (n.time > 0.1 && 0 === n.getParticleCount()));
                      }
                      t && this.finishedPlayingParticles();
                    }
                  }),
                  (s.waitParticlesFinish = function () {
                    this._started = !0;
                  }),
                  (s.finishedPlayingParticles = function () {
                    (this._started = !1), c.emitEvents(this._onFinished);
                  }),
                  t
                );
              })(l)).prototype,
              "_pSystems",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (P = t(f.prototype, "_onFinished", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (y = f))
          ) || y)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/OnStart.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, r, n, i, o, a, c, s;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (i = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy),
            (a = t._decorator),
            (c = t.EventHandler),
            (s = t.Component);
        },
      ],
      execute: function () {
        var l, u, p, f, y;
        o._RF.push({}, "72ee5PZ+hdMopet3lRswSwG", "OnStart", void 0);
        var h = a.ccclass,
          v = a.property;
        t(
          "OnStart",
          ((l = h("OnStart")),
          (u = v({ visible: !0, type: [c] })),
          l(
            ((y = e(
              (f = (function (t) {
                function e() {
                  for (
                    var e, r = arguments.length, o = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    n(e, "_onStart", y, i(e)),
                    e
                  );
                }
                return (
                  r(e, t),
                  (e.prototype.start = function () {
                    c.emitEvents(this._onStart);
                  }),
                  e
                );
              })(s)).prototype,
              "_onStart",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (p = f))
          ) || p)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Panel.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./PanelEnums.ts",
    "./PanelManager.ts",
  ],
  function (t) {
    "use strict";
    var i, e, n, a, l, o, r, s, c, p, u, h, d, m, y, f, O, v;
    return {
      setters: [
        function (t) {
          (i = t.applyDecoratedDescriptor),
            (e = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (a = t.assertThisInitialized),
            (l = t.createClass);
        },
        function (t) {
          (o = t.cclegacy),
            (r = t._decorator),
            (s = t.Enum),
            (c = t.Animation),
            (p = t.Node),
            (u = t.AnimationClip),
            (h = t.CCBoolean),
            (d = t.UIOpacity),
            (m = t.Component);
        },
        function (t) {
          y = t.projectEvent;
        },
        function (t) {
          (f = t.PanelId), (O = t.EventPanel);
        },
        function (t) {
          v = t.PanelManager;
        },
      ],
      execute: function () {
        var b, g, C, P, z, w, S, E, F, A, I, L, _, j, k, D;
        o._RF.push({}, "2e50aA9tv1ElLX6TaHJkvJg", "Panel", void 0);
        var M = r.ccclass,
          x = r.property,
          B = r.executionOrder;
        t(
          "Panel",
          ((b = M("Panel")),
          (g = B(-4)),
          (C = x({ type: s(f) })),
          (P = x(c)),
          (z = x({
            type: p,
            tooltip:
              "Used to disable the panel content so no input is processed when closed",
          })),
          (w = x({ type: u, formerlySerializedAs: "clip" })),
          (S = x(u)),
          (E = x(h)),
          b(
            (F =
              g(
                ((I = i(
                  (A = (function (t) {
                    function i() {
                      for (
                        var i, e = arguments.length, l = new Array(e), o = 0;
                        o < e;
                        o++
                      )
                        l[o] = arguments[o];
                      return (
                        (i = t.call.apply(t, [this].concat(l)) || this),
                        n(i, "id", I, a(i)),
                        n(i, "anim", L, a(i)),
                        n(i, "content", _, a(i)),
                        n(i, "clipOpen", j, a(i)),
                        n(i, "clipClose", k, a(i)),
                        n(i, "startOpen", D, a(i)),
                        (i.uiOpacity = void 0),
                        i
                      );
                    }
                    e(i, t);
                    var o = i.prototype;
                    return (
                      (o.onLoad = function () {
                        var t;
                        null == (t = v.instance) || t.register(this),
                          (this.uiOpacity = this.node.getComponent(d)),
                          null == this.content &&
                            this.node.children.length > 0 &&
                            (this.content = this.node.children[0]);
                      }),
                      (o.start = function () {
                        this.startOpen
                          ? this.open()
                          : (this.uiOpacity && (this.uiOpacity.opacity = 0),
                            this.content && (this.content.active = !1));
                      }),
                      (o.open = function () {
                        var t,
                          i,
                          e = this;
                        this.uiOpacity && (this.uiOpacity.opacity = 255),
                          this.content && (this.content.active = !0);
                        var n =
                          null == (t = this.anim)
                            ? void 0
                            : t.getState(this.clipOpen.name);
                        n && (n.speed = 1),
                          null == (i = this.anim) || i.play(this.clipOpen.name),
                          this.node.emit(O.OpenStart),
                          y.emit(O.OpenStart, this.id, this.clipOpen.duration),
                          this.scheduleOnce(function () {
                            e.node.emit(O.OpenFinish),
                              y.emit(O.OpenFinish, e.id);
                          }, this.clipOpen.duration);
                      }),
                      (o.close = function () {
                        var t = this,
                          i = 0;
                        if (null == this.clipClose) {
                          var e,
                            n,
                            a =
                              null == (e = this.anim)
                                ? void 0
                                : e.getState(this.clipOpen.name);
                          a && (a.speed = -1),
                            null == (n = this.anim) ||
                              n.play(this.clipOpen.name),
                            (i = this.clipOpen.duration);
                        } else {
                          var l;
                          null == (l = this.anim) ||
                            l.play(this.clipClose.name),
                            (i = this.clipClose.duration);
                        }
                        this.node.emit(O.CloseStart),
                          y.emit(O.CloseStart, this.id, i),
                          this.scheduleOnce(function () {
                            t.node.emit(O.CloseFinish),
                              y.emit(O.CloseFinish, t.id),
                              t.uiOpacity && (t.uiOpacity.opacity = 0),
                              t.content && (t.content.active = !1);
                          }, i);
                      }),
                      l(i, [
                        {
                          key: "Id",
                          get: function () {
                            return this.id;
                          },
                        },
                      ]),
                      i
                    );
                  })(m)).prototype,
                  "id",
                  [C],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return f.None;
                    },
                  }
                )),
                (L = i(A.prototype, "anim", [P], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (_ = i(A.prototype, "content", [z], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (j = i(A.prototype, "clipOpen", [w], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (k = i(A.prototype, "clipClose", [S], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (D = i(A.prototype, "startOpen", [E], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return !1;
                  },
                })),
                (F = A))
              ) || F)
          ) || F)
        );
        o._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/PanelEnums.ts", ["cc"], function (e) {
  "use strict";
  var n;
  return {
    setters: [
      function (e) {
        n = e.cclegacy;
      },
    ],
    execute: function () {
      var t, s;
      e({ EventPanel: void 0, PanelId: void 0 }),
        n._RF.push({}, "8b3edgXZadK4Lxacf0H30hG", "PanelEnums", void 0),
        (function (e) {
          (e[(e.None = 0)] = "None"), (e[(e.DebugMenu = 1)] = "DebugMenu");
        })(t || (t = e("PanelId", {}))),
        (function (e) {
          (e.OpenStart = "panel-open-start"),
            (e.OpenFinish = "panel-open-finish"),
            (e.CloseStart = "panel-close-start"),
            (e.CloseFinish = "panel-close-finish");
        })(s || (s = e("EventPanel", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/PanelManager.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (n) {
    "use strict";
    var e, t, a, o, s;
    return {
      setters: [
        function (n) {
          e = n.inheritsLoose;
        },
        function (n) {
          (t = n.cclegacy), (a = n._decorator), (o = n.Component);
        },
        function (n) {
          s = n.logger;
        },
      ],
      execute: function () {
        var r, i;
        t._RF.push({}, "dd60fb0cwVANrUPb0SN5V4w", "PanelManager", void 0);
        var c = a.ccclass,
          l = (a.property, a.executionOrder);
        n(
          "PanelManager",
          c("PanelManager")(
            (r =
              l(-5)(
                (((i = (function (n) {
                  function t() {
                    for (
                      var e, t = arguments.length, a = new Array(t), o = 0;
                      o < t;
                      o++
                    )
                      a[o] = arguments[o];
                    return (
                      ((e = n.call.apply(n, [this].concat(a)) || this).panels =
                        new Map()),
                      e
                    );
                  }
                  e(t, n);
                  var a = t.prototype;
                  return (
                    (a.onLoad = function () {
                      null == t.instance && (t.instance = this);
                    }),
                    (a.onDestroy = function () {
                      t.instance == this && (t.instance = null);
                    }),
                    (a.register = function (n) {
                      this.panels.set(n.Id, n);
                    }),
                    (a.open = function (n) {
                      var e;
                      this.panels &&
                        (this.panels.has(n)
                          ? null == (e = this.panels.get(n)) || e.open()
                          : s.log("Could not find panel: " + n));
                    }),
                    (a.close = function (n) {
                      var e;
                      null == (e = this.panels.get(n)) || e.close();
                    }),
                    t
                  );
                })(o)).instance = void 0),
                (r = i))
              ) || r)
          ) || r
        );
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PathBlock.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseBlock.ts"],
  function (t) {
    "use strict";
    var c, o, e, r;
    return {
      setters: [
        function (t) {
          c = t.inheritsLoose;
        },
        function (t) {
          (o = t.cclegacy), (e = t._decorator);
        },
        function (t) {
          r = t.BaseBlock;
        },
      ],
      execute: function () {
        var n;
        o._RF.push({}, "f5a6aDPK29N6IWgXWw1eZoP", "PathBlock", void 0);
        var s = e.ccclass;
        e.property,
          t(
            "PathBlock",
            s("PathBlock")(
              (n = (function (t) {
                function o() {
                  return t.apply(this, arguments) || this;
                }
                return c(o, t), o;
              })(r))
            ) || n
          );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Pathfinder.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./LevelsController.ts",
  ],
  function (t) {
    "use strict";
    var i, n, o, s, e, a, p, r, c;
    return {
      setters: [
        function (t) {
          (i = t.inheritsLoose), (n = t.createClass);
        },
        function (t) {
          (o = t.cclegacy),
            (s = t._decorator),
            (e = t.Vec2),
            (a = t.randomRangeInt),
            (p = t.Component);
        },
        function (t) {
          r = t.logger;
        },
        function (t) {
          c = t.levelsController;
        },
      ],
      execute: function () {
        var h, l;
        o._RF.push({}, "ca967I1gMNLm6CKVgweRwFH", "Pathfinder", void 0);
        var u = s.ccclass;
        s.property,
          t(
            "Pathfinder",
            u("Pathfinder")(
              (((l = (function (t) {
                function o() {
                  for (
                    var i, n = arguments.length, o = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    ((i = t.call.apply(t, [this].concat(o)) || this)._grid =
                      []),
                    (i._gridDistances = []),
                    (i._pathsData = []),
                    i
                  );
                }
                i(o, t);
                var s = o.prototype;
                return (
                  (s.onLoad = function () {
                    null === o._instance
                      ? (o._instance = this)
                      : this.node.destroy();
                  }),
                  (s.onDestroy = function () {
                    o._instance === this && (o._instance = null);
                  }),
                  (s.loadLevel = function (t) {
                    if ("string" == typeof t)
                      try {
                        var i = Number.parseInt(t);
                        this.loadLevel(i);
                      } catch (i) {
                        r.log(
                          "Couldn't create level of id: " +
                            t +
                            "\nError message:\n" +
                            i
                        );
                      }
                    else {
                      for (
                        var n = c.getLevel(t), o = new e(), s = [], a = 0;
                        a < n.layout.length;
                        a++
                      ) {
                        this._grid.push([]), this._gridDistances.push([]);
                        for (var p = 0; p < n.layout[a].length; p++)
                          this._grid[a].push(n.layout[a][p]),
                            this._gridDistances[a].push(-1),
                            0 === n.layout[a][p]
                              ? s.push(new e(a, p))
                              : 1 === n.layout[a][p] && ((o.x = a), (o.y = p));
                      }
                      for (var h = 0, l = s; h < l.length; h++) {
                        var u = l[h],
                          d = this.getGridPaths(u, o);
                        this._pathsData.push({ start: u.clone(), paths: d });
                      }
                    }
                  }),
                  (s.isWalkable = function (t, i, n) {
                    return (
                      !(t < 0 || t >= n.length) &&
                      !(i < 0 || i >= n[t].length) &&
                      !(n[t][i] > 2)
                    );
                  }),
                  (s.getGridPaths = function (t, i) {
                    var n = this,
                      o = [],
                      s = [];
                    s.push({ position: t, path: [] });
                    for (
                      var a = function () {
                        var t = s.splice(s.length - 1, 1)[0];
                        t.path, t.position;
                        if (t.position.x === i.x && t.position.y === i.y) {
                          var a = [].concat(t.path);
                          a.push(t.position), o.push(a);
                        } else {
                          void 0 ===
                            t.path.find(function (i) {
                              return (
                                i.x === t.position.x && i.y === t.position.y
                              );
                            }) &&
                            (t.path.push(t.position),
                            n.isWalkable(
                              t.position.x - 1,
                              t.position.y,
                              n._grid
                            ) &&
                              s.push({
                                position: new e(t.position.x - 1, t.position.y),
                                path: [].concat(t.path),
                              }),
                            n.isWalkable(
                              t.position.x + 1,
                              t.position.y,
                              n._grid
                            ) &&
                              s.push({
                                position: new e(t.position.x + 1, t.position.y),
                                path: [].concat(t.path),
                              }),
                            n.isWalkable(
                              t.position.x,
                              t.position.y - 1,
                              n._grid
                            ) &&
                              s.push({
                                position: new e(t.position.x, t.position.y - 1),
                                path: [].concat(t.path),
                              }),
                            n.isWalkable(
                              t.position.x,
                              t.position.y + 1,
                              n._grid
                            ) &&
                              s.push({
                                position: new e(t.position.x, t.position.y + 1),
                                path: [].concat(t.path),
                              }));
                        }
                      };
                      s.length > 0;

                    )
                      a();
                    return o;
                  }),
                  (s.calculateGridDistances = function (t) {
                    var i = [];
                    for (i.push({ position: t, distance: 0 }); i.length > 0; ) {
                      var n = i.splice(0, 1)[0];
                      -1 === this._gridDistances[n.position.x][n.position.y] &&
                        ((this._gridDistances[n.position.x][n.position.y] =
                          n.distance),
                        this.isWalkable(
                          n.position.x - 1,
                          n.position.y,
                          this._grid
                        ) &&
                          i.push({
                            position: new e(n.position.x - 1, n.position.y),
                            distance: n.distance + 1,
                          }),
                        this.isWalkable(
                          n.position.x + 1,
                          n.position.y,
                          this._grid
                        ) &&
                          i.push({
                            position: new e(n.position.x + 1, n.position.y),
                            distance: n.distance + 1,
                          }),
                        this.isWalkable(
                          n.position.x,
                          n.position.y - 1,
                          this._grid
                        ) &&
                          i.push({
                            position: new e(n.position.x, n.position.y - 1),
                            distance: n.distance + 1,
                          }),
                        this.isWalkable(
                          n.position.x,
                          n.position.y + 1,
                          this._grid
                        ) &&
                          i.push({
                            position: new e(n.position.x, n.position.y + 1),
                            distance: n.distance + 1,
                          }),
                        i.sort(function (t, i) {
                          return t.distance - i.distance;
                        }));
                    }
                  }),
                  (s.getPathForSpawn = function (t) {
                    var i = this._pathsData.find(function (i) {
                      return (
                        i.start.x === t.coords.x && i.start.y === t.coords.y
                      );
                    }).paths;
                    return i[a(0, i.length)];
                  }),
                  n(o, null, [
                    {
                      key: "instance",
                      get: function () {
                        return this._instance;
                      },
                    },
                  ]),
                  o
                );
              })(p))._instance = null),
              (h = l))
            ) || h
          );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PersistentNode.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n, o, r, i, s, d, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (r = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy), (s = e._decorator), (d = e.game), (c = e.Component);
        },
      ],
      execute: function () {
        var a, u, l, p, y, h, f;
        i._RF.push({}, "12964/gHLdAyY4QxvGseDNh", "PersistentNode", void 0);
        var _ = s.ccclass,
          N = s.property,
          v = s.executionOrder;
        e(
          "PersistentNode",
          ((a = _("PersistentNode")),
          (u = v(-10)),
          (l = N({ visible: !0 })),
          a(
            (p =
              u(
                (((f = (function (e) {
                  function t() {
                    for (
                      var t, n = arguments.length, i = new Array(n), s = 0;
                      s < n;
                      s++
                    )
                      i[s] = arguments[s];
                    return (
                      (t = e.call.apply(e, [this].concat(i)) || this),
                      o(t, "_nodeKey", h, r(t)),
                      t
                    );
                  }
                  n(t, e);
                  var i = t.prototype;
                  return (
                    (i.onLoad = function () {
                      var e = this;
                      -1 ===
                      t._persistentNodes.findIndex(function (t) {
                        return t.key === e._nodeKey;
                      })
                        ? (d.addPersistRootNode(this.node),
                          t._persistentNodes.push({
                            key: this._nodeKey,
                            node: this.node,
                          }))
                        : this.node.destroy();
                    }),
                    (i.onEnable = function () {
                      this.node.setSiblingIndex(Number.MAX_SAFE_INTEGER);
                    }),
                    t
                  );
                })(c))._persistentNodes = []),
                (h = t((y = f).prototype, "_nodeKey", [l], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                })),
                (p = y))
              ) || p)
          ) || p)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PhysicsGroupSetter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, r, i, s, o, n, c, u, p, a, l;
    return {
      setters: [
        function (t) {
          (e = t.extends),
            (r = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (s = t.initializerDefineProperty),
            (o = t.assertThisInitialized);
        },
        function (t) {
          (n = t.cclegacy),
            (c = t._decorator),
            (u = t.Enum),
            (p = t.PhysicsSystem),
            (a = t.Collider),
            (l = t.Component);
        },
      ],
      execute: function () {
        var y, h, f, G, g, _, d;
        n._RF.push({}, "adf59GLSYVGZJ3dfVqyt6MG", "PhysicsGroupSetter", void 0);
        var b = c.ccclass,
          P = c.property;
        t(
          "PhysicsGroupSetter",
          ((y = b("PhysicsGroupSetter")),
          (h = P({ visible: !0, type: u(e({}, p.PhysicsGroup)) })),
          (f = P({ visible: !0, type: a })),
          y(
            ((_ = r(
              (g = (function (t) {
                function e() {
                  for (
                    var e, r = arguments.length, i = new Array(r), n = 0;
                    n < r;
                    n++
                  )
                    i[n] = arguments[n];
                  return (
                    (e = t.call.apply(t, [this].concat(i)) || this),
                    s(e, "_physicsGroup", _, o(e)),
                    s(e, "_target", d, o(e)),
                    e
                  );
                }
                return (
                  i(e, t),
                  (e.prototype.onLoad = function () {
                    this._target || (this._target = this.node.getComponent(a)),
                      this._target.setGroup(this._physicsGroup);
                  }),
                  e
                );
              })(l)).prototype,
              "_physicsGroup",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return p.PhysicsGroup.DEFAULT;
                },
              }
            )),
            (d = r(g.prototype, "_target", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (G = g))
          ) || G)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PositionOffsetRandomizer.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var i, t, n, r, o, a, l, s, c, u, p, f;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (s = e.Node),
            (c = e.Vec3),
            (u = e.math),
            (p = e.random),
            (f = e.Component);
        },
      ],
      execute: function () {
        var m, d, b, _, z, h, y, v, g, w, P;
        a._RF.push(
          {},
          "c2467V6o2dIzJlGyn2L2FDD",
          "PositionOffsetRandomizer",
          void 0
        );
        var x = l.ccclass,
          O = l.property;
        e(
          "PositionOffsetRandomizer",
          ((m = x("PositionOffsetRandomizer")),
          (d = O({ visible: !0 })),
          (b = O({ visible: !0 })),
          (_ = O({ visible: !0 })),
          (z = O({ visible: !0, type: [s] })),
          m(
            ((v = i(
              (y = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, o = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (i = e.call.apply(e, [this].concat(o)) || this),
                    n(i, "_min", v, r(i)),
                    n(i, "_max", g, r(i)),
                    n(i, "_randomizeOnEnable", w, r(i)),
                    n(i, "_targetNode", P, r(i)),
                    i
                  );
                }
                t(i, e);
                var a = i.prototype;
                return (
                  (a.onEnable = function () {
                    this._randomizeOnEnable && this.randomizePosition();
                  }),
                  (a.randomizePosition = function () {
                    for (
                      var e,
                        i = new c(
                          u.lerp(this._min.x, this._max.x, p()),
                          u.lerp(this._min.y, this._max.y, p()),
                          u.lerp(this._min.z, this._max.z, p())
                        ),
                        t = o(this._targetNode);
                      !(e = t()).done;

                    ) {
                      var n = e.value;
                      n.worldPosition = n.worldPosition.clone().add(i);
                    }
                  }),
                  i
                );
              })(f)).prototype,
              "_min",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return new c();
                },
              }
            )),
            (g = i(y.prototype, "_max", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new c();
              },
            })),
            (w = i(y.prototype, "_randomizeOnEnable", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (P = i(y.prototype, "_targetNode", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (h = y))
          ) || h)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PrefabPool.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, n, o, i, s, a, r, l, c, u;
    return {
      setters: [
        function (t) {
          (e = t.inheritsLoose),
            (n = t.createForOfIteratorHelperLoose),
            (o = t.createClass);
        },
        function (t) {
          (i = t.cclegacy),
            (s = t._decorator),
            (a = t.director),
            (r = t.NodePool),
            (l = t.instantiate),
            (c = t.Node),
            (u = t.Component);
        },
      ],
      execute: function () {
        var h, f;
        i._RF.push({}, "b7fd3GtjZNCgZZkkorYWOYh", "PrefabPool", void 0);
        var p = s.ccclass,
          v = (s.property, s.executionOrder);
        t(
          "PrefabPool",
          p("PrefabPool")(
            (h =
              v(-5)(
                (((f = (function (t) {
                  function i() {
                    for (
                      var e, n = arguments.length, o = new Array(n), i = 0;
                      i < n;
                      i++
                    )
                      o[i] = arguments[i];
                    return (
                      ((e = t.call.apply(t, [this].concat(o)) || this).pools =
                        new Map()),
                      (e.scene = void 0),
                      e
                    );
                  }
                  e(i, t);
                  var s = i.prototype;
                  return (
                    (s.onLoad = function () {
                      null == i._instance && (i._instance = this),
                        (this.scene = a.getScene());
                    }),
                    (s.onDestroy = function () {
                      this.unscheduleAllCallbacks(),
                        this.clearAll(),
                        i._instance == this && (i._instance = null);
                    }),
                    (s.initializeWithCallbacks = function (t, e, n) {
                      void 0 === n && (n = 3), this.initialize(t, e, n);
                    }),
                    (s.initialize = function (t, e, n) {
                      if ((void 0 === n && (n = 3), 0 == this.pools.has(t))) {
                        for (var o = new r(), i = 0; i < n; i++) {
                          var s = l(t);
                          o.put(s);
                        }
                        this.pools.set(t, o);
                      }
                    }),
                    (s.getInScene = function (t) {
                      var e = this.get(t);
                      return e.setParent(this.scene), e;
                    }),
                    (s.get = function (t) {
                      var e;
                      0 == this.pools.has(t) && this.initialize(t);
                      var n =
                        null == (e = this.pools.get(t)) ? void 0 : e.get();
                      return null == n && (n = l(t)), n;
                    }),
                    (s.putByName = function (t, e) {
                      for (var o, i = n(this.pools); !(o = i()).done; ) {
                        var s = o.value,
                          a = s[0];
                        s[1];
                        if (a.data.name == t) {
                          this.put(a, e);
                          break;
                        }
                      }
                    }),
                    (s.put = function (t, e) {
                      var n;
                      this.pools.has(t) &&
                        (null == (n = this.pools.get(t)) || n.put(e));
                    }),
                    (s.schedulePut = function (t, e, n) {
                      var o = this;
                      this.scheduleOnce(function () {
                        o.put(t, e);
                      }, n);
                    }),
                    (s.clear = function (t) {
                      var e;
                      this.pools.has(t) &&
                        (null == (e = this.pools.get(t)) || e.clear());
                    }),
                    (s.clearAll = function () {
                      this.pools.forEach(function (t) {
                        t.clear();
                      });
                    }),
                    (s.has = function (t) {
                      return this.pools.has(t);
                    }),
                    o(i, null, [
                      {
                        key: "instance",
                        get: function () {
                          if (null == i._instance) {
                            var t = new c(i.name);
                            t.setParent(a.getScene()),
                              (this._instance = t.addComponent(i));
                          }
                          return i._instance;
                        },
                      },
                    ]),
                    i
                  );
                })(u))._instance = void 0),
                (h = f))
              ) || h)
          ) || h
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ProjectEvent.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, n, r;
    return {
      setters: [
        function (t) {
          e = t.inheritsLoose;
        },
        function (t) {
          (n = t.cclegacy), (r = t.EventTarget);
        },
      ],
      execute: function () {
        n._RF.push({}, "973baCDLAVIVo6OxiqmUpR2", "ProjectEvent", void 0);
        t(
          "projectEvent",
          new ((function (t) {
            function n() {
              return t.call(this) || this;
            }
            return e(n, t), n;
          })(r))()
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ProjectileTowerAttack.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LookAtTarget.ts",
    "./AttackData.ts",
    "./BaseTowerAttack.ts",
    "./TowerAttackUnit.ts",
  ],
  function (t) {
    "use strict";
    var e, a, n, i, o, s, r, c, l, u, h, f;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (a = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (i = t.assertThisInitialized),
            (o = t.createForOfIteratorHelperLoose);
        },
        function (t) {
          (s = t.cclegacy), (r = t._decorator), (c = t.Vec2);
        },
        function (t) {
          l = t.LookAtTarget;
        },
        function (t) {
          u = t.AttackData;
        },
        function (t) {
          h = t.BaseTowerAttack;
        },
        function (t) {
          f = t.TowerAttackUnit;
        },
      ],
      execute: function () {
        var d, g, _, v, p, m, y;
        s._RF.push(
          {},
          "64992BsP7NBdJLeZAdnksKw",
          "ProjectileTowerAttack",
          void 0
        );
        var k = r.ccclass,
          w = r.property;
        t(
          "ProjectileTowerAttack",
          ((d = k("ProjectileTowerAttack")),
          (g = w({ visible: !0, type: [l] })),
          (_ = w({
            visible: !0,
            tooltip: "Number of concurrent targets this tower can attack",
          })),
          d(
            ((m = e(
              (p = (function (t) {
                function e() {
                  for (
                    var e, a = arguments.length, o = new Array(a), s = 0;
                    s < a;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    ((e =
                      t.call.apply(t, [this].concat(o)) || this)._attackUnits =
                      []),
                    (e._attackUnitsPool = []),
                    n(e, "_towerHeads", m, i(e)),
                    n(e, "_ccTargets", y, i(e)),
                    e
                  );
                }
                a(e, t);
                var s = e.prototype;
                return (
                  (s.onLoad = function () {
                    for (var t = 0; t < this._ccTargets; t++)
                      this._attackUnits.push(
                        new u(
                          this.node,
                          new f(this._damage, this._attackCD),
                          this._towerHeads[t]
                        )
                      );
                    for (
                      var e = 0;
                      e < this._towerHeads.length - this._ccTargets;
                      e++
                    )
                      this._attackUnitsPool.push(
                        new u(
                          this.node,
                          new f(this._damage, this._attackCD),
                          this._towerHeads[this._ccTargets + e]
                        )
                      );
                  }),
                  (s.onEnable = function () {
                    t.prototype.onEnable.call(this);
                    for (var e, a = o(this._attackUnits); !(e = a()).done; ) {
                      e.value.towerConstructed();
                    }
                  }),
                  (s.updateAttackUnits = function (t) {
                    for (var e, a = o(this._attackUnits); !(e = a()).done; ) {
                      var n = e.value;
                      n.unit.onCD && n.unit.update(t);
                    }
                  }),
                  (s.updateTargets = function (e) {
                    t.prototype.updateTargets.call(this, e);
                    for (
                      var a = this,
                        n = function (t) {
                          void 0 !==
                            a._cdTargets.find(function (e) {
                              return e === a._targets[t];
                            }) && a._targets.splice(t, 1);
                        },
                        i = a._targets.length - 1;
                      i >= 0;
                      i--
                    )
                      n(i);
                    for (
                      var s,
                        r = function () {
                          var t = s.value;
                          if (null !== t.enemy && !t.invalidEnemy) {
                            var e = t.enemy.isValid,
                              n =
                                void 0 !==
                                a._cdTargets.find(function (e) {
                                  return e === t.enemy;
                                }),
                              i =
                                void 0 !==
                                a._targets.find(function (e) {
                                  return e === t.enemy;
                                });
                            (e && !(!n && !i)) || t.setInvalidEnemy();
                          }
                        },
                        c = o(a._attackUnits);
                      !(s = c()).done;

                    )
                      r();
                    a.assingTargetsToGuns(
                      a.node,
                      a.targetChooser,
                      a._attackUnits,
                      a._targets
                    );
                  }),
                  (s.assingTargetsToGuns = function (t, e, a, n) {
                    for (
                      var i = n.length > 0,
                        o = [].concat(n),
                        s = [].concat(
                          a.filter(function (t) {
                            return null === t.enemy || !0 === t.invalidEnemy;
                          })
                        ),
                        r = s.length > 0,
                        c = function () {
                          var t = e.chooseTarget(o);
                          if (t) {
                            var a = s.pop();
                            if (a) {
                              a.setEnemy(t);
                              var n = o.findIndex(function (e) {
                                return e === t;
                              });
                              o = o.splice(n, 1);
                            } else r = !1;
                          } else i = !1;
                        };
                      i && r;

                    )
                      c();
                  }),
                  (s.faceTarget = function (t) {
                    for (var e, a = o(this._attackUnits); !(e = a()).done; ) {
                      var n = e.value;
                      (null !== n.enemy && n.enemy.isValid) ||
                        n.head.resetRotation(t);
                    }
                    return [];
                  }),
                  (s.startShootVFX = function (t, e) {
                    return (
                      t.startShoot(),
                      new Promise(function (a, n) {
                        try {
                          e.startShootVFX(t.enemy, function () {
                            a(!t.enemy.isValid);
                          });
                        } catch (t) {
                          n(t);
                        }
                      })
                    );
                  }),
                  (s.applyShootDamage = function (t, e) {
                    var a = this;
                    if (!t.enemy.isValid) throw "invalid enemy";
                    t.unit.attack(e, function () {
                      t.finishShoot(),
                        t.enemy.isValid && a.removeTargetFromCD(t.enemy),
                        t.invalidEnemy && t.resetEnemy();
                    });
                  }),
                  (s.getDamageTargets = function (t, e) {
                    throw "Not implemented";
                  }),
                  (s.applySpecials = function (t, e) {
                    throw "Not implemented";
                  }),
                  (s.attack = function (t, e) {
                    for (
                      var a = this,
                        n = function (t) {
                          var e = a._attackUnits[t];
                          if (e.head.isLookingAtTarget && !e.isShooting)
                            if (e.invalidEnemy) e.resetEnemy();
                            else {
                              var n, i, o, s, r, l, u;
                              c.distance(
                                new c(
                                  a._towerNode.worldPosition.x,
                                  a._towerNode.worldPosition.z
                                ),
                                null !=
                                  (n = new c(
                                    null == (i = e.enemy) ||
                                    null == (o = i.node) ||
                                    null == (s = o.worldPosition)
                                      ? void 0
                                      : s.x,
                                    null == (r = e.enemy) ||
                                    null == (l = r.node) ||
                                    null == (u = l.worldPosition)
                                      ? void 0
                                      : u.z
                                  ))
                                  ? n
                                  : c.ZERO
                              );
                              a.startShootVFX(e, a._attackVFX)
                                .then(function (t) {
                                  if (t) e.resetEnemy(), e.finishShoot();
                                  else {
                                    var n = a.getDamageTargets(e.enemy, a);
                                    a.applyShootDamage(e, n),
                                      a.applySpecials(e.enemy, a),
                                      a.addTargetToCD(e.enemy);
                                  }
                                })
                                .catch(function (t) {
                                  e.resetEnemy(), e.finishShoot();
                                });
                            }
                        },
                        i = 0;
                      i < a._attackUnits.length;
                      i++
                    )
                      n(i);
                  }),
                  (s.setDamage = function (t) {
                    this._damage = t;
                    for (var e, a = o(this._attackUnits); !(e = a()).done; ) {
                      e.value.unit.setDamage(this._damage);
                    }
                    for (
                      var n, i = o(this._attackUnitsPool);
                      !(n = i()).done;

                    ) {
                      n.value.unit.setDamage(this._damage);
                    }
                  }),
                  (s.setShootFrequency = function (t) {
                    var e = 1 / t;
                    this._attackCD = e;
                    for (var a, n = o(this._attackUnits); !(a = n()).done; ) {
                      a.value.unit.setCD(this._attackCD);
                    }
                    for (
                      var i, s = o(this._attackUnitsPool);
                      !(i = s()).done;

                    ) {
                      i.value.unit.setCD(this._attackCD);
                    }
                  }),
                  (s.setCCTargets = function (t) {
                    for (; this._ccTargets != t; )
                      if (this._ccTargets < t) {
                        if (this._attackUnitsPool.length > 0) {
                          var e = this._attackUnitsPool.pop();
                          e.unit.setDamage(this._damage),
                            e.unit.setCD(this._attackCD),
                            this._attackUnits.push(e);
                        } else
                          this._attackUnits.push(
                            new u(
                              this.node,
                              new f(this._damage, this._attackCD),
                              this._towerHeads[this._attackUnits.length]
                            )
                          );
                        this._ccTargets++;
                      } else if (this._ccTargets > t) {
                        var a = this._attackUnits.pop();
                        this._attackUnitsPool.push(a), this._ccTargets--;
                      }
                  }),
                  (s.towerDestroyed = function () {
                    t.prototype.towerDestroyed.call(this);
                    for (var e, a = o(this._attackUnits); !(e = a()).done; ) {
                      var n = e.value;
                      null != n.enemy && n.towerDestroyed();
                    }
                  }),
                  e
                );
              })(h)).prototype,
              "_towerHeads",
              [g],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (y = e(p.prototype, "_ccTargets", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (v = p))
          ) || v)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PunchPositionTween.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./PunchTweenBase.ts"],
  function (e) {
    "use strict";
    var t, n, i, s, o, c, r;
    return {
      setters: [
        function (e) {
          (t = e.inheritsLoose), (n = e.createClass);
        },
        function (e) {
          (i = e.cclegacy), (s = e._decorator), (o = e.Vec3), (c = e.tween);
        },
        function (e) {
          r = e.PunchTweenBase;
        },
      ],
      execute: function () {
        var u;
        i._RF.push({}, "c3d3d1BwjRM46w7Jwj5DBqA", "PunchPositionTween", void 0);
        var a = s.ccclass;
        e(
          "PunchPositionTween",
          a("PunchPositionTween")(
            (u = (function (e) {
              function i() {
                return e.apply(this, arguments) || this;
              }
              return (
                t(i, e),
                (i.prototype.playSegment = function (e) {
                  var t = this.delay;
                  e > 0 && (t = 0);
                  var n = new o();
                  o.add(n, this.startingValue, this.getSegmentValue(e)),
                    (this.tweenCache = c(this.getTarget())
                      .delay(t)
                      .to(
                        this.getSegmentDuration(e),
                        { position: n },
                        this.getTweenOptions(e)
                      )
                      .repeat(1)),
                    this.tweenCache.start();
                }),
                n(i, [
                  {
                    key: "currentValue",
                    get: function () {
                      return new o(this.getTarget().position);
                    },
                    set: function (e) {
                      this.getTarget().position = e;
                    },
                  },
                ]),
                i
              );
            })(r))
          ) || u
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PunchRotationTween.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./PunchTweenBase.ts"],
  function (t) {
    "use strict";
    var e, n, i, r, a, o, s;
    return {
      setters: [
        function (t) {
          (e = t.inheritsLoose), (n = t.createClass);
        },
        function (t) {
          (i = t.cclegacy), (r = t._decorator), (a = t.Quat), (o = t.tween);
        },
        function (t) {
          s = t.PunchTweenBase;
        },
      ],
      execute: function () {
        var u;
        i._RF.push({}, "9e8723yU89EV46tgMTi8wWs", "PunchRotationTween", void 0);
        var c = r.ccclass;
        t(
          "PunchRotationTween",
          c("PunchRotationTween")(
            (u = (function (t) {
              function i() {
                return t.apply(this, arguments) || this;
              }
              return (
                e(i, t),
                (i.prototype.playSegment = function (t) {
                  var e = this.delay;
                  t > 0 && (e = 0);
                  var n = this.getSegmentValue(t),
                    i = new a();
                  a.fromEuler(i, n.x, n.y, n.z);
                  var r = new a();
                  a.multiply(r, this.startingValue, i),
                    (this.tweenCache = o(this.getTarget())
                      .delay(e)
                      .to(
                        this.getSegmentDuration(t),
                        { rotation: r },
                        this.getTweenOptions(t)
                      )
                      .repeat(1)),
                    this.tweenCache.start();
                }),
                n(i, [
                  {
                    key: "currentValue",
                    get: function () {
                      return new a(this.getTarget().rotation);
                    },
                    set: function (t) {
                      this.getTarget().rotation = t;
                    },
                  },
                ]),
                i
              );
            })(s))
          ) || u
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PunchScaleTween.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./PunchTweenBase.ts"],
  function (e) {
    "use strict";
    var t, n, c, a, s, r, i;
    return {
      setters: [
        function (e) {
          (t = e.inheritsLoose), (n = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (a = e._decorator), (s = e.Vec3), (r = e.tween);
        },
        function (e) {
          i = e.PunchTweenBase;
        },
      ],
      execute: function () {
        var u;
        c._RF.push({}, "b8f08y0xb5CoqUTV49W2AU6", "PunchScaleTween", void 0);
        var l = a.ccclass;
        e(
          "PunchScaleTween",
          l("PunchScaleTween")(
            (u = (function (e) {
              function c() {
                return e.apply(this, arguments) || this;
              }
              return (
                t(c, e),
                (c.prototype.playSegment = function (e) {
                  var t = this.delay;
                  e > 0 && (t = 0);
                  var n = new s();
                  s.add(n, this.getSegmentValue(e), s.ONE);
                  var c = new s();
                  s.multiply(c, n, new s(this.startingValue)),
                    (this.tweenCache = r(this.getTarget())
                      .delay(t)
                      .to(
                        this.getSegmentDuration(e),
                        { scale: c },
                        this.getTweenOptions(e)
                      )
                      .repeat(1)),
                    this.tweenCache.start();
                }),
                n(c, [
                  {
                    key: "currentValue",
                    get: function () {
                      return new s(this.getTarget().scale);
                    },
                    set: function (e) {
                      this.getTarget().scale = e;
                    },
                  },
                ]),
                c
              );
            })(i))
          ) || u
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/PunchTweenBase.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts"],
  function (t) {
    "use strict";
    var e, n, i, r, a, o, u, s, l, c, h, g;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (a = t.createClass);
        },
        function (t) {
          (o = t.cclegacy),
            (u = t._decorator),
            (s = t.Node),
            (l = t.Vec3),
            (c = t.EventHandler),
            (h = t.Component);
        },
        function (t) {
          g = t.logger;
        },
      ],
      execute: function () {
        var p, f, m, y, b, d, v, w, V, S, z, C, D, _, T, M, P, B;
        o._RF.push({}, "1a181DRx0VC2LpN/KLYDv9u", "PunchTweenBase", void 0);
        var L = u.ccclass,
          x = u.property;
        t(
          "PunchTweenBase",
          ((p = L("PunchTweenBase")),
          (f = x(s)),
          (m = x(l)),
          (y = x({ min: 0, unit: "sec" })),
          (b = x({ min: 0, unit: "sec" })),
          (d = x({ min: 0, max: 1 })),
          (v = x({ type: [c], displayOrder: 20 })),
          (w = x({ type: [c], displayOrder: 20 })),
          p(
            ((z = e(
              (S = (function (t) {
                function e() {
                  for (
                    var e, n = arguments.length, a = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (e = t.call.apply(t, [this].concat(a)) || this),
                    i(e, "target", z, r(e)),
                    i(e, "to", C, r(e)),
                    i(e, "delay", D, r(e)),
                    i(e, "duration", _, r(e)),
                    i(e, "vibrato", T, r(e)),
                    i(e, "elasticity", M, r(e)),
                    i(e, "onStart", P, r(e)),
                    i(e, "onComplete", B, r(e)),
                    (e.tweenCache = void 0),
                    (e._startingValue = void 0),
                    (e.segmentValues = void 0),
                    (e.segmentDurations = void 0),
                    e
                  );
                }
                n(e, t);
                var o = e.prototype;
                return (
                  (o.getTarget = function () {
                    return this.target ? this.target : this.node;
                  }),
                  (o.play = function () {
                    this.tweenCache && this.stop(),
                      (this._startingValue = this.currentValue),
                      this.setup(),
                      this.playSegment(0);
                  }),
                  (o.stop = function () {
                    this.tweenCache.stop(),
                      (this.tweenCache = null),
                      (this.currentValue = this._startingValue);
                  }),
                  (o.playSegment = function (t) {}),
                  (o.getSegmentValue = function (t) {
                    return this.segmentValues[t];
                  }),
                  (o.getSegmentDuration = function (t) {
                    return this.segmentDurations[t];
                  }),
                  (o.getTweenOptions = function (t) {
                    var e = this,
                      n = {};
                    return (
                      (n.onStart = function (t) {
                        c.emitEvents(e.onStart, t);
                      }.bind(this)),
                      t < this.segmentValues.length - 1
                        ? (n.onComplete = function () {
                            e.playSegment(t + 1);
                          }.bind(this))
                        : (n.onComplete = function (t) {
                            c.emitEvents(e.onComplete, t);
                          }.bind(this)),
                      n
                    );
                  }),
                  (o.setup = function () {
                    var t = this.to.length(),
                      e = Math.max(Math.floor(this.vibrato * this.duration), 2),
                      n = t / e;
                    this.segmentDurations = new Array(e);
                    for (var i = 0, r = 0; r < e; r++) {
                      var a = (r + 1) / e,
                        o = this.duration * a;
                      (i += o), (this.segmentDurations[r] = o);
                    }
                    for (var u = this.duration / i, s = 0; s < e; s++)
                      this.segmentDurations[s] *= u;
                    var c = new l();
                    l.normalize(c, this.to),
                      (this.segmentValues = new Array(e));
                    for (var h = 0; h < e; h++)
                      h < e - 1
                        ? ((this.segmentValues[h] =
                            0 === h
                              ? this.to
                              : h % 2 != 0
                              ? this.clampVec3Magnitude(
                                  this.to,
                                  t * this.elasticity
                                ).multiplyScalar(-1)
                              : this.clampVec3Magnitude(this.to, t)),
                          (t -= n))
                        : (this.segmentValues[h] = l.ZERO);
                  }),
                  (o.clampVec3Magnitude = function (t, e) {
                    if (t.length() <= e) return new l(t);
                    var n = new l();
                    return l.normalize(n, t), n.multiplyScalar(e);
                  }),
                  (o.printSequence = function (t, e) {
                    for (var n = "", i = 0; i < t.length; i++)
                      (n += "[" + t[i] + "]"), i < t.length - 1 && (n += ", ");
                    for (var r = "", a = 0; a < e.length; a++)
                      (r += "" + e[a]), a < e.length - 1 && (r += ", ");
                    g.log("Values: " + n + " Durations: " + r);
                  }),
                  a(e, [
                    {
                      key: "startingValue",
                      get: function () {
                        return this._startingValue;
                      },
                    },
                    {
                      key: "currentValue",
                      get: function () {
                        return null;
                      },
                      set: function (t) {},
                    },
                  ]),
                  e
                );
              })(h)).prototype,
              "target",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              }
            )),
            (C = e(S.prototype, "to", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new l(1, 1, 1);
              },
            })),
            (D = e(S.prototype, "delay", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (_ = e(S.prototype, "duration", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (T = e(S.prototype, "vibrato", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 10;
              },
            })),
            (M = e(S.prototype, "elasticity", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (P = e(S.prototype, "onStart", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (B = e(S.prototype, "onComplete", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (V = S))
          ) || V)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Randomizer.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, i, n, r, a, o, c, u, s, l, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.createClass),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (c = e.cclegacy),
            (u = e._decorator),
            (s = e.Node),
            (l = e.randomRange),
            (h = e.Component);
        },
      ],
      execute: function () {
        var p, b, f, _, m, d, y, g, v, z, j, R, x, V, w, C;
        c._RF.push({}, "d9dbaePcK9EmpC+u+4XoTKT", "Randomizer", void 0);
        var k = u.ccclass,
          D = u.property,
          E = e(
            "RandomizerEntry",
            ((p = k("RandomizerEntry")),
            (b = D({ visible: !0, type: s })),
            (f = D({ visible: !0 })),
            p(
              ((d = t(
                (m = (function () {
                  function e() {
                    r(this, "_node", d, this), r(this, "_chance", y, this);
                  }
                  return (
                    i(e, [
                      {
                        key: "node",
                        get: function () {
                          return this._node;
                        },
                      },
                      {
                        key: "chance",
                        get: function () {
                          return this._chance;
                        },
                      },
                    ]),
                    e
                  );
                })()).prototype,
                "_node",
                [b],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return null;
                  },
                }
              )),
              (y = t(m.prototype, "_chance", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              })),
              (_ = m))
            ) || _)
          );
        e(
          "Randomizer",
          ((g = k("Randomizer")),
          (v = D({ visible: !0 })),
          (z = D({ visible: !0, type: [E] })),
          (j = D({ visible: !0 })),
          g(
            ((V = t(
              (x = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, n = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    n[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    r(t, "_emptyChange", V, a(t)),
                    r(t, "_objects", w, a(t)),
                    (t._maxValue = -1),
                    r(t, "_debug", C, a(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.randomize = function () {
                    for (
                      var e = l(0, this.maxValue), t = 0, i = !1, n = 0;
                      n < this._objects.length && !i;
                      n++
                    )
                      e >= t && e < t + this._objects[n].chance
                        ? ((i = !0), (this._objects[n].node.active = !0))
                        : (this._objects[n].node.active = !1),
                        (t += this._objects[n].chance);
                  }),
                  i(t, [
                    {
                      key: "maxValue",
                      get: function () {
                        if (this._maxValue < 0) {
                          this._maxValue = this._emptyChange;
                          for (var e, t = o(this._objects); !(e = t()).done; ) {
                            var i = e.value;
                            this._maxValue += i.chance;
                          }
                        }
                        return this._maxValue;
                      },
                    },
                  ]),
                  t
                );
              })(h)).prototype,
              "_emptyChange",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (w = t(x.prototype, "_objects", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(x.prototype, "_debug", [j], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (R = x))
          ) || R)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/RewardedAdOportunity.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./AudioManager.ts",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./AdsEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, o, d, i, s, a, r, u, l, A, c, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (d = e.assertThisInitialized),
            (i = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (a = e._decorator), (r = e.game), (u = e.Component);
        },
        function (e) {
          l = e.AudioManager;
        },
        function (e) {
          A = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          h = e.AdsEvents;
        },
      ],
      execute: function () {
        var f, w, g, p, _, y, b, v;
        s._RF.push(
          {},
          "2c4e8xIPOZENLhcYAIWTYzQ",
          "RewardedAdOportunity",
          void 0
        );
        var R = a.ccclass,
          m = a.property;
        e(
          "RewardedAdOportunity",
          ((f = R("RewardedAdOportunity")),
          (w = m({ visible: !0 })),
          (g = m({ visible: !0, unit: "s" })),
          f(
            (((v = (function (e) {
              function t() {
                for (
                  var t, n = arguments.length, i = new Array(n), s = 0;
                  s < n;
                  s++
                )
                  i[s] = arguments[s];
                return (
                  ((t =
                    e.call.apply(e, [this].concat(i)) ||
                    this)._currentAdRequest = null),
                  (t._wasAudioEnabled = !1),
                  o(t, "_autoLoadAds", y, d(t)),
                  o(t, "_loadAdsRequestDelay", b, d(t)),
                  (t._lastAdRequest = -100),
                  t
                );
              }
              n(t, e);
              var s = t.prototype;
              return (
                (s.update = function () {
                  var e = r.totalTime / 1e3;
                  this._autoLoadAds &&
                    e >= this._lastAdRequest + this._loadAdsRequestDelay &&
                    ((this._lastAdRequest = e),
                    t._showAdFunction ||
                      (A.log("ADS: Ads: No ad detected, start loading one"),
                      this.loadAd()));
                }),
                (s.start = function () {
                  c.on(h[h.AdsEvents_LoadAd], this.loadAd, this),
                    c.on(h[h.AdsEvents_ShowAd], this.showAd, this);
                }),
                (s.onDestroy = function () {
                  c.off(h[h.AdsEvents_LoadAd], this.loadAd, this),
                    c.off(h[h.AdsEvents_ShowAd], this.showAd, this);
                }),
                (s.loadAd = function () {
                  var e = this;
                  if ((A.log("ADS: Load Ad"), !t._showAdFunction))
                    if (
                      (A.log("ADS: Setting up rewarded ad opportunity"),
                      "undefined" != typeof GameSnacks)
                    ) {
                      var n = {
                        type: "reward",
                        beforeReward: function (e) {
                          (t._showAdFunction = e),
                            A.log("ADS: beforeReward - ad is ready!"),
                            c.emit(h[h.AdsEvents_AdLoaded]);
                        }.bind(this),
                        beforeAd: function () {
                          A.log(
                            "ADS: beforeBreak - game will be paused to show ad"
                          ),
                            (e._wasAudioEnabled = l.instance.audioEnabled),
                            (l.instance.audioEnabled = !1);
                        }.bind(this),
                        adViewed: function () {
                          A.log("ADS: adComplete - rewarding player"),
                            e._currentAdRequest.onAdCompleted();
                        }.bind(this),
                        adDismissed: function () {
                          A.log(
                            "ADS: adDismissed - player will not receive anything"
                          ),
                            e._currentAdRequest.onAdFailed({
                              id: 1,
                              message: "Player dismissed ad",
                            });
                        }.bind(this),
                        afterAd: function () {
                          (e._currentAdRequest = null),
                            (t._showAdFunction = null);
                          var n = r.totalTime / 1e3;
                          (e._lastAdRequest = n),
                            A.log("ADS: afterBreak - game will be resumed now"),
                            e._wasAudioEnabled &&
                              (l.instance.audioEnabled = !0);
                        }.bind(this),
                      };
                      A.log("ADS: Ad Break Options OK"),
                        GameSnacks.ad.break(n),
                        A.log("ADS: Ad Break Requested");
                    } else A.log("ADS: GameSnacks is invalid");
                }),
                (s.showAd = function (e) {
                  t._showAdFunction
                    ? (A.log("ADS: Show Ad to Player."),
                      (this._currentAdRequest = e),
                      t._showAdFunction())
                    : ((this._currentAdRequest = null),
                      e.onAdFailed({ id: 1, message: "Ad was not loaded" }),
                      A.log("ADS: Trying to show ad without initializing."),
                      c.emit(h[h.AdsEvents_AdFailedToShow]));
                }),
                i(t, null, [
                  {
                    key: "isAdReady",
                    get: function () {
                      return !!t._showAdFunction;
                    },
                  },
                ]),
                t
              );
            })(u))._showAdFunction = null),
            (y = t((_ = v).prototype, "_autoLoadAds", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !0;
              },
            })),
            (b = t(_.prototype, "_loadAdsRequestDelay", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 60;
              },
            })),
            (p = _))
          ) || p)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/RewardedAdsBonusEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var s;
    return {
      setters: [
        function (e) {
          s = e.cclegacy;
        },
      ],
      execute: function () {
        var n;
        e("RewardedAdsBonusEvents", void 0),
          s._RF.push(
            {},
            "d0bc2skeZpDfpaZ2J+WjsUD",
            "RewardedAdsBonusEvents",
            void 0
          ),
          (function (e) {
            (e[(e.None = 0)] = "None"),
              (e[(e.FreezeEnemiesStart = 1)] = "FreezeEnemiesStart"),
              (e[(e.FreezeEnemiesEnd = 2)] = "FreezeEnemiesEnd"),
              (e[(e.RequestBonus = 3)] = "RequestBonus");
          })(n || (n = e("RewardedAdsBonusEvents", {}))),
          s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/RigidbodyHelper.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (i) {
    "use strict";
    var t, n, e, o, c;
    return {
      setters: [
        function (i) {
          t = i.inheritsLoose;
        },
        function (i) {
          (n = i.cclegacy),
            (e = i._decorator),
            (o = i.RigidBody),
            (c = i.Component);
        },
      ],
      execute: function () {
        var r;
        n._RF.push({}, "cc564Wd7lJMAJFJn8UQKq33", "RigidbodyHelper", void 0);
        var a = e.ccclass,
          s = (e.property, e.requireComponent);
        i(
          "RigidBodyHelper",
          a("RigidBodyHelper")(
            (r =
              s(o)(
                (r = (function (i) {
                  function n() {
                    for (
                      var t, n = arguments.length, e = new Array(n), o = 0;
                      o < n;
                      o++
                    )
                      e[o] = arguments[o];
                    return (
                      ((t = i.call.apply(i, [this].concat(e)) || this)._body =
                        null),
                      (t._kinematicCounter = 0),
                      t
                    );
                  }
                  t(n, i);
                  var e = n.prototype;
                  return (
                    (e.onLoad = function () {
                      this._body = this.node.getComponent(o);
                    }),
                    (e.enableGravity = function () {
                      this._body.useGravity = !0;
                    }),
                    (e.disableGravity = function () {
                      this._body.useGravity = !1;
                    }),
                    (e.enableKinematic = function () {
                      0 === this._kinematicCounter &&
                        (this._body.isKinematic = !0),
                        this._kinematicCounter++;
                    }),
                    (e.disableKinematic = function () {
                      (this._kinematicCounter = Math.max(
                        0,
                        this._kinematicCounter - 1
                      )),
                        0 === this._kinematicCounter &&
                          (this._body.isKinematic = !1);
                    }),
                    (e.enableDynamic = function () {
                      this._body.isDynamic = !0;
                    }),
                    (e.disableDynamic = function () {
                      this._body.isDynamic = !1;
                    }),
                    n
                  );
                })(c))
              ) || r)
          ) || r
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SaveGame.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./BaseSaveGame.ts",
    "./BaseSaveGameData.ts",
  ],
  function (e) {
    "use strict";
    var t, a, n, o, r, s;
    return {
      setters: [
        function (e) {
          (t = e.inheritsLoose), (a = e.createClass);
        },
        function (e) {
          n = e.cclegacy;
        },
        function (e) {
          o = e.logger;
        },
        function (e) {
          r = e.BaseSaveGame;
        },
        function (e) {
          s = e.BaseSaveGameData;
        },
      ],
      execute: function () {
        n._RF.push({}, "d1e8agzA3pAIYmPt+8srndI", "SaveGame", void 0);
        var c = e(
          "SaveGame",
          (function (e) {
            function n() {
              return e.apply(this, arguments) || this;
            }
            return (
              t(n, e),
              (n.prototype.createSaveData = function (e) {
                return (
                  o.log("createSaveData " + e),
                  e
                    ? e instanceof s || "object" == typeof e
                      ? new s(e)
                      : void 0
                    : new s()
                );
              }),
              a(n, [
                {
                  key: "saveKey",
                  get: function () {
                    return "CubeTower";
                  },
                },
              ]),
              n
            );
          })(r)
        );
        e("saveGame", new c());
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/SaveGameEnums.ts", ["cc"], function (e) {
  "use strict";
  var a;
  return {
    setters: [
      function (e) {
        a = e.cclegacy;
      },
    ],
    execute: function () {
      var t;
      e("SaveGameEvent", void 0),
        a._RF.push({}, "c3d52sktfZJeoGxZs92nywx", "SaveGameEnums", void 0),
        (function (e) {
          e[(e.SaveGame_Loaded = 0)] = "SaveGame_Loaded";
        })(t || (t = e("SaveGameEvent", {}))),
        a._RF.pop();
    },
  };
});

System.register("chunks:///_virtual/SaveGameKeys.ts", ["cc"], function (e) {
  "use strict";
  var a;
  return {
    setters: [
      function (e) {
        a = e.cclegacy;
      },
    ],
    execute: function () {
      var s;
      e("SaveGameKeys", void 0),
        a._RF.push({}, "8f0d8zrE/RHc6aJ/7XHX5ZU", "SaveGameKeys", void 0),
        (function (e) {
          (e[(e.SaveGameKeys_Currency = 0)] = "SaveGameKeys_Currency"),
            (e[(e.SaveGameKeys_LevelStars = 1)] = "SaveGameKeys_LevelStars"),
            (e[(e.SaveGameKeys_CommonUpgrades = 2)] =
              "SaveGameKeys_CommonUpgrades"),
            (e[(e.SaveGameKeys_TowerUpgrades = 3)] =
              "SaveGameKeys_TowerUpgrades"),
            (e[(e.SaveGameKeys_UnlockedLevels = 4)] =
              "SaveGameKeys_UnlockedLevels"),
            (e[(e.SaveGameKeys_Score = 5)] = "SaveGameKeys_Score");
        })(s || (s = e("SaveGameKeys", {}))),
        a._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/SceneLoader.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./ScenesBundleLoader.ts",
    "./SceneLoaderEvents.ts",
  ],
  function (e) {
    "use strict";
    var n, o, t, i, r, c, a, s, l, d, u, p, f, h;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (t = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy),
            (c = e._decorator),
            (a = e.EventHandler),
            (s = e.Component);
        },
        function (e) {
          (l = e.logger), (d = e.LogCategory), (u = e.LogType);
        },
        function (e) {
          p = e.projectEvent;
        },
        function (e) {
          f = e.sceneBundleLoader;
        },
        function (e) {
          h = e.SceneLoaderEvents;
        },
      ],
      execute: function () {
        var g, L, m, S, v, _, b, y, P;
        r._RF.push({}, "f4c52RZvaNGeqLe7pWJpGcc", "SceneLoader", void 0);
        var E = c.ccclass,
          N = c.property;
        e(
          "SceneLoader",
          ((g = E("SceneLoader")),
          (L = N({ visible: !0, formerlySerializedAs: "sceneName" })),
          (m = N({ visible: !0, type: [a] })),
          (S = N({ visible: !0, type: [a] })),
          g(
            ((b = n(
              (_ = (function (e) {
                function n() {
                  for (
                    var n, o = arguments.length, r = new Array(o), c = 0;
                    c < o;
                    c++
                  )
                    r[c] = arguments[c];
                  return (
                    (n = e.call.apply(e, [this].concat(r)) || this),
                    t(n, "_sceneName", b, i(n)),
                    (n._preloadingComplete = !1),
                    t(n, "_onPreloadFinish", y, i(n)),
                    t(n, "_onSceneLoaded", P, i(n)),
                    n
                  );
                }
                o(n, e);
                var r = n.prototype;
                return (
                  (r.loadScene = function (e) {
                    e || (e = this._sceneName),
                      f.loadScene(e, this.onNewSceneLaunched.bind(this));
                  }),
                  (r.onNewSceneLaunched = function (e, n) {
                    null === e
                      ? a.emitEvents(this._onSceneLoaded)
                      : l.log(e.message, d.Generic, u.Error);
                  }),
                  (r.preloadScene = function (e) {
                    e || (e = this._sceneName),
                      f.preloadScene(
                        e,
                        this.onProgress.bind(this),
                        this.preloadCompleted.bind(this)
                      );
                  }),
                  (r.onProgress = function (e, n, o) {
                    e === n &&
                      (p.emit(h[h.SceneLoader_PreloadFinished]),
                      a.emitEvents(this._onPreloadFinish));
                  }),
                  (r.preloadCompleted = function (e, n) {
                    e || (this._preloadingComplete = !0);
                  }),
                  n
                );
              })(s)).prototype,
              "_sceneName",
              [L],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (y = n(_.prototype, "_onPreloadFinish", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = n(_.prototype, "_onSceneLoaded", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (v = _))
          ) || v)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SceneLoaderEventListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./BaseEventListener.ts",
    "./SceneLoaderEvents.ts",
  ],
  function (e) {
    "use strict";
    var n, t, r, i, s, o, c, a, u, l;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (c = e._decorator), (a = e.Enum);
        },
        function (e) {
          u = e.BaseEventListener;
        },
        function (e) {
          l = e.SceneLoaderEvents;
        },
      ],
      execute: function () {
        var d, v, L, p, f;
        o._RF.push(
          {},
          "62983V6q7JGY4d/T7hVoD1g",
          "SceneLoaderEventListener",
          void 0
        );
        var E = c.ccclass,
          y = c.property;
        e(
          "SceneLoaderEventListener",
          ((d = E("SceneLoaderEventsListener")),
          (v = y({ visible: !0, type: a(l) })),
          d(
            ((f = n(
              (p = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, s = new Array(t), o = 0;
                    o < t;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (n = e.call.apply(e, [this].concat(s)) || this),
                    r(n, "_sceneLoaderEventId", f, i(n)),
                    n
                  );
                }
                return (
                  t(n, e),
                  s(n, [
                    {
                      key: "eventID",
                      get: function () {
                        return l[this._sceneLoaderEventId];
                      },
                    },
                  ]),
                  n
                );
              })(u)).prototype,
              "_sceneLoaderEventId",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return l.SceneLoader_None;
                },
              }
            )),
            (L = p))
          ) || L)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SceneLoaderEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./BaseEventRaiser.ts",
    "./SceneLoaderEvents.ts",
  ],
  function (e) {
    "use strict";
    var n, t, r, i, a, c, s, o, u, l;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (s = e._decorator), (o = e.Enum);
        },
        function (e) {
          u = e.BaseEventRaiser;
        },
        function (e) {
          l = e.SceneLoaderEvents;
        },
      ],
      execute: function () {
        var v, d, p, f, y, E, L;
        c._RF.push(
          {},
          "ebaab2OBJ5OarmKfYyuWVeW",
          "SceneLoaderEventRaiser",
          void 0
        );
        var b = s.ccclass,
          _ = s.property;
        e(
          "SceneLoaderEventRaiser",
          ((v = b("SceneLoaderEventRaiser")),
          (d = _({ visible: !0, type: o(l) })),
          (p = _({ visible: !0 })),
          v(
            ((E = n(
              (y = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, a = new Array(t), c = 0;
                    c < t;
                    c++
                  )
                    a[c] = arguments[c];
                  return (
                    (n = e.call.apply(e, [this].concat(a)) || this),
                    r(n, "_sceneLoaderEventId", E, i(n)),
                    r(n, "_sceneName", L, i(n)),
                    n
                  );
                }
                return (
                  t(n, e),
                  a(n, [
                    {
                      key: "eventKey",
                      get: function () {
                        return l[this._sceneLoaderEventId];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        return this._sceneName;
                      },
                    },
                  ]),
                  n
                );
              })(u)).prototype,
              "_sceneLoaderEventId",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return l.SceneLoader_None;
                },
              }
            )),
            (L = n(y.prototype, "_sceneName", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (f = y))
          ) || f)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SceneLoaderEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var n;
    return {
      setters: [
        function (e) {
          n = e.cclegacy;
        },
      ],
      execute: function () {
        var c;
        e("SceneLoaderEvents", void 0),
          n._RF.push(
            {},
            "8bc58oOfyhOza59XLL5fAoU",
            "SceneLoaderEvents",
            void 0
          ),
          (function (e) {
            (e[(e.SceneLoader_None = 0)] = "SceneLoader_None"),
              (e[(e.SceneLoader_LoadScene = 1)] = "SceneLoader_LoadScene"),
              (e[(e.SceneLoader_PreloadScene = 2)] =
                "SceneLoader_PreloadScene"),
              (e[(e.SceneLoader_PreloadFinished = 3)] =
                "SceneLoader_PreloadFinished");
          })(c || (c = e("SceneLoaderEvents", {}))),
          n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ScenesBundleLoader.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BundleLoader.ts"],
  function (e) {
    "use strict";
    var n, c, t, o, r, u;
    return {
      setters: [
        function (e) {
          (n = e.inheritsLoose), (c = e.createClass);
        },
        function (e) {
          (t = e.cclegacy), (o = e._decorator), (r = e.director);
        },
        function (e) {
          u = e.BundleLoader;
        },
      ],
      execute: function () {
        var s;
        t._RF.push({}, "34e80Wte2NF+pwNbNsJXggm", "ScenesBundleLoader", void 0);
        var l = o.ccclass,
          a =
            (o.property,
            e(
              "SceneBundleLoader",
              l("SceneBundleLoader")(
                (s = (function (e) {
                  function t() {
                    var n;
                    return (
                      ((n = e.call(this, "Scenes") || this)._scenes = [
                        "MenuScene",
                        "TutorialScene",
                        "GameScene",
                      ]),
                      n
                    );
                  }
                  n(t, e);
                  var o = t.prototype;
                  return (
                    (o.onBundleLoaded = function () {
                      this._scenes;
                    }),
                    (o.preloadScene = function (e, n, c) {
                      this.bundle.preloadScene(e, n, c);
                    }),
                    (o.loadScene = function (e, n) {
                      this.bundle.loadScene(e, function (e, c) {
                        r.runScene(c, null, n);
                      });
                    }),
                    c(t, [
                      {
                        key: "isDataLoaded",
                        get: function () {
                          return (
                            null !== this.bundle.getSceneInfo(this._scenes[0])
                          );
                        },
                      },
                    ]),
                    t
                  );
                })(u))
              ) || s
            ));
        e("sceneBundleLoader", new a());
        t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ScrollViewHeightController.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (r) {
    "use strict";
    var i, e, t, o, n, l, a, s, u;
    return {
      setters: [
        function (r) {
          (i = r.applyDecoratedDescriptor),
            (e = r.inheritsLoose),
            (t = r.initializerDefineProperty),
            (o = r.assertThisInitialized),
            (n = r.createClass);
        },
        function (r) {
          (l = r.cclegacy),
            (a = r._decorator),
            (s = r.UITransform),
            (u = r.Component);
        },
      ],
      execute: function () {
        var c, p, f, g, h, w, b, m, _, d, y, v, T;
        l._RF.push(
          {},
          "a0f90Odr2xKzZf5khYQuxCu",
          "ScrollViewHeightController",
          void 0
        );
        var z = a.ccclass,
          S = a.property;
        r(
          "ScrollViewHeightController",
          ((c = z("ScrollViewHeightController")),
          (p = S({ visible: !0 })),
          (f = S({ visible: !0 })),
          (g = S({ visible: !0 })),
          (h = S({ visible: !0 })),
          (w = S({ visible: !0, type: s })),
          c(
            ((_ = i(
              (m = (function (r) {
                function i() {
                  for (
                    var i, e = arguments.length, n = new Array(e), l = 0;
                    l < e;
                    l++
                  )
                    n[l] = arguments[l];
                  return (
                    (i = r.call.apply(r, [this].concat(n)) || this),
                    t(i, "_rowSize", _, o(i)),
                    t(i, "_rowSpacing", d, o(i)),
                    t(i, "_rowTopPadding", y, o(i)),
                    t(i, "_rowBottomPadding", v, o(i)),
                    t(i, "_uiTransform", T, o(i)),
                    i
                  );
                }
                return (
                  e(i, r),
                  (i.prototype.setRows = function (r) {
                    if ("string" == typeof r) {
                      var i = Number.parseInt(r);
                      this.setRows(i);
                    } else if ("number" == typeof r) {
                      var e =
                        this._rowSize * r +
                        this._rowSpacing * (r - 1) +
                        this._rowTopPadding +
                        this._rowBottomPadding;
                      this.uiTransform.height = e;
                    }
                  }),
                  n(i, [
                    {
                      key: "uiTransform",
                      get: function () {
                        return (
                          null === this._uiTransform &&
                            (this._uiTransform = this.getComponent(s)),
                          this._uiTransform
                        );
                      },
                    },
                  ]),
                  i
                );
              })(u)).prototype,
              "_rowSize",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 100;
                },
              }
            )),
            (d = i(m.prototype, "_rowSpacing", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 10;
              },
            })),
            (y = i(m.prototype, "_rowTopPadding", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (v = i(m.prototype, "_rowBottomPadding", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (T = i(m.prototype, "_uiTransform", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (b = m))
          ) || b)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ScrollViewRatio.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var i, t, r, l, o, n, c, s, a, u;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (l = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (n = e.cclegacy),
            (c = e._decorator),
            (s = e.ScrollView),
            (a = e.Vec2),
            (u = e.Component);
        },
      ],
      execute: function () {
        var f, p, w, h, V, y, b, g, _;
        n._RF.push({}, "56414O+exRDF6vgPAC6MOJU", "ScrollViewRatio", void 0);
        var v = c.ccclass,
          S = c.property;
        e(
          "ScrollViewRatio",
          ((f = v("ScrollViewRatio")),
          (p = S({ visible: !0, type: s })),
          (w = S({ visible: !0 })),
          (h = S({ visible: !0 })),
          f(
            ((b = i(
              (y = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, o = new Array(t), n = 0;
                    n < t;
                    n++
                  )
                    o[n] = arguments[n];
                  return (
                    (i = e.call.apply(e, [this].concat(o)) || this),
                    r(i, "_scrollView", b, l(i)),
                    r(i, "_duration", g, l(i)),
                    r(i, "_minScrollPosition", _, l(i)),
                    i
                  );
                }
                return (
                  t(i, e),
                  (i.prototype.setRatio = function (e) {
                    var i = this;
                    if ("number" == typeof e) {
                      this.scrollView.getScrollOffset();
                      var t = this.scrollView.getMaxScrollOffset();
                      this.scrollView.scrollToOffset(
                        new a(t.x * e, t.y * e),
                        this._duration
                      );
                      this.scrollView.getScrollOffset();
                      this.scheduleOnce(function () {
                        i.scrollView.getScrollOffset();
                      }, 0);
                    }
                  }),
                  o(i, [
                    {
                      key: "scrollView",
                      get: function () {
                        return (
                          null === this._scrollView &&
                            (this._scrollView = this.getComponent(s)),
                          this._scrollView
                        );
                      },
                    },
                  ]),
                  i
                );
              })(u)).prototype,
              "_scrollView",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (g = i(y.prototype, "_duration", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0.3;
              },
            })),
            (_ = i(y.prototype, "_minScrollPosition", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new a(0, 0);
              },
            })),
            (V = y))
          ) || V)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetCameraZoomIntensity.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelsController.ts"],
  function (e) {
    "use strict";
    var t, n, r, i, o, l, s, a, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (l = e._decorator),
            (s = e.EventHandler),
            (a = e.Component);
        },
        function (e) {
          c = e.levelsController;
        },
      ],
      execute: function () {
        var u, v, p, f, m, y, S;
        o._RF.push(
          {},
          "d7a81e91EBDlImajYv5iUSd",
          "SetCameraZoomIntensity",
          void 0
        );
        var _ = l.ccclass,
          b = l.property;
        e(
          "SetCameraZoomIntensity",
          ((u = _("SetCameraZoomIntensity")),
          (v = b({ visible: !0 })),
          (p = b({ visible: !0, type: [s] })),
          u(
            ((y = t(
              (m = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, o = new Array(n), l = 0;
                    l < n;
                    l++
                  )
                    o[l] = arguments[l];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    r(t, "_levelOffset", y, i(t)),
                    r(t, "_setLevelSize", S, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  (t.prototype.setCameraZoomIntensity = function () {
                    var e = c.currentLevel + this._levelOffset,
                      t = c.getLevel(e);
                    s.emitEvents(
                      this._setLevelSize,
                      "zoomIntensity," + t.size.toString()
                    );
                  }),
                  t
                );
              })(a)).prototype,
              "_levelOffset",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (S = t(m.prototype, "_setLevelSize", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (f = m))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetColor.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (o) {
    "use strict";
    var t, e, r, n, s;
    return {
      setters: [
        function (o) {
          t = o.inheritsLoose;
        },
        function (o) {
          (e = o.cclegacy),
            (r = o._decorator),
            (n = o.Color),
            (s = o.Component);
        },
      ],
      execute: function () {
        var i;
        e._RF.push({}, "38205oOYp9AVKdQtOazpoUZ", "SetColor", void 0);
        var c = r.ccclass;
        r.property,
          o(
            "SetColor",
            c("SetColor")(
              (i = (function (o) {
                function e() {
                  return o.apply(this, arguments) || this;
                }
                t(e, o);
                var r = e.prototype;
                return (
                  (r.setColor = function (o) {
                    if ("string" == typeof o) {
                      var t = new n();
                      n.fromHEX(t, o), this.setColor(t);
                    } else this.setColorTo(o);
                  }),
                  (r.setColorTo = function (o) {
                    throw "Not implemented";
                  }),
                  e
                );
              })(s))
            ) || i
          );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetColorToText.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./SetColor.ts"],
  function (e) {
    "use strict";
    var t, o, r, i, l, n, c, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (l = e.cclegacy), (n = e._decorator), (c = e.Label);
        },
        function (e) {
          a = e.SetColor;
        },
      ],
      execute: function () {
        var s, u, p, f, y;
        l._RF.push({}, "35f56npZQBBL4Oe13kNE+Oz", "SetColorToText", void 0);
        var T = n.ccclass,
          b = n.property;
        e(
          "SetColorToText",
          ((s = T("SetColorToText")),
          (u = b({ visible: !0, type: c })),
          s(
            ((y = t(
              (f = (function (e) {
                function t() {
                  for (
                    var t, o = arguments.length, l = new Array(o), n = 0;
                    n < o;
                    n++
                  )
                    l[n] = arguments[n];
                  return (
                    (t = e.call.apply(e, [this].concat(l)) || this),
                    r(t, "_label", y, i(t)),
                    t
                  );
                }
                return (
                  o(t, e),
                  (t.prototype.setColorTo = function (e) {
                    this._label.color = e;
                  }),
                  t
                );
              })(a)).prototype,
              "_label",
              [u],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (p = f))
          ) || p)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetLevel.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LevelSelectionEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, o, r, c, s;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (o = e._decorator), (r = e.Component);
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          s = e.LevelSelectionEvents;
        },
      ],
      execute: function () {
        var i;
        n._RF.push({}, "5be272ChEZMl5BS0a9poiGh", "SetLevel", void 0);
        var l = o.ccclass;
        o.property,
          e(
            "SetLevel",
            l("SetLevel")(
              (i = (function (e) {
                function n() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  t(n, e),
                  (n.prototype.setLevel = function (e) {
                    if ("string" == typeof e) {
                      var t = Number.parseInt(e);
                      this.setLevel(t);
                    } else c.emit(s[s.LevelSelection_Selected], e);
                  }),
                  n
                );
              })(r))
            ) || i
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetModelsToUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var n, o, r, t, i, l, a, d, s, u, c;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (t = e.assertThisInitialized),
            (i = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (l = e.cclegacy),
            (a = e._decorator),
            (d = e.MeshRenderer),
            (s = e.UIMeshRenderer),
            (u = e.Layers),
            (c = e.Component);
        },
      ],
      execute: function () {
        var p, h, f, m, y, I, _, v;
        l._RF.push({}, "5e48d52AelOTqiPc6aCFTma", "SetModelsToUI", void 0);
        var C = a.ccclass,
          U = a.property,
          g = a.executionOrder;
        e(
          "SetModelsToUI",
          ((p = C("SetModelsToUI")),
          (h = g(-1)),
          (f = U({ visible: !0 })),
          (m = U({ visible: !0 })),
          p(
            (y =
              h(
                ((_ = n(
                  (I = (function (e) {
                    function n() {
                      for (
                        var n, o = arguments.length, i = new Array(o), l = 0;
                        l < o;
                        l++
                      )
                        i[l] = arguments[l];
                      return (
                        (n = e.call.apply(e, [this].concat(i)) || this),
                        r(n, "_includeChildren", _, t(n)),
                        r(n, "_runOnLoad", v, t(n)),
                        n
                      );
                    }
                    o(n, e);
                    var l = n.prototype;
                    return (
                      (l.onLoad = function () {
                        this._runOnLoad && this.setModelsToUI();
                      }),
                      (l.setModelsToUI = function () {
                        var e = this.node.getComponent(d);
                        if (
                          (e &&
                            null === e.node.getComponent(s) &&
                            (e.node.addComponent(s),
                            e.node.layer !== u.Enum.UI_3D &&
                              (e.node.layer = u.Enum.UI_3D)),
                          this._includeChildren)
                        )
                          for (
                            var n,
                              o = this.node.getComponentsInChildren(d),
                              r = i(o);
                            !(n = r()).done;

                          ) {
                            var t = n.value;
                            t &&
                              null === t.node.getComponent(s) &&
                              (t.node.addComponent(s),
                              t.node.layer !== u.Enum.UI_3D &&
                                (t.node.layer = u.Enum.UI_3D));
                          }
                      }),
                      n
                    );
                  })(c)).prototype,
                  "_includeChildren",
                  [f],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return !1;
                    },
                  }
                )),
                (v = n(I.prototype, "_runOnLoad", [m], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return !1;
                  },
                })),
                (y = I))
              ) || y)
          ) || y)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetNextLevel.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelsController.ts"],
  function (e) {
    "use strict";
    var t, n, r, o, l;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (n = e.cclegacy), (r = e._decorator), (o = e.Component);
        },
        function (e) {
          l = e.levelsController;
        },
      ],
      execute: function () {
        var s;
        n._RF.push({}, "326a1KkFqpHRqr1jwdngHKG", "SetNextLevel", void 0);
        var c = r.ccclass;
        r.property,
          e(
            "SetNextLevel",
            c("SetNextLevel")(
              (s = (function (e) {
                function n() {
                  return e.apply(this, arguments) || this;
                }
                return (
                  t(n, e),
                  (n.prototype.setNextLevel = function () {
                    l.setNextLevel();
                  }),
                  n
                );
              })(o))
            ) || s
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetSibling.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, i, n, r, o, s, l, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (l = e.Node), (a = e.Component);
        },
      ],
      execute: function () {
        var c, p, u, b, f;
        o._RF.push({}, "2f38dweZw5B5b5GrRvX+WY0", "SetSibling", void 0);
        var g = s.ccclass,
          S = s.property;
        e(
          "SetSibling",
          ((c = g("SetSibling")),
          (p = S({ visible: !0, type: l })),
          c(
            ((f = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, o = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_parent", f, r(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  (t.prototype.setSibling = function (e) {
                    if ("string" == typeof e) {
                      var t = Number.parseInt(e);
                      this.setSibling(t);
                    } else
                      this.node.setParent(this._parent),
                        this.node.setSiblingIndex(e);
                  }),
                  t
                );
              })(a)).prototype,
              "_parent",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (u = b))
          ) || u)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetText.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTextFormatter.ts"],
  function (t) {
    "use strict";
    var e, i, r, n, o, l, a, s, u, c, f;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy),
            (l = t._decorator),
            (a = t.RichText),
            (s = t.Label),
            (u = t.EventTouch),
            (c = t.Component);
        },
        function (t) {
          f = t.BaseTextFormatter;
        },
      ],
      execute: function () {
        var p, b, m, h, x, y, g, T, z, v, _;
        o._RF.push({}, "c4d68jIEQZKZ5AKzGQQzzsP", "SetText", void 0);
        var L = l.ccclass,
          d = l.property;
        t(
          "SetText",
          ((p = L("SetText")),
          (b = d(a)),
          (m = d(s)),
          (h = d({ visible: !0, type: f })),
          p(
            ((g = e(
              (y = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, o = new Array(i), l = 0;
                    l < i;
                    l++
                  )
                    o[l] = arguments[l];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    r(e, "label", g, n(e)),
                    r(e, "commonLabel", T, n(e)),
                    r(e, "_formatter", z, n(e)),
                    r(e, "prefix", v, n(e)),
                    r(e, "sufix", _, n(e)),
                    e
                  );
                }
                return (
                  i(e, t),
                  (e.prototype.setText = function (t, e) {
                    t instanceof u && this.setText(e),
                      "number" == typeof t
                        ? this.setText(t.toString())
                        : "string" == typeof t &&
                          (this._formatter &&
                            (t = this._formatter.formatText(t)),
                          null != this.label &&
                            (this.label.string = this.prefix + t + this.sufix),
                          null != this.commonLabel &&
                            (this.commonLabel.string =
                              this.prefix + t + this.sufix));
                  }),
                  e
                );
              })(c)).prototype,
              "label",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (T = e(y.prototype, "commonLabel", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (z = e(y.prototype, "_formatter", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (v = e(y.prototype, "prefix", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (_ = e(y.prototype, "sufix", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (x = y))
          ) || x)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SetTextAnimated.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TweenEnums.ts",
    "./SetText.ts",
  ],
  function (t) {
    "use strict";
    var e, n, i, r, a, s, o, u, l, c, p, m;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (r = t.assertThisInitialized);
        },
        function (t) {
          (a = t.cclegacy),
            (s = t._decorator),
            (o = t.Enum),
            (u = t.EventHandler),
            (l = t.tween),
            (c = t.math);
        },
        function (t) {
          p = t.TweenEasing;
        },
        function (t) {
          m = t.SetText;
        },
      ],
      execute: function () {
        var h, b, f, _, d, g, v, y, T;
        a._RF.push({}, "bf800TnTDxJ8rWkew0+MYsh", "SetTextAnimated", void 0);
        var x = s.ccclass,
          A = s.property;
        t(
          "SetTextAnimated",
          ((h = x("SetTextAnimated")),
          (b = A({ visible: !0 })),
          (f = A({ visible: !0, type: o(p) })),
          (_ = A({ visible: !0, type: [u] })),
          h(
            ((v = e(
              (g = (function (t) {
                function e() {
                  for (
                    var e, n = arguments.length, a = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (e = t.call.apply(t, [this].concat(a)) || this),
                    i(e, "_duration", v, r(e)),
                    i(e, "_animationEasing", y, r(e)),
                    i(e, "_onFinishAnimation", T, r(e)),
                    (e._currentValue = 0),
                    e
                  );
                }
                n(e, t);
                var a = e.prototype;
                return (
                  (a.start = function () {
                    this.label
                      ? (this._currentValue = Number.parseInt(
                          this.label.string
                        ))
                      : this.commonLabel &&
                        (this._currentValue = Number.parseInt(
                          this.commonLabel.string
                        ));
                  }),
                  (a.setTextInstant = function (e) {
                    t.prototype.setText.call(this, e);
                  }),
                  (a.setText = function (e) {
                    this.label
                      ? (this._currentValue = Number.parseInt(
                          this.label.string
                        ))
                      : this.commonLabel &&
                        (this._currentValue = Number.parseInt(
                          this.commonLabel.string
                        ));
                    var n = this._currentValue,
                      i = Number.parseInt(e),
                      r = t.prototype.setText.bind(this),
                      a = this._onFinishAnimation;
                    n !== i
                      ? l(this.node)
                          .to(this._duration, null, {
                            easing: p[this._animationEasing],
                            onUpdate: function (t, e) {
                              var a = c.lerp(n, i, e);
                              r(a);
                            },
                            onComplete: function (t) {
                              u.emitEvents(a);
                            },
                          })
                          .start()
                      : u.emitEvents(this._onFinishAnimation);
                  }),
                  e
                );
              })(m)).prototype,
              "_duration",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (y = e(g.prototype, "_animationEasing", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return p.linear;
              },
            })),
            (T = e(g.prototype, "_onFinishAnimation", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (d = g))
          ) || d)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ShootVFXData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, i, o, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor), (r = e.initializerDefineProperty);
        },
        function (e) {
          (i = e.cclegacy), (o = e._decorator), (a = e.Prefab);
        },
      ],
      execute: function () {
        var n, c, l, s, u, p, b;
        i._RF.push({}, "3de80lpqIdC0bkTXZmIvspP", "ShootVFXData", void 0);
        var f = o.ccclass,
          h = o.property;
        e(
          "ShootVFXData",
          ((n = f("ShootVFXData")),
          (c = h({ visible: !0, type: a })),
          (l = h({ visible: !0 })),
          n(
            ((p = t(
              (u = function () {
                r(this, "shootPrefab", p, this), r(this, "key", b, this);
              }).prototype,
              "shootPrefab",
              [c],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (b = t(u.prototype, "key", [l], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (s = u))
          ) || s)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ShopColumn.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseShopEntry.ts"],
  function (e) {
    "use strict";
    var t, r, n, i, o, s, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.createClass),
            (n = e.createForOfIteratorHelperLoose),
            (i = e.initializerDefineProperty);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (u = e.Node);
        },
        function (e) {
          l = e.BaseShopEntry;
        },
      ],
      execute: function () {
        var c, a, p, h, f;
        o._RF.push({}, "d6365T5gGtMfqX+b40SiT7E", "ShopColumn", void 0);
        var d = s.ccclass,
          y = s.property;
        e(
          "ShopColumn",
          ((c = d("ShopColumn")),
          (a = y({ visible: !0, type: [u], formerlySerializedAs: "entries" })),
          c(
            ((f = t(
              (h = (function () {
                function e() {
                  i(this, "nodes", f, this), (this._entries = null);
                }
                return (
                  r(e, [
                    {
                      key: "entries",
                      get: function () {
                        if (null === this._entries) {
                          this._entries = [];
                          for (var e, t = n(this.nodes); !(e = t()).done; ) {
                            var r = e.value.getComponent(l);
                            this._entries.push(r);
                          }
                        }
                        return this._entries;
                      },
                    },
                  ]),
                  e
                );
              })()).prototype,
              "nodes",
              [a],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (p = h))
          ) || p)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ShopTowerModelsUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./SetModelsToUI.ts",
  ],
  function (e) {
    "use strict";
    var t, r, o, s, n, i, a, l, u, c, p, w, h, T, d, f, _, v, b, y, g, m;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (s = e.assertThisInitialized),
            (n = e.createForOfIteratorHelperLoose),
            (i = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (u = e.Node),
            (c = e.Prefab),
            (p = e.math),
            (w = e.instantiate),
            (h = e.Vec3),
            (T = e.EventTouch),
            (d = e.Enum),
            (f = e.Component);
        },
        function (e) {
          (_ = e.logger), (v = e.LogCategory), (b = e.LogType);
        },
        function (e) {
          y = e.TowersData;
        },
        function (e) {
          g = e.TowerTypes;
        },
        function (e) {
          m = e.SetModelsToUI;
        },
      ],
      execute: function () {
        var I, M, P, D, z, L, N, U, A, C, S;
        a._RF.push({}, "ca25cTenhxIzImdddRm852A", "ShopTowerModelsUI", void 0);
        var E = l.ccclass,
          F = l.property;
        e(
          "ShopTowerModelsUI",
          ((I = E("ShopTowerModelsUI")),
          (M = F({ visible: !0, type: [u] })),
          (P = F({ visible: !0, type: m })),
          (D = F({ visible: !0, type: c })),
          (z = F({ visible: !0, type: c })),
          I(
            ((U = t(
              (N = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), i = 0;
                    i < r;
                    i++
                  )
                    n[i] = arguments[i];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    o(t, "_towersParent", U, s(t)),
                    o(t, "_modelsToUI", A, s(t)),
                    o(t, "_baseModelPrefab", C, s(t)),
                    o(t, "_towersDataPrefab", S, s(t)),
                    (t._towersData = null),
                    (t._currentActiveType = g.None),
                    (t._gunTowersModels = []),
                    (t._cannonTowersModels = []),
                    (t._laserTowersModels = []),
                    (t._initialized = !1),
                    t
                  );
                }
                r(t, e);
                var a = t.prototype;
                return (
                  (a.onLoad = function () {
                    this.initialize();
                  }),
                  (a.initialize = function () {
                    if (!this._initialized) {
                      this._initialized = !0;
                      for (
                        var e = this.towersData
                            .getTowers(g.GunTower)
                            .sort(function (e, t) {
                              var r = Number.parseInt(e.storeID.split("-")[2]),
                                o = Number.parseInt(t.storeID.split("-")[2]);
                              return p.clamp(r - o, -1, 1);
                            }),
                          t = 0;
                        t < e.length;
                        t++
                      ) {
                        var r = e[t],
                          o = w(r.headModel);
                        o.setParent(this._towersParent[t]),
                          o.setPosition(new h(0, 0.55, 0)),
                          o.setRotationFromEuler(0, 270, 0),
                          (o.active = !1);
                        var s = w(this._baseModelPrefab);
                        s.setParent(this._towersParent[t]),
                          s.setPosition(new h(0, 0.25, 0)),
                          this._gunTowersModels.push(o);
                      }
                      e = this.towersData
                        .getTowers(g.CannonTower)
                        .sort(function (e, t) {
                          var r = Number.parseInt(e.storeID.split("-")[2]),
                            o = Number.parseInt(t.storeID.split("-")[2]);
                          return p.clamp(r - o, -1, 1);
                        });
                      for (var n = 0; n < e.length; n++) {
                        var i = e[n],
                          a = w(i.headModel);
                        a.setParent(this._towersParent[n]),
                          a.setPosition(new h(0, 0.55, 0)),
                          a.setRotationFromEuler(0, 270, 0),
                          (a.active = !1),
                          this._cannonTowersModels.push(a);
                      }
                      e = this.towersData
                        .getTowers(g.LaserTower)
                        .sort(function (e, t) {
                          var r = Number.parseInt(e.storeID.split("-")[2]),
                            o = Number.parseInt(t.storeID.split("-")[2]);
                          return p.clamp(r - o, -1, 1);
                        });
                      for (var l = 0; l < e.length; l++) {
                        var u = e[l],
                          c = w(u.headModel);
                        c.setParent(this._towersParent[l]),
                          c.setPosition(new h(0, 0.55, 0)),
                          c.setRotationFromEuler(0, 270, 0),
                          (c.active = !1),
                          this._laserTowersModels.push(c);
                      }
                      this._modelsToUI.setModelsToUI();
                    }
                  }),
                  (a.setTowers = function (e, t) {
                    if (e instanceof T) this.setTowers(t);
                    else if ("string" == typeof e)
                      try {
                        var r = Number.parseInt(e),
                          o = d.getList(g)[r];
                        this.setTowers(o.value);
                      } catch (t) {
                        _.log(
                          "Couldn't Parse data (" +
                            e +
                            ") at Set Towers " +
                            this.node.name +
                            " - " +
                            this.node.uuid,
                          v.UI,
                          b.Error
                        ),
                          this.setTowers(g.None);
                      }
                    else if (
                      "number" == typeof e &&
                      (this.initialize(), (t = e) !== this._currentActiveType)
                    ) {
                      var s = [];
                      t === g.GunTower
                        ? (s = this._gunTowersModels)
                        : t === g.CannonTower
                        ? (s = this._cannonTowersModels)
                        : t === g.LaserTower && (s = this._laserTowersModels);
                      for (var i, a = n(s); !(i = a()).done; ) {
                        i.value.active = !0;
                      }
                      var l = [];
                      if (this._currentActiveType !== g.None) {
                        this._currentActiveType === g.GunTower
                          ? (l = this._gunTowersModels)
                          : this._currentActiveType === g.CannonTower
                          ? (l = this._cannonTowersModels)
                          : this._currentActiveType === g.LaserTower &&
                            (l = this._laserTowersModels);
                        for (var u, c = n(l); !(u = c()).done; ) {
                          u.value.active = !1;
                        }
                      }
                      this._currentActiveType = t;
                    }
                  }),
                  i(t, [
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(y)),
                          this._towersData
                        );
                      },
                    },
                  ]),
                  t
                );
              })(f)).prototype,
              "_towersParent",
              [M],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (A = t(N.prototype, "_modelsToUI", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (C = t(N.prototype, "_baseModelPrefab", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (S = t(N.prototype, "_towersDataPrefab", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (L = N))
          ) || L)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ShopUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./CurrencyController.ts",
    "./CurrencyEvents.ts",
    "./LevelsController.ts",
    "./SaveGame.ts",
    "./TowerTypes.ts",
    "./CommonUpgrade.ts",
    "./UpgradeControllerEvents.ts",
    "./UpgradesController.ts",
    "./ConfirmationPanelEntry.ts",
    "./CommonShopEntryData.ts",
    "./TowerShopEntryData.ts",
    "./ShopColumn.ts",
  ],
  function (e) {
    "use strict";
    var t,
      n,
      r,
      o,
      i,
      a,
      s,
      l,
      u,
      c,
      m,
      h,
      b,
      p,
      f,
      y,
      g,
      d,
      C,
      _,
      v,
      T,
      w,
      E,
      P,
      U,
      k,
      I;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (o = e.assertThisInitialized),
            (i = e.createForOfIteratorHelperLoose),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (l = e._decorator),
            (u = e.Color),
            (c = e.EventHandler),
            (m = e.Node),
            (h = e.Button),
            (b = e.EventTouch),
            (p = e.Component);
        },
        function (e) {
          f = e.logger;
        },
        function (e) {
          y = e.projectEvent;
        },
        function (e) {
          g = e.currencyController;
        },
        function (e) {
          d = e.CurrencyEvents;
        },
        function (e) {
          C = e.levelsController;
        },
        function (e) {
          _ = e.saveGame;
        },
        function (e) {
          v = e.TowerTypes;
        },
        function (e) {
          T = e.CommonUpgrade;
        },
        function (e) {
          w = e.UpgradeControllerEvents;
        },
        function (e) {
          E = e.upgradesController;
        },
        function (e) {
          P = e.ConfirmationPanelEntry;
        },
        function (e) {
          U = e.CommonShopEntryData;
        },
        function (e) {
          k = e.TowerShopEntryData;
        },
        function (e) {
          I = e.ShopColumn;
        },
      ],
      execute: function () {
        var z,
          S,
          B,
          D,
          L,
          N,
          x,
          R,
          H,
          M,
          O,
          j,
          A,
          F,
          G,
          Z,
          q,
          J,
          W,
          K,
          Q,
          V,
          X,
          Y,
          $,
          ee,
          te,
          ne,
          re,
          oe,
          ie,
          ae,
          se,
          le,
          ue;
        s._RF.push({}, "40d56SAqbRLmZZawWUx77UJ", "ShopUI", void 0);
        var ce = l.ccclass,
          me = l.property;
        e(
          "ShopUI",
          ((z = ce("ShopUI")),
          (S = me({ visible: !0 })),
          (B = me({ visible: !0, type: [I] })),
          (D = me({ visible: !0, type: [I] })),
          (L = me({ visible: !0, type: u })),
          (N = me({ visible: !0, type: u })),
          (x = me({ visible: !0, type: u })),
          (R = me({ visible: !0, type: [c], group: "Common Tab" })),
          (H = me({ visible: !0, type: [c], group: "Towers Tab" })),
          (M = me({
            visible: !0,
            type: m,
            formerlySerializedAs: "_confirmationPanelNode",
          })),
          (O = me({ visible: !0, type: m })),
          (j = me({ visible: !0, type: h })),
          (A = me({ visible: !0, type: h })),
          (F = me({ visible: !0, type: h })),
          (G = me({ visible: !0, type: h })),
          (Z = me({ visible: !0, type: [c] })),
          (q = me({ visible: !0, type: T })),
          z(
            ((K = t(
              (W = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, i = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    i[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    r(t, "_currentTab", K, o(t)),
                    r(t, "_commonColumns", Q, o(t)),
                    r(t, "_towerColumns", V, o(t)),
                    r(t, "_ownedTreeLineColor", X, o(t)),
                    r(t, "_availableTreeLineColor", Y, o(t)),
                    r(t, "_lockedTreeLineColor", $, o(t)),
                    r(t, "_activateCommonTab", ee, o(t)),
                    r(t, "_activateTowersTab", te, o(t)),
                    r(t, "_towersConfirmationPanelNode", ne, o(t)),
                    (t._towersConfirmationPanel = null),
                    r(t, "_commonConfirmationPanelNode", re, o(t)),
                    (t._commonConfirmationPanel = null),
                    r(t, "_resetUpgradesButton", oe, o(t)),
                    r(t, "_commonTabButton", ie, o(t)),
                    r(t, "_towerTabButton", ae, o(t)),
                    r(t, "_backButton", se, o(t)),
                    (t._buyingItem = null),
                    r(t, "_onBackToMenu", le, o(t)),
                    r(t, "_defaultUpgrades", ue, o(t)),
                    (t._currentTowersTabID = v.None),
                    t
                  );
                }
                n(t, e);
                var s = t.prototype;
                return (
                  (s.onLoad = function () {
                    y.on(d[d.Currency_Changed], this.currencyChanged, this);
                    var e = new c();
                    (e.component = "ShopUI"),
                      (e.handler = "resetUpgrades"),
                      (e.target = this.node),
                      this._resetUpgradesButton.clickEvents.push(e);
                    var t = new c();
                    (t.component = "ShopUI"),
                      (t.handler = "setTab"),
                      (t.customEventData = "0"),
                      (t.target = this.node),
                      this._commonTabButton.clickEvents.push(t);
                    var n = new c();
                    (n.component = "ShopUI"),
                      (n.handler = "setTab"),
                      (n.customEventData = "1"),
                      (n.target = this.node),
                      this._towerTabButton.clickEvents.push(n);
                    var r = new c();
                    (r.component = "ShopUI"),
                      (r.handler = "backToMenu"),
                      (r.target = this.node),
                      this._backButton.clickEvents.push(r);
                  }),
                  (s.onDestroy = function () {
                    y.off(d[d.Currency_Changed], this.currencyChanged, this);
                  }),
                  (s.currencyChanged = function (e) {
                    for (
                      var t = this.getTabEntries(
                          0,
                          this._commonColumns,
                          this._towerColumns
                        ),
                        n = 0;
                      n < t[0].length;
                      n++
                    )
                      t[0][n].entryData !== this._buyingItem &&
                        t[0][n].currencyChanged(e),
                        t[1][n].entryData !== this._buyingItem &&
                          t[1][n].currencyChanged(e),
                        t[2][n].entryData !== this._buyingItem &&
                          t[2][n].currencyChanged(e);
                    t = this.getTabEntries(
                      1,
                      this._commonColumns,
                      this._towerColumns
                    );
                    for (var r = 0; r < t[0].length; r++)
                      t[0][r].entryData !== this._buyingItem &&
                        t[0][r].currencyChanged(e);
                  }),
                  (s.initializeUI = function () {
                    for (
                      var e = this.getTabEntries(
                          0,
                          this._commonColumns,
                          this._towerColumns
                        ),
                        t = E.commonUpgrades,
                        n = 0;
                      n < t.length;
                      n++
                    ) {
                      var r = t[n],
                        o = n > 0 ? t[n - 1] : this._defaultUpgrades;
                      e[0][n].initialize(
                        new U(
                          "common-maxHP-" + n,
                          r.cost,
                          r.maxHP,
                          o.maxHP,
                          this.entryClicked.bind(this)
                        )
                      ),
                        e[1][n].initialize(
                          new U(
                            "common-maxEnergy-" + n,
                            r.cost,
                            r.maxEnergy,
                            o.maxEnergy,
                            this.entryClicked.bind(this)
                          )
                        ),
                        e[2][n].initialize(
                          new U(
                            "common-energyRecharge-" + n,
                            r.cost,
                            r.energyRecharge,
                            o.energyRecharge,
                            this.entryClicked.bind(this)
                          )
                        );
                    }
                    e = this.getTabEntries(
                      1,
                      this._commonColumns,
                      this._towerColumns
                    );
                    var i = E.towerUpgrades;
                    e[0][0].setOnClicked(this.entryClicked.bind(this));
                    for (var a = 1; a <= i.length; a++) {
                      i[a - 1];
                      e[0][a].setOnClicked(this.entryClicked.bind(this));
                    }
                  }),
                  (s.getTabEntries = function (e, t, n) {
                    var r = [];
                    return (
                      0 === e
                        ? (r.push([].concat(t[0].entries)),
                          r.push([].concat(t[1].entries)),
                          r.push([].concat(t[2].entries)))
                        : r.push([].concat(n[0].entries)),
                      r
                    );
                  }),
                  (s.setTab = function (e, t) {
                    e instanceof b
                      ? this.setTab(Number.parseInt(t))
                      : "string" == typeof e
                      ? this.setTab(Number.parseInt(e))
                      : this._currentTab !== e &&
                        ((this._currentTab = e),
                        0 === this._currentTab
                          ? c.emitEvents(this._activateCommonTab)
                          : 1 === this._currentTab &&
                            c.emitEvents(this._activateTowersTab));
                  }),
                  (s.setTowersTab = function (e) {
                    this._currentTowersTabID !== e &&
                      (this._currentTowersTabID = e);
                  }),
                  (s.entryClicked = function (e) {
                    e instanceof U
                      ? this.commonConfirmationPanel.show(
                          e,
                          this.buyItem.bind(this),
                          this.cancelPurchase.bind(this)
                        )
                      : e instanceof k &&
                        this.towersConfirmationPanel.show(
                          e,
                          this.buyItem.bind(this),
                          this.cancelPurchase.bind(this)
                        );
                  }),
                  (s.cancelPurchase = function () {}),
                  (s.buyItem = function (e) {
                    if (
                      (f.log(e.id + " clicked!"),
                      (this._buyingItem = e),
                      _.startTransaction(),
                      g.removeCurrency(e.cost),
                      E.purchaseUpgrade(e),
                      _.commitTransaction(),
                      y.emit(w[w.UpgradeController_UpgradePurchased], e),
                      0 === this._currentTab)
                    ) {
                      var t = this.getTabEntries(
                          0,
                          this._commonColumns,
                          this._towerColumns
                        ),
                        n = void 0;
                      e.id.includes("maxHP")
                        ? (n = t[0])
                        : e.id.includes("maxEnergy")
                        ? (n = t[1])
                        : e.id.includes("energyRecharge") && (n = t[2]);
                      for (var r, o = i(n); !(r = o()).done; ) {
                        r.value.updateEntry();
                      }
                    }
                    this._buyingItem = null;
                  }),
                  (s.resetUpgrades = function () {
                    var e = this;
                    _.startTransaction();
                    var t = C.totalStars;
                    E.resetUpgrades(),
                      g.setCurrency(t),
                      _.commitTransaction(),
                      y.emit(w[w.UpgradeController_UpgradesResetted]),
                      this.scheduleOnce(function () {
                        for (
                          var t = e.getTabEntries(
                              0,
                              e._commonColumns,
                              e._towerColumns
                            ),
                            n = 0;
                          n < t[0].length;
                          n++
                        )
                          t[0][n].updateEntry(),
                            t[1][n].updateEntry(),
                            t[2][n].updateEntry();
                      }, 0);
                  }),
                  (s.backToMenu = function () {
                    c.emitEvents(this._onBackToMenu);
                  }),
                  a(t, [
                    {
                      key: "towersConfirmationPanel",
                      get: function () {
                        return (
                          null == this._towersConfirmationPanel &&
                            (this._towersConfirmationPanel =
                              this._towersConfirmationPanelNode.getComponent(
                                P
                              )),
                          this._towersConfirmationPanel
                        );
                      },
                    },
                    {
                      key: "commonConfirmationPanel",
                      get: function () {
                        return (
                          null == this._commonConfirmationPanel &&
                            (this._commonConfirmationPanel =
                              this._commonConfirmationPanelNode.getComponent(
                                P
                              )),
                          this._commonConfirmationPanel
                        );
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_currentTab",
              [S],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              }
            )),
            (Q = t(W.prototype, "_commonColumns", [B], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (V = t(W.prototype, "_towerColumns", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (X = t(W.prototype, "_ownedTreeLineColor", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (Y = t(W.prototype, "_availableTreeLineColor", [N], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            ($ = t(W.prototype, "_lockedTreeLineColor", [x], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (ee = t(W.prototype, "_activateCommonTab", [R], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (te = t(W.prototype, "_activateTowersTab", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ne = t(W.prototype, "_towersConfirmationPanelNode", [M], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (re = t(W.prototype, "_commonConfirmationPanelNode", [O], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (oe = t(W.prototype, "_resetUpgradesButton", [j], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (ie = t(W.prototype, "_commonTabButton", [A], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (ae = t(W.prototype, "_towerTabButton", [F], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (se = t(W.prototype, "_backButton", [G], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (le = t(W.prototype, "_onBackToMenu", [Z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (ue = t(W.prototype, "_defaultUpgrades", [q], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (J = W))
          ) || J)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SlotBlock.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./BlockEvents.ts",
    "./BaseBlock.ts",
  ],
  function (e) {
    "use strict";
    var t, i, n, o, l, r, s, c, a, u, _, p;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (o = e.assertThisInitialized),
            (l = e.createClass);
        },
        function (e) {
          (r = e.cclegacy),
            (s = e._decorator),
            (c = e.EventHandler),
            (a = e.game);
        },
        function (e) {
          u = e.projectEvent;
        },
        function (e) {
          _ = e.BlockEvents;
        },
        function (e) {
          p = e.BaseBlock;
        },
      ],
      execute: function () {
        var d, f, b, v, h, g, m, k, y, S, B, C, D, E, w, I, U, z;
        r._RF.push({}, "cb730GgZGlA0o2b0bqxYlIm", "SlotBlock", void 0);
        var T = s.ccclass,
          A = s.property;
        e(
          "SlotBlock",
          ((d = T("SlotBlock")),
          (f = A({
            visible: !0,
            type: [c],
            group: "Construction",
            formerlySerializedAs: "_onSelected",
          })),
          (b = A({
            visible: !0,
            type: [c],
            group: "Construction",
            formerlySerializedAs: "_onDeselected",
          })),
          (v = A({
            visible: !0,
            type: [c],
            group: "Construction",
            formerlySerializedAs: "_onDisableSelection",
          })),
          (h = A({ visible: !0, type: [c], group: "Upgrades" })),
          (g = A({ visible: !0, type: [c], group: "Upgrades" })),
          (m = A({ visible: !0, type: [c], group: "Upgrades" })),
          (k = A({ visible: !0 })),
          d(
            (((z = (function (e) {
              function t() {
                for (
                  var t, i = arguments.length, l = new Array(i), r = 0;
                  r < i;
                  r++
                )
                  l[r] = arguments[r];
                return (
                  (t = e.call.apply(e, [this].concat(l)) || this),
                  n(t, "_onSelectedConstruction", B, o(t)),
                  n(t, "_onDeselectedConstruction", C, o(t)),
                  n(t, "_onDisableSelectionConstruction", D, o(t)),
                  n(t, "_onSelectedUpgrades", E, o(t)),
                  n(t, "_onDeselectedUpgrades", w, o(t)),
                  n(t, "_onDisableSelectionUpgrades", I, o(t)),
                  (t._tower = null),
                  (t._slotID = -1),
                  n(t, "_active", U, o(t)),
                  (t._inTutorial = !1),
                  t
                );
              }
              i(t, e),
                (t.isInInputCooldown = function () {
                  return (
                    a.frameStartTime / 1e3 - t._lastCloseClickTime >=
                    t._openClickMinInterval
                  );
                });
              var r = t.prototype;
              return (
                (r.onEnable = function () {
                  u.emit(_[_.Block_SlotCreated], this);
                }),
                (r.onDestroy = function () {
                  t._selectedBlock = null;
                }),
                (r.selectBlock = function () {
                  if (this._active && t.isInInputCooldown()) {
                    var e = t._selectedBlock === this;
                    t._selectedBlock &&
                      (t._selectedBlock._isEmpty
                        ? c.emitEvents(
                            t._selectedBlock._onDisableSelectionConstruction
                          )
                        : c.emitEvents(
                            t._selectedBlock._onDisableSelectionUpgrades
                          ),
                      t._selectedBlock.deselectBlock()),
                      this._isEmpty
                        ? e
                          ? c.emitEvents(this._onDisableSelectionConstruction)
                          : (c.emitEvents(this._onSelectedConstruction),
                            (t._selectedBlock = this))
                        : e
                        ? c.emitEvents(this._onDisableSelectionUpgrades)
                        : (c.emitEvents(this._onSelectedUpgrades),
                          (t._selectedBlock = this));
                  }
                }),
                (r.deselectBlock = function () {
                  this._active &&
                    t._selectedBlock === this &&
                    ((t._lastCloseClickTime = a.frameStartTime / 1e3),
                    (t._selectedBlock = null),
                    this._isEmpty
                      ? c.emitEvents(this._onDeselectedConstruction)
                      : c.emitEvents(this._onDeselectedUpgrades));
                }),
                (r.constructed = function (e) {
                  this._tower = e;
                }),
                (r.destroyTower = function () {
                  this._tower = null;
                }),
                (r.activate = function (e) {
                  this._active ||
                    ((!this._inTutorial || (this._inTutorial && !0 === e)) &&
                      ((this._active = !0), e && (this._inTutorial = !1)));
                }),
                (r.deactivate = function (e) {
                  this._active && (this._active = !1),
                    e && (this._inTutorial = !0);
                }),
                (r.setSlotID = function (e) {
                  this._slotID = e;
                }),
                l(t, [
                  {
                    key: "_isEmpty",
                    get: function () {
                      return null === this._tower;
                    },
                  },
                  {
                    key: "slotID",
                    get: function () {
                      return this._slotID;
                    },
                  },
                ]),
                t
              );
            })(p))._selectedBlock = null),
            (z._lastCloseClickTime = 0),
            (z._openClickMinInterval = 0.5),
            (B = t((S = z).prototype, "_onSelectedConstruction", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(S.prototype, "_onDeselectedConstruction", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (D = t(S.prototype, "_onDisableSelectionConstruction", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (E = t(S.prototype, "_onSelectedUpgrades", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (w = t(S.prototype, "_onDeselectedUpgrades", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (I = t(S.prototype, "_onDisableSelectionUpgrades", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = t(S.prototype, "_active", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (y = S))
          ) || y)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SlowData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, r;
    return {
      setters: [
        function (t) {
          e = t.createClass;
        },
        function (t) {
          r = t.cclegacy;
        },
      ],
      execute: function () {
        r._RF.push({}, "6e8abrDbAxEiqrLCDPlrhvS", "SlowData", void 0);
        t(
          "SlowData",
          (function () {
            function t(t, e) {
              (this._percentage = 0),
                (this._tower = null),
                (this._percentage = t),
                (this._tower = e);
            }
            return (
              e(t, [
                {
                  key: "percentage",
                  get: function () {
                    return this._percentage;
                  },
                },
                {
                  key: "tower",
                  get: function () {
                    return this._tower;
                  },
                },
              ]),
              t
            );
          })()
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnAudioController.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AudioProxy.ts"],
  function (r) {
    "use strict";
    var t, e, o, n, i, a, s, l;
    return {
      setters: [
        function (r) {
          (t = r.applyDecoratedDescriptor),
            (e = r.inheritsLoose),
            (o = r.initializerDefineProperty),
            (n = r.assertThisInitialized);
        },
        function (r) {
          (i = r.cclegacy), (a = r._decorator), (s = r.Component);
        },
        function (r) {
          l = r.AudioProxy;
        },
      ],
      execute: function () {
        var u, p, c, f, y;
        i._RF.push(
          {},
          "b6b88lnaNhOIYa+C0LFNa5B",
          "SpawnAudioController",
          void 0
        );
        var d = a.ccclass,
          h = a.property;
        r(
          "SpawnAudioController",
          ((u = d("SpawnAudioController")),
          (p = h({ visible: !0, type: [l] })),
          u(
            ((y = t(
              (f = (function (r) {
                function t() {
                  for (
                    var t, e = arguments.length, i = new Array(e), a = 0;
                    a < e;
                    a++
                  )
                    i[a] = arguments[a];
                  return (
                    (t = r.call.apply(r, [this].concat(i)) || this),
                    o(t, "_sfxs", y, n(t)),
                    t
                  );
                }
                return (
                  e(t, r),
                  (t.prototype.play = function (r) {
                    if ("string" == typeof r) {
                      var t = Number.parseInt(r);
                      this.play(t);
                    } else {
                      this._sfxs[r].playSFX();
                    }
                  }),
                  t
                );
              })(s)).prototype,
              "_sfxs",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (c = f))
          ) || c)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnBlock.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./BaseBlock.ts",
    "./BlockEvents.ts",
  ],
  function (n) {
    "use strict";
    var t, e, o, i, r, a, c, s, p, l, u;
    return {
      setters: [
        function (n) {
          (t = n.applyDecoratedDescriptor),
            (e = n.inheritsLoose),
            (o = n.initializerDefineProperty),
            (i = n.assertThisInitialized),
            (r = n.createClass);
        },
        function (n) {
          (a = n.cclegacy), (c = n._decorator), (s = n.EventHandler);
        },
        function (n) {
          p = n.projectEvent;
        },
        function (n) {
          l = n.BaseBlock;
        },
        function (n) {
          u = n.BlockEvents;
        },
      ],
      execute: function () {
        var f, w, v, B, h;
        a._RF.push({}, "ea4deEUC69CLYW1FXWHWimn", "SpawnBlock", void 0);
        var k = c.ccclass,
          y = c.property;
        n(
          "SpawnBlock",
          ((f = k("SpawnBlock")),
          (w = y({ visible: !0, type: [s] })),
          f(
            ((h = t(
              (B = (function (n) {
                function t() {
                  for (
                    var t, e = arguments.length, r = new Array(e), a = 0;
                    a < e;
                    a++
                  )
                    r[a] = arguments[a];
                  return (
                    ((t =
                      n.call.apply(n, [this].concat(r)) || this)._spawnID = 0),
                    o(t, "_onSpawn", h, i(t)),
                    t
                  );
                }
                e(t, n);
                var a = t.prototype;
                return (
                  (a.setSpawnID = function (n) {
                    this._spawnID = n;
                  }),
                  (a.onEnable = function () {
                    p.emit(u[u.Block_SpawnCreated], this);
                  }),
                  (a.onSpawn = function (n) {
                    s.emitEvents(this._onSpawn, n);
                  }),
                  r(t, [
                    {
                      key: "spawnID",
                      get: function () {
                        return this._spawnID;
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_onSpawn",
              [w],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (v = B))
          ) || v)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnEnemiesDataController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./SpawnEnemiesDataSpecialEvent.ts",
    "./SpawnSpecialData.ts",
  ],
  function (e) {
    "use strict";
    var n, a, t, o, r, s, i, l, c, p, u;
    return {
      setters: [
        function (e) {
          n = e.createForOfIteratorHelperLoose;
        },
        function (e) {
          (a = e.cclegacy),
            (t = e._decorator),
            (o = e.game),
            (r = e.Game),
            (s = e.resources),
            (i = e.JsonAsset);
        },
        function (e) {
          l = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          p = e.SpawnEnemiesDataSpecialEvent;
        },
        function (e) {
          u = e.SpawnSpecialData;
        },
      ],
      execute: function () {
        a._RF.push(
          {},
          "951aaSr+FlBd5iduvDnLQma",
          "SpawnEnemiesDataController",
          void 0
        );
        t.ccclass, t.property;
        var f = e(
          "SpawnEnemiesDataController",
          (function () {
            function e() {
              var e = this;
              (this._specials = []),
                o.on(
                  r.EVENT_GAME_INITED,
                  function () {
                    s.load(
                      "Enemies/spawn-specials",
                      i,
                      null,
                      e.onLoadCompleted.bind(e)
                    );
                  },
                  this
                );
            }
            var a = e.prototype;
            return (
              (a.onLoadCompleted = function (e, a) {
                if (null == e) {
                  var t = a.json;
                  if (Array.isArray(t)) {
                    for (var o, r = n(t); !(o = r()).done; ) {
                      var s = o.value,
                        i = new u(s);
                      this._specials.push(i);
                    }
                    c.emit(p[p.SpawnEnemiesDataSpecial_Loaded]);
                  } else l.log("Couldn't parse spawn specials!");
                }
              }),
              (a.getSpecial = function (e) {
                var n = this._specials.filter(function (n) {
                  return n.specialID === e;
                });
                if (n) return n;
                throw "Couldn't find spawn special for " + e;
              }),
              e
            );
          })()
        );
        e("spawnSpecialDataController", new f());
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnEnemiesDataSpecialEvent.ts",
  ["cc"],
  function (e) {
    "use strict";
    var a;
    return {
      setters: [
        function (e) {
          a = e.cclegacy;
        },
      ],
      execute: function () {
        var n;
        e("SpawnEnemiesDataSpecialEvent", void 0),
          a._RF.push(
            {},
            "e3f9dzvE85OCKg/Wv98ISGI",
            "SpawnEnemiesDataSpecialEvent",
            void 0
          ),
          (function (e) {
            e[(e.SpawnEnemiesDataSpecial_Loaded = 0)] =
              "SpawnEnemiesDataSpecial_Loaded";
          })(n || (n = e("SpawnEnemiesDataSpecialEvent", {}))),
          a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnEnemiesSpecial.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./Spawner.ts",
    "./Enemy.ts",
    "./EnemySpecialEvents.ts",
    "./SpawnEnemiesDataController.ts",
  ],
  function (e) {
    "use strict";
    var n, t, i, a, r, o, p, s, c, l, u, m, y;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (r = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (o = e.cclegacy), (p = e._decorator), (s = e.Component);
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          l = e.SpawnerEvents;
        },
        function (e) {
          u = e.Enemy;
        },
        function (e) {
          m = e.EnemySpecialEvents;
        },
        function (e) {
          y = e.spawnSpecialDataController;
        },
      ],
      execute: function () {
        var S, w, f, v, E;
        o._RF.push(
          {},
          "71b59j50pJOQYyfqjE0LpJs",
          "SpawnEnemiesSpecial",
          void 0
        );
        var h = p.ccclass,
          _ = p.property;
        e(
          "SpawnEnemiesSpecial",
          ((S = h("SpawnEnemiesSpecial")),
          (w = _({ visible: !0, type: u })),
          S(
            ((E = n(
              (v = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, r = new Array(t), o = 0;
                    o < t;
                    o++
                  )
                    r[o] = arguments[o];
                  return (
                    ((n =
                      e.call.apply(e, [this].concat(r)) ||
                      this)._spawnSpecialID = ""),
                    i(n, "_enemy", E, a(n)),
                    n
                  );
                }
                t(n, e);
                var o = n.prototype;
                return (
                  (o.spawnEnemies = function () {
                    for (
                      var e,
                        n = { enemies: [] },
                        t = y.getSpecial(this._spawnSpecialID),
                        i = r(t);
                      !(e = i()).done;

                    ) {
                      var a = e.value;
                      n.enemies.push({
                        enemyID: a.spawnEnemyID,
                        interval: a.interval,
                        spawnIDOrEnemy: {
                          path: [].concat(this._enemy.movement.path),
                          position:
                            this._enemy.enemiesSpawnPosition.worldPosition.clone(),
                          currentPathIndex:
                            this._enemy.movement.currentPathIndex,
                        },
                        quantity: a.quantity,
                      });
                    }
                    c.emit(m[m.EnemySpecial_SpawnEnemy], n),
                      c.emit(l[l.Spawner_SpawnHorde], n);
                  }),
                  (o.initialize = function (e) {
                    this._spawnSpecialID = e.name;
                  }),
                  n
                );
              })(s)).prototype,
              "_enemy",
              [w],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (f = v))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Spawner.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./BlockEvents.ts",
    "./Enemy.ts",
    "./EnemyMovement.ts",
    "./Pathfinder.ts",
    "./TimeScale.ts",
    "./GameEvents.ts",
    "./IEnemyMovementData.ts",
  ],
  function (e) {
    "use strict";
    var n, t, i, a, o, r, s, p, c, l, u, f, d, m, h, w, v, _, y, S, b;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose),
            (r = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (p = e._decorator),
            (c = e.Prefab),
            (l = e.instantiate),
            (u = e.Vec3),
            (f = e.game),
            (d = e.Component);
        },
        function (e) {
          m = e.projectEvent;
        },
        function (e) {
          h = e.BlockEvents;
        },
        function (e) {
          w = e.Enemy;
        },
        function (e) {
          v = e.EnemyMovement;
        },
        function (e) {
          _ = e.Pathfinder;
        },
        function (e) {
          y = e.timeScale;
        },
        function (e) {
          S = e.GameEvents;
        },
        function (e) {
          b = e.isIEnemyMovementData;
        },
      ],
      execute: function () {
        var E, C, P, g, I, T, D;
        e("SpawnerEvents", void 0),
          s._RF.push({}, "6224ediLkZG84aZ/Y7G48dr", "Spawner", void 0);
        var k,
          G = p.ccclass,
          O = p.property;
        !(function (e) {
          (e[(e.Spawner_None = 0)] = "Spawner_None"),
            (e[(e.Spawner_SpawnEnemy = 1)] = "Spawner_SpawnEnemy"),
            (e[(e.Spawner_SpawnHorde = 2)] = "Spawner_SpawnHorde");
        })(k || (k = e("SpawnerEvents", {})));
        e(
          "Spawner",
          ((E = G("Spawner")),
          (C = O({ visible: !0, type: [c] })),
          (P = O({ visible: !0 })),
          E(
            ((T = n(
              (I = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, o = new Array(t), r = 0;
                    r < t;
                    r++
                  )
                    o[r] = arguments[r];
                  return (
                    ((n = e.call.apply(e, [this].concat(o)) || this)._spawns =
                      []),
                    (n._cubeTower = void 0),
                    (n._paths = []),
                    (n._active = !1),
                    i(n, "_enemiesPrefabs", T, a(n)),
                    i(n, "_spawnOffset", D, a(n)),
                    (n._elapsedTime = 0),
                    (n._hordePool = []),
                    n
                  );
                }
                t(n, e);
                var s = n.prototype;
                return (
                  (s.onEnable = function () {
                    m.on(h[h.Block_SpawnCreated], this.onSpawnCreated, this),
                      m.on(
                        h[h.Block_CubeTowerCreated],
                        this.onCubeTowerCreated,
                        this
                      ),
                      m.on(S[S.Game_Start], this.onGameStarted, this);
                  }),
                  (s.onDisable = function () {
                    m.off(h[h.Block_SpawnCreated], this.onSpawnCreated, this),
                      m.off(
                        h[h.Block_CubeTowerCreated],
                        this.onCubeTowerCreated,
                        this
                      ),
                      m.off(S[S.Game_Start], this.onGameStarted, this);
                  }),
                  (s.update = function (e) {
                    if (this._active) {
                      e *= y.current;
                      for (var n = this._hordePool.length - 1; n >= 0; n--) {
                        var t = this._hordePool[n];
                        (t.elapsedTime += e),
                          t.elapsedTime >= t.time &&
                            (b(t.spawnIDOrEnemy),
                            this.spawnEnemy(t.id, t.spawnIDOrEnemy),
                            this._hordePool.splice(n, 1));
                      }
                    }
                  }),
                  (s.onSpawnCreated = function (e) {
                    this._spawns.push(e);
                  }),
                  (s.onCubeTowerCreated = function (e) {
                    this._cubeTower = e;
                  }),
                  (s.onGameStarted = function () {
                    this._active = !0;
                  }),
                  (s.spawnEnemy = function (e, n) {
                    if (this._active)
                      if (null == n) {
                        var t = e.split(",");
                        this.spawnEnemy(t[0], Number.parseInt(t[1]));
                      } else {
                        var i = this._enemiesPrefabs.find(function (n) {
                            return n.data.getComponent(w).enemyID === e;
                          }),
                          a = l(i);
                        a.setParent(this.node.parent);
                        var o = new u(),
                          r = void 0;
                        if (b(n)) {
                          (o = n.position.clone()).y = 0;
                          var s = a.getComponentInChildren(v);
                          s.copyMovement(n), s.enable();
                        } else {
                          var p = this._spawns.find(function (e) {
                            return e.spawnID === n;
                          });
                          (o = p.node.worldPosition.clone()),
                            (r = _.instance.getPathForSpawn(p)),
                            p.onSpawn(a.getComponent(w).tier),
                            a.getComponentInChildren(v).setPath(r);
                        }
                        a.setWorldPosition(o.add(this._spawnOffset));
                      }
                  }),
                  (s.spawnHorde = function (e) {
                    if (this._active)
                      for (var n, t = 0, i = o(e.enemies); !(n = i()).done; ) {
                        for (var a = n.value, r = 0; r < a.quantity; r++)
                          this._hordePool.push({
                            id: a.enemyID,
                            time: t + r * a.interval,
                            spawnIDOrEnemy: a.spawnIDOrEnemy,
                            elapsedTime: 0,
                          });
                        t += a.interval * a.quantity + a.interval;
                      }
                  }),
                  (s.deactivate = function () {
                    this._active = !1;
                  }),
                  r(n, [
                    {
                      key: "time",
                      get: function () {
                        return f.totalTime / 1e3;
                      },
                    },
                  ]),
                  n
                );
              })(d)).prototype,
              "_enemiesPrefabs",
              [C],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (D = n(I.prototype, "_spawnOffset", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new u(0, 0.6, 0);
              },
            })),
            (g = I))
          ) || g)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnerCheat.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Enemy.ts", "./Spawner.ts"],
  function (e) {
    "use strict";
    var n, t, i, r, a, o, s, p, u, l, c, y, f, h, w;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (o = e._decorator),
            (s = e.Prefab),
            (p = e.CCInteger),
            (u = e.input),
            (l = e.Input),
            (c = e.KeyCode),
            (y = e.randomRangeInt),
            (f = e.Component);
        },
        function (e) {
          h = e.Enemy;
        },
        function (e) {
          w = e.Spawner;
        },
      ],
      execute: function () {
        var m, _, b, v, D, g, E, d, C;
        a._RF.push({}, "d76d3WEmulCSZpsfPv9GvI7", "SpawnerCheat", void 0);
        var I = o.ccclass,
          S = o.property;
        e(
          "SpawnerCheat",
          ((m = I("SpawnerCheat")),
          (_ = S({ visible: !0, type: [s] })),
          (b = S({ visible: !0, type: w })),
          (v = S({ visible: !0, type: [p] })),
          m(
            ((E = n(
              (g = (function (e) {
                function n() {
                  for (
                    var n, t = arguments.length, a = new Array(t), o = 0;
                    o < t;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (n = e.call.apply(e, [this].concat(a)) || this),
                    i(n, "_enemies", E, r(n)),
                    i(n, "_spawner", d, r(n)),
                    i(n, "_spawnID", C, r(n)),
                    n
                  );
                }
                t(n, e);
                var a = n.prototype;
                return (
                  (a.onEnable = function () {
                    u.on(l.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (a.onDisable = function () {
                    u.off(l.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (a.onKeyDown = function (e) {
                    e.keyCode === c.KEY_S && this.spawnEnemy();
                  }),
                  (a.spawnEnemy = function () {
                    var e =
                        this._enemies[
                          y(0, this._enemies.length)
                        ].data.getComponent(h),
                      n = this._spawnID[y(0, this._spawnID.length)];
                    this._spawner.spawnEnemy(e.enemyID, n);
                  }),
                  n
                );
              })(f)).prototype,
              "_enemies",
              [_],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (d = n(g.prototype, "_spawner", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (C = n(g.prototype, "_spawnID", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (D = g))
          ) || D)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpawnerEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Spawner.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, a, c, o, u, p;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (a = e.cclegacy), (c = e._decorator), (o = e.Enum);
        },
        function (e) {
          u = e.SpawnerEvents;
        },
        function (e) {
          p = e.BaseEventListener;
        },
      ],
      execute: function () {
        var l, v, f, y, w;
        a._RF.push(
          {},
          "e4500P8ArFGmJVAHcDYRV4l",
          "SpawnerEventsListener",
          void 0
        );
        var h = c.ccclass,
          D = c.property;
        e(
          "SpawnerEventsListener",
          ((l = h("SpawnerEventsListener")),
          (v = D({ visible: !0, type: o(u) })),
          l(
            ((w = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    s[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", w, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_eventID",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Spawner_None;
                },
              }
            )),
            (f = y))
          ) || f)
        );
        a._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/SpawnSpecialData.ts", ["cc"], function (t) {
  "use strict";
  var i;
  return {
    setters: [
      function (t) {
        i = t.cclegacy;
      },
    ],
    execute: function () {
      i._RF.push({}, "5af088UQbtHFoBMSbUfdUhF", "SpawnSpecialData", void 0);
      t("SpawnSpecialData", function (t) {
        (this.specialID = ""),
          (this.spawnEnemyID = ""),
          (this.quantity = 0),
          (this.time = 0),
          (this.interval = 0),
          (this.specialID = t.id),
          (this.time = t.time),
          (this.spawnEnemyID = t.enemyID),
          (this.interval = t.interval),
          (this.quantity = t.quantity);
      });
      i._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/SphereColliderHelper.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var r, i, t, l, o, n, u, c, s;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (t = e.initializerDefineProperty),
            (l = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (n = e.cclegacy),
            (u = e._decorator),
            (c = e.SphereCollider),
            (s = e.Component);
        },
      ],
      execute: function () {
        var p, a, d, h, f, y, _;
        n._RF.push(
          {},
          "da0622vv4BBe4nNeJ2WOyKd",
          "SphereColliderHelper",
          void 0
        );
        var b = u.ccclass,
          v = u.property;
        e(
          "SphereColliderHelper",
          ((p = b("SphereColliderHelper")),
          (a = v({ visible: !0, type: c })),
          (d = v({ visible: !0 })),
          p(
            ((y = r(
              (f = (function (e) {
                function r() {
                  for (
                    var r, i = arguments.length, o = new Array(i), n = 0;
                    n < i;
                    n++
                  )
                    o[n] = arguments[n];
                  return (
                    (r = e.call.apply(e, [this].concat(o)) || this),
                    t(r, "_collider", y, l(r)),
                    t(r, "_radiusMultiplier", _, l(r)),
                    r
                  );
                }
                return (
                  i(r, e),
                  (r.prototype.setRadius = function (e) {
                    "number" == typeof e &&
                      (this.collider.radius = e * this._radiusMultiplier);
                  }),
                  o(r, [
                    {
                      key: "collider",
                      get: function () {
                        return (
                          null === this._collider &&
                            (this._collider = this.node.getComponent(c)),
                          this._collider
                        );
                      },
                    },
                  ]),
                  r
                );
              })(s)).prototype,
              "_collider",
              [a],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (_ = r(f.prototype, "_radiusMultiplier", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (h = f))
          ) || h)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SpriteHelper.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, n, i, o;
    return {
      setters: [
        function (e) {
          t = e.inheritsLoose;
        },
        function (e) {
          (r = e.cclegacy),
            (n = e._decorator),
            (i = e.Sprite),
            (o = e.Component);
        },
      ],
      execute: function () {
        var p;
        r._RF.push({}, "028afSgFyBL+LXV3sQ6a3xF", "SpriteHelper", void 0);
        var s = n.ccclass,
          c = (n.property, n.requireComponent);
        e(
          "SpriteHelper",
          s("SpriteHelper")(
            (p =
              c(i)(
                (p = (function (e) {
                  function r() {
                    for (
                      var t, r = arguments.length, n = new Array(r), i = 0;
                      i < r;
                      i++
                    )
                      n[i] = arguments[i];
                    return (
                      ((t = e.call.apply(e, [this].concat(n)) || this)._sprite =
                        null),
                      t
                    );
                  }
                  t(r, e);
                  var n = r.prototype;
                  return (
                    (n.onLoad = function () {
                      this._sprite = this.node.getComponent(i);
                    }),
                    (n.enableSprite = function () {
                      this._sprite.enabled = !0;
                    }),
                    (n.disableSprite = function () {
                      this._sprite.enabled = !1;
                    }),
                    r
                  );
                })(o))
              ) || p)
          ) || p
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/SwitchCamera.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, n, i, o, a, c, s, u, p, l, h, y;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (o = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (c = e._decorator),
            (s = e.Node),
            (u = e.input),
            (p = e.Input),
            (l = e.KeyCode),
            (h = e.Camera),
            (y = e.Component);
        },
      ],
      execute: function () {
        var f, m, _, d, v;
        a._RF.push({}, "89893HroElBZIX8W3bm42pq", "SwitchCamera", void 0);
        var w = c.ccclass,
          C = c.property;
        e(
          "SwitchCamera",
          ((f = w("SwitchCamera")),
          (m = C({ visible: !0, type: [s] })),
          f(
            ((v = t(
              (d = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    o[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_cameras", v, i(t)),
                    (t._currentIndex = 0),
                    t
                  );
                }
                r(t, e);
                var a = t.prototype;
                return (
                  (a.onEnable = function () {
                    u.on(p.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (a.onDisable = function () {
                    u.off(p.EventType.KEY_DOWN, this.onKeyDown, this);
                  }),
                  (a.onKeyDown = function (e) {
                    if (e.keyCode === l.TAB) {
                      this._currentIndex =
                        (this._currentIndex + 1) % this._cameras.length;
                      for (var t, r = o(this._cameras); !(t = r()).done; ) {
                        var n = t.value,
                          i = n.getComponent(h);
                        n === this._cameras[this._currentIndex]
                          ? (i.priority = 1)
                          : (i.priority = 0);
                      }
                    }
                  }),
                  t
                );
              })(y)).prototype,
              "_cameras",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (_ = d))
          ) || _)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Tappable.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./InputEnums.ts"],
  function (t) {
    "use strict";
    var e, n, i, r, a, o, c, s, u, p;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.createClass),
            (i = t.inheritsLoose),
            (r = t.initializerDefineProperty),
            (a = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy),
            (c = t._decorator),
            (s = t.EventHandler),
            (u = t.Component);
        },
        function (t) {
          p = t.InputEvent;
        },
      ],
      execute: function () {
        var l, h, f, y, _;
        o._RF.push({}, "9af9dOKerdLvJjnt/yI4qE+", "Tappable", void 0);
        var v = c.ccclass,
          m = c.property,
          T =
            (t(
              "Tappable",
              ((l = v("Tappable")),
              (h = m({
                type: [s],
                visible: !0,
                formerlySerializedAs: "onTap",
              })),
              l(
                ((_ = e(
                  (y = (function (t) {
                    function e() {
                      for (
                        var e, n = arguments.length, i = new Array(n), o = 0;
                        o < n;
                        o++
                      )
                        i[o] = arguments[o];
                      return (
                        (e = t.call.apply(t, [this].concat(i)) || this),
                        r(e, "_onTap", _, a(e)),
                        e
                      );
                    }
                    return (
                      i(e, t),
                      (e.prototype.tap = function (t, e) {
                        var n = new T(t, e);
                        this.node.emit(p[p.Input_Tap], n),
                          s.emitEvents(this._onTap, n);
                      }),
                      e
                    );
                  })(u)).prototype,
                  "_onTap",
                  [h],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return [];
                    },
                  }
                )),
                (f = y))
              ) || f)
            ),
            t(
              "TapData",
              (function () {
                function t(t, e) {
                  (this._touchPosition = null),
                    (this._camera = null),
                    (this._touchPosition = t),
                    (this._camera = e);
                }
                return (
                  n(t, [
                    {
                      key: "touchScreenPosition",
                      get: function () {
                        return this._touchPosition;
                      },
                    },
                    {
                      key: "camera",
                      get: function () {
                        return this._camera;
                      },
                    },
                  ]),
                  t
                );
              })()
            ));
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TextExtensions.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, n, i, o, s, l, a, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (s = e._decorator),
            (l = e.Label),
            (a = e.Color),
            (c = e.Component);
        },
      ],
      execute: function () {
        var u, p, f, y, b;
        o._RF.push({}, "97d32+G52pOu7CQ5+uGUXSD", "TextExtensions", void 0);
        var h = s.ccclass,
          x = s.property;
        e(
          "TextExtensions",
          ((u = h("TextExtensions")),
          (p = x({ visible: !0, type: l })),
          u(
            ((b = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    n(t, "_label", b, i(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.setColor = function (e) {
                    if ("string" == typeof e) {
                      if ("#" === e[0]) {
                        var t = new a(e);
                        this.setColor(t);
                      }
                    } else this._label.color = e;
                  }),
                  t
                );
              })(c)).prototype,
              "_label",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (f = y))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ThemeCameraColor.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./WorldSettings.ts"],
  function (e) {
    "use strict";
    var t, r, o, i, n, a, l, s, c, u, p, f;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (n = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (s = e.Prefab),
            (c = e.Color),
            (u = e.Camera),
            (p = e.Component);
        },
        function (e) {
          f = e.WorldSettings;
        },
      ],
      execute: function () {
        var h, d, g, b, m, _, C, y, w, v, S;
        a._RF.push({}, "e0caaBJSNhJLaMvEEEox6BD", "ThemeCameraColor", void 0);
        var L = l.ccclass,
          T = l.property;
        e(
          "ThemeCameraColor",
          ((h = L("ThemeCameraColor")),
          (d = T({ visible: !0, type: s })),
          (g = T({ visible: !0, type: [c] })),
          (b = T({ visible: !0, type: u })),
          (m = T({ visible: !0 })),
          h(
            ((y = t(
              (C = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), a = 0;
                    a < r;
                    a++
                  )
                    n[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    o(t, "_worldSettingsPrefab", y, i(t)),
                    (t._worldSettings = null),
                    o(t, "_colors", w, i(t)),
                    o(t, "_camera", v, i(t)),
                    o(t, "_setOnLoad", S, i(t)),
                    t
                  );
                }
                r(t, e);
                var a = t.prototype;
                return (
                  (a.onLoad = function () {
                    this._setOnLoad && this.setThemeColor();
                  }),
                  (a.setThemeColor = function () {
                    var e = this.worldSettings.getCurrentWorldID();
                    this._camera.clearColor = this._colors[e];
                  }),
                  n(t, [
                    {
                      key: "worldSettings",
                      get: function () {
                        return (
                          null === this._worldSettings &&
                            (this._worldSettings =
                              this._worldSettingsPrefab.data.getComponent(f)),
                          this._worldSettings
                        );
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_worldSettingsPrefab",
              [d],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (w = t(C.prototype, "_colors", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (v = t(C.prototype, "_camera", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (S = t(C.prototype, "_setOnLoad", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !0;
              },
            })),
            (_ = C))
          ) || _)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/ThemeModelChooser.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./WorldSettings.ts"],
  function (e) {
    "use strict";
    var t, r, o, i, n, s, l, a, u, c, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (n = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (l = e._decorator),
            (a = e.Prefab),
            (u = e.Node),
            (c = e.Component);
        },
        function (e) {
          d = e.WorldSettings;
        },
      ],
      execute: function () {
        var h, f, p, g, b, _, m, y, v;
        s._RF.push({}, "f55faVr9BhB65ZsbgP52ExD", "ThemeModelChooser", void 0);
        var w = l.ccclass,
          S = l.property;
        e(
          "ThemeModelChooser",
          ((h = w("ThemeModelChooser")),
          (f = S({ visible: !0, type: a })),
          (p = S({ visible: !0, type: [u] })),
          (g = S({ visible: !0 })),
          h(
            ((m = t(
              (_ = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    o(t, "_worldSettingsPrefab", m, i(t)),
                    (t._worldSettings = null),
                    o(t, "_themeModels", y, i(t)),
                    o(t, "_setOnLoad", v, i(t)),
                    t
                  );
                }
                r(t, e);
                var s = t.prototype;
                return (
                  (s.onLoad = function () {
                    this._setOnLoad && this.setThemeModel();
                  }),
                  (s.setThemeModel = function () {
                    for (
                      var e = this.worldSettings.getCurrentWorldID(), t = 0;
                      t < this._themeModels.length;
                      t++
                    ) {
                      var r = t === e;
                      this._themeModels[t].active = r;
                    }
                  }),
                  n(t, [
                    {
                      key: "worldSettings",
                      get: function () {
                        return (
                          null === this._worldSettings &&
                            (this._worldSettings =
                              this._worldSettingsPrefab.data.getComponent(d)),
                          this._worldSettings
                        );
                      },
                    },
                  ]),
                  t
                );
              })(c)).prototype,
              "_worldSettingsPrefab",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (y = t(_.prototype, "_themeModels", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (v = t(_.prototype, "_setOnLoad", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !0;
              },
            })),
            (b = _))
          ) || b)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/Timer.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TimeScale.ts"],
  function (e) {
    "use strict";
    var i, t, r, n, o, c, a, u, l, s;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (c = e._decorator),
            (a = e.CCInteger),
            (u = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          s = e.timeScale;
        },
      ],
      execute: function () {
        var p, h, m, _, f, v, d, b, y;
        o._RF.push({}, "28a939hTddDx7kAZtJaeXXi", "Timer", void 0);
        var T = c.ccclass,
          g = c.property;
        e(
          "Timer",
          ((p = T("Timer")),
          (h = g({ visible: !0 })),
          (m = g({ visible: !0, type: a, unit: "s" })),
          (_ = g({ visible: !0, type: [u] })),
          p(
            ((d = i(
              (v = (function (e) {
                function i() {
                  for (
                    var i, t = arguments.length, o = new Array(t), c = 0;
                    c < t;
                    c++
                  )
                    o[c] = arguments[c];
                  return (
                    (i = e.call.apply(e, [this].concat(o)) || this),
                    r(i, "_loop", d, n(i)),
                    r(i, "_duration", b, n(i)),
                    r(i, "_onReachTimer", y, n(i)),
                    (i._timeAcc = 0),
                    (i._active = !0),
                    i
                  );
                }
                t(i, e);
                var o = i.prototype;
                return (
                  (o.update = function (e) {
                    if (this._active) {
                      var i = e * s.current;
                      (this._timeAcc += i),
                        this._timeAcc >= this._duration &&
                          (this.reachedTimer(),
                          this._loop
                            ? (this._timeAcc = 0)
                            : (this._active = !1));
                    }
                  }),
                  (o.reachedTimer = function () {
                    u.emitEvents(this._onReachTimer);
                  }),
                  i
                );
              })(l)).prototype,
              "_loop",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (b = i(v.prototype, "_duration", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (y = i(v.prototype, "_onReachTimer", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (f = v))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TimeScale.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./TimeScaleEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, i, c, a, n, s;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          (i = e.cclegacy), (c = e.game), (a = e.Game);
        },
        function (e) {
          n = e.projectEvent;
        },
        function (e) {
          s = e.TimeScaleEvents;
        },
      ],
      execute: function () {
        i._RF.push({}, "b854bInsXZFhLpx3zDGNyQ5", "TimeScale", void 0);
        var r = e(
          "TimeScale",
          (function () {
            function e() {
              var e = this;
              (this._current = 1),
                (this._defaultStep = 0.1),
                (this._bkpTimeScaleValue = null),
                c.on(
                  a.EVENT_GAME_INITED,
                  function () {
                    n.on(s[s.TimeScale_Increase], e.increaseTimeScale, e),
                      n.on(s[s.TimeScale_Decrease], e.decreaseTimeScale, e),
                      n.on(s[s.TimeScale_Set], e.setTimeScale, e),
                      n.on(s[s.TimeScale_Restore], e.restoreTimeScale, e);
                  },
                  this
                );
            }
            var i = e.prototype;
            return (
              (i.increaseTimeScale = function (e) {
                if ("string" == typeof e) {
                  var t = Number.parseFloat(e);
                  this.increaseTimeScale(t);
                } else e || (e = this._defaultStep), (this._current += e);
              }),
              (i.decreaseTimeScale = function (e) {
                if ("string" == typeof e) {
                  var t = Number.parseFloat(e);
                  this.decreaseTimeScale(t);
                } else e || (e = this._defaultStep), this.increaseTimeScale(-e);
              }),
              (i.setTimeScale = function (e) {
                if ("string" == typeof e) {
                  var t = Number.parseFloat(e);
                  this.setTimeScale(t);
                } else
                  (this._bkpTimeScaleValue = this._current),
                    (this._current = e);
              }),
              (i.restoreTimeScale = function () {
                null !== this._bkpTimeScaleValue &&
                  ((this._current = this._bkpTimeScaleValue),
                  (this._bkpTimeScaleValue = null));
              }),
              t(e, [
                {
                  key: "current",
                  get: function () {
                    return this._current;
                  },
                },
              ]),
              e
            );
          })()
        );
        e("timeScale", new r());
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TimeScaleEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TimeScaleEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, i, n, r, a, s, c, o, l, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (c = e._decorator), (o = e.Enum);
        },
        function (e) {
          l = e.TimeScaleEvents;
        },
        function (e) {
          u = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var p, v, f, y, m, d, h;
        s._RF.push(
          {},
          "eb61d1BRKpDnpWImZxs1KwG",
          "TimeScaleEventRaiser",
          void 0
        );
        var _ = c.ccclass,
          b = c.property;
        e(
          "TimeScaleEventRaiser",
          ((p = _("TimeScaleEventRaiser")),
          (v = b({ visible: !0, type: o(l) })),
          (f = b({ visible: !0 })),
          p(
            ((d = t(
              (m = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, a = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_eventID", d, r(t)),
                    n(t, "_data", h, r(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return l[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(u)).prototype,
              "_eventID",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return l.TimeScale_None;
                },
              }
            )),
            (h = t(m.prototype, "_data", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = m))
          ) || y)
        );
        s._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TimeScaleEvents.ts", ["cc"], function (e) {
  "use strict";
  var c;
  return {
    setters: [
      function (e) {
        c = e.cclegacy;
      },
    ],
    execute: function () {
      var a;
      e("TimeScaleEvents", void 0),
        c._RF.push({}, "5471efg6vpDW49/f3ZxhVCN", "TimeScaleEvents", void 0),
        (function (e) {
          (e[(e.TimeScale_None = 0)] = "TimeScale_None"),
            (e[(e.TimeScale_Increase = 1)] = "TimeScale_Increase"),
            (e[(e.TimeScale_Decrease = 2)] = "TimeScale_Decrease"),
            (e[(e.TimeScale_Set = 3)] = "TimeScale_Set"),
            (e[(e.TimeScale_Changed = 4)] = "TimeScale_Changed"),
            (e[(e.TimeScale_Restore = 5)] = "TimeScale_Restore");
        })(a || (a = e("TimeScaleEvents", {}))),
        c._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TimeScaleEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TimeScaleEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, i, r, s, c, a, o, l, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (c = e.cclegacy), (a = e._decorator), (o = e.Enum);
        },
        function (e) {
          l = e.TimeScaleEvents;
        },
        function (e) {
          u = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, f, m, y;
        c._RF.push(
          {},
          "281a0008ZVLLIoguBAF2qx8",
          "TimeScaleEventsListener",
          void 0
        );
        var L = a.ccclass,
          E = a.property;
        e(
          "TimeScaleEventsListener",
          ((v = L("TimeScaleEventsListener")),
          (p = E({ visible: !0, type: o(l) })),
          v(
            ((y = t(
              (m = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), c = 0;
                    c < n;
                    c++
                  )
                    s[c] = arguments[c];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    i(t, "_eventID", y, r(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return l[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(u)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return l.TimeScale_None;
                },
              }
            )),
            (f = m))
          ) || f)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TimeTextFormatter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseTextFormatter.ts"],
  function (e) {
    "use strict";
    var t, r, i, a, n, s, o;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (a = e.assertThisInitialized);
        },
        function (e) {
          (n = e.cclegacy), (s = e._decorator);
        },
        function (e) {
          o = e.BaseTextFormatter;
        },
      ],
      execute: function () {
        var l, c, u, f, m, d, h, p, _;
        n._RF.push({}, "fd37bn3xiBPuJglZ9dMLjgz", "TimeTextFormatter", void 0);
        var g = s.ccclass,
          b = s.property;
        e(
          "TimeTextFormatter",
          ((l = g("TimeTextFormatter")),
          (c = b({ visible: !0 })),
          (u = b({ visible: !0 })),
          (f = b({ visible: !0 })),
          l(
            ((h = t(
              (d = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, n = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    i(t, "_decimalCases", h, a(t)),
                    i(t, "_length", p, a(t)),
                    i(t, "_addLeftZeroes", _, a(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.formatText = function (t) {
                    if ("number" == typeof t) {
                      var r = "",
                        i = (r =
                          this._decimalCases > 0
                            ? (
                                Math.round(t * (10 * this._decimalCases)) /
                                (10 * this._decimalCases)
                              ).toString()
                            : Math.round(t).toString()).indexOf(".");
                      for (
                        this._decimalCases > 0 &&
                        -1 === i &&
                        (i = (r += ".").length - 1);
                        this._decimalCases > 0 &&
                        r.length - (i + 1) < this._decimalCases;

                      )
                        r += "0";
                      for (
                        ;
                        this._addLeftZeroes &&
                        i < this._length - this._decimalCases;

                      )
                        (r = "0" + r), i++;
                      return r;
                    }
                    return e.prototype.formatText.call(this, t);
                  }),
                  t
                );
              })(o)).prototype,
              "_decimalCases",
              [c],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 1;
                },
              }
            )),
            (p = t(d.prototype, "_length", [u], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 4;
              },
            })),
            (_ = t(d.prototype, "_addLeftZeroes", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (m = d))
          ) || m)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TouchController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./Draggable.ts",
    "./Holdable.ts",
    "./Tappable.ts",
  ],
  function (t) {
    "use strict";
    var i, e, o, n, a, s, r, h, l, u, c, g, d, p, b, _, f, v, m, y, T;
    return {
      setters: [
        function (t) {
          (i = t.extends),
            (e = t.applyDecoratedDescriptor),
            (o = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (a = t.assertThisInitialized),
            (s = t.createClass);
        },
        function (t) {
          (r = t.cclegacy),
            (h = t._decorator),
            (l = t.Camera),
            (u = t.BitMask),
            (c = t.PhysicsSystem),
            (g = t.input),
            (d = t.Input),
            (p = t.game),
            (b = t.Vec2),
            (_ = t.geometry),
            (f = t.Component);
        },
        function (t) {
          v = t.logger;
        },
        function (t) {
          m = t.Draggable;
        },
        function (t) {
          y = t.Holdable;
        },
        function (t) {
          T = t.Tappable;
        },
      ],
      execute: function () {
        var D, H, I, L, M, S, E, k, C, w, x, F, P, B;
        r._RF.push({}, "4e1b0GHVi1IfJ8x0OM8H5sb", "TouchController", void 0);
        var R,
          z = h.ccclass,
          U = h.property;
        t(
          "TouchController",
          ((D = z("TouchController")),
          (H = U({ type: l, visible: !0, formerlySerializedAs: "camera" })),
          (I = U({
            visible: !0,
            min: 0,
            formerlySerializedAs: "maxTapInterval",
          })),
          (L = U({ visible: !0, min: 0, tooltip: "Move distance in pixels" })),
          (M = U({ visible: !0 })),
          (S = U({ visible: !0, type: u(i({}, c.PhysicsGroup)) })),
          D(
            (((B = (function (t) {
              function i() {
                for (
                  var i, e = arguments.length, o = new Array(e), s = 0;
                  s < e;
                  s++
                )
                  o[s] = arguments[s];
                return (
                  (i = t.call.apply(t, [this].concat(o)) || this),
                  n(i, "_camera", C, a(i)),
                  n(i, "_maxTapInterval", w, a(i)),
                  n(i, "_minMovementToDrag", x, a(i)),
                  n(i, "_verboseLogging", F, a(i)),
                  n(i, "_raycastMask", P, a(i)),
                  (i._touchData = []),
                  i
                );
              }
              o(i, t);
              var e = i.prototype;
              return (
                (e.onLoad = function () {
                  i._instance ? this.node.destroy() : (i._instance = this);
                }),
                (e.start = function () {
                  g.on(d.EventType.TOUCH_START, this.onTouchStart, this),
                    g.on(d.EventType.TOUCH_MOVE, this.onTouchMove, this),
                    g.on(d.EventType.TOUCH_END, this.onTouchEnd, this),
                    g.on(d.EventType.TOUCH_CANCEL, this.onTouchCancel, this);
                }),
                (e.update = function () {
                  for (var t = 0; t < this._touchData.length; t++) {
                    var i = this._touchData[t];
                    i.isEligibleForTap(
                      p.frameStartTime,
                      this._maxTapInterval
                    ) ||
                      (i.isEligibleForDrag() &&
                        i.startDrag(
                          i.position,
                          p.frameStartTime,
                          this._camera,
                          this._verboseLogging
                        ),
                      i.isEligibleForHold() &&
                        i.startHold(
                          i.position,
                          this._camera,
                          this._verboseLogging
                        ));
                  }
                }),
                (e.onDestroy = function () {
                  i._instance == this && (i._instance = null);
                }),
                (e.onTouchStart = function (t) {
                  if (!t.currentTarget) {
                    this.getTouchDataById(t.touch.getID()) &&
                      this.removeTouchById(t.touch.getID());
                    var i = new A(
                      t.touch.getID(),
                      t.touch.getLocation(),
                      t.touch.lastModified
                    );
                    this._touchData.push(i);
                    var e = this.getNodeUnderTouch(i.position);
                    e &&
                      ((i.tappable = e.getComponent(T)),
                      (i.holdable = e.getComponent(y)),
                      (i.draggable = e.getComponent(m)));
                  }
                }),
                (e.onTouchMove = function (t) {
                  var i = this.getTouchDataById(t.touch.getID());
                  if (
                    i &&
                    !i.isEligibleForTap(
                      t.touch.lastModified,
                      this._maxTapInterval
                    )
                  )
                    switch (i.status) {
                      case R.Starting:
                        i.isEligibleForDrag() &&
                          this.isMoveRelevant(
                            t.touch.getLocation(),
                            i.position
                          ) &&
                          i.startDrag(
                            t.touch.getLocation(),
                            t.touch.lastModified,
                            this._camera,
                            this._verboseLogging
                          ),
                          i.isEligibleForHold() &&
                            (this.isMoveRelevant(
                              t.touch.getLocation(),
                              i.position
                            ) ||
                              i.startHold(
                                i.position,
                                this._camera,
                                this._verboseLogging
                              ));
                        break;
                      case R.Dragging:
                        i.updatePosition(
                          t.touch.getLocation(),
                          t.touch.lastModified
                        ),
                          i.draggable.updateDrag(i.position, this._camera);
                        break;
                      case R.Holding:
                        var e = this.getNodeUnderTouch(t.touch.getLocation());
                        (null != e && e.getComponent(y) == i.holdable) ||
                          i.endHold(this._verboseLogging);
                    }
                }),
                (e.onTouchEnd = function (t) {
                  var i = this.getTouchDataById(t.touch.getID());
                  if (null != i) {
                    switch (i.status) {
                      case R.Starting:
                        i.isEligibleForTap(
                          t.touch.lastModified,
                          this._maxTapInterval
                        ) &&
                          (this._verboseLogging &&
                            v.log(
                              "Touch with id " +
                                i.id +
                                " is a tap on " +
                                i.tappable.node.name
                            ),
                          i.tappable.tap(t.touch.getLocation(), this._camera));
                        break;
                      case R.Dragging:
                        i.endDrag(
                          t.touch.getLocation(),
                          t.touch.lastModified,
                          this._camera,
                          this._verboseLogging
                        );
                        break;
                      case R.Holding:
                        i.endHold(this._verboseLogging);
                    }
                    this.removeTouchById(t.touch.getID());
                  }
                }),
                (e.onTouchCancel = function (t) {
                  this.removeTouchById(t.touch.getID());
                }),
                (e.getTouchDataById = function (t) {
                  var i = this._touchData.findIndex(function (i) {
                    return i.id == t;
                  });
                  return i > -1 ? this._touchData[i] : null;
                }),
                (e.removeTouchById = function (t) {
                  var i = this._touchData.findIndex(function (i) {
                    return i.id == t;
                  });
                  i > -1 && this._touchData.splice(i, 1);
                }),
                (e.isMoveRelevant = function (t, i) {
                  var e = new b(0, 0);
                  return (
                    b.subtract(e, t, i),
                    e.lengthSqr() <
                      this._minMovementToDrag * this._minMovementToDrag
                  );
                }),
                (e.getNodeUnderTouch = function (t) {
                  var i = new _.Ray();
                  if (
                    (this._camera.screenPointToRay(t.x, t.y, i),
                    c.instance.raycast(i, this._raycastMask))
                  ) {
                    for (
                      var e = c.instance.raycastResults,
                        o = null,
                        n = Number.MAX_VALUE,
                        a = 0;
                      a < e.length;
                      a++
                    )
                      e[a].distance < n && ((n = e[a].distance), (o = e[a]));
                    if (o) return o.collider.node;
                  }
                  return null;
                }),
                i
              );
            })(f))._instance = null),
            (C = e((k = B).prototype, "_camera", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (w = e(k.prototype, "_maxTapInterval", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 200;
              },
            })),
            (x = e(k.prototype, "_minMovementToDrag", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (F = e(k.prototype, "_verboseLogging", [M], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (P = e(k.prototype, "_raycastMask", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return c.PhysicsGroup.DEFAULT;
              },
            })),
            (E = k))
          ) || E)
        );
        !(function (t) {
          (t[(t.Starting = 0)] = "Starting"),
            (t[(t.Dragging = 1)] = "Dragging"),
            (t[(t.Holding = 2)] = "Holding"),
            (t[(t.Done = 3)] = "Done");
        })(R || (R = {}));
        var A = (function () {
            function t(t, i, e) {
              (this._id = void 0),
                (this._positionHistory = []),
                (this._onScreen = !0),
                (this._tappable = null),
                (this._draggable = null),
                (this._holdable = null),
                (this._status = R.Starting),
                (this._id = t),
                this.updatePosition(i, e),
                (this._onScreen = !0);
            }
            var i = t.prototype;
            return (
              (i.updatePosition = function (t, i) {
                this._positionHistory.push(new O(t, i));
              }),
              (i.hasMoved = function () {
                return this._positionHistory.length > 1;
              }),
              (i.isEligibleForTap = function (t, i) {
                return (
                  null != this.tappable &&
                  this.status == R.Starting &&
                  this.tappable.enabled &&
                  t - this.startTime < i
                );
              }),
              (i.isEligibleForDrag = function () {
                return (
                  null != this.draggable &&
                  (this.status == R.Starting || this.status == R.Holding) &&
                  this.draggable.enabled
                );
              }),
              (i.isEligibleForHold = function () {
                return (
                  null != this.holdable &&
                  this.status == R.Starting &&
                  this.holdable.enabled
                );
              }),
              (i.startDrag = function (t, i, e, o) {
                void 0 === o && (o = !1),
                  o &&
                    v.log(
                      "Touch with id " +
                        this.id +
                        " is starting a drag on " +
                        this.draggable.node.name
                    ),
                  this.status == R.Holding && this.endHold(o),
                  (this.status = R.Dragging),
                  this.draggable.startDrag(t, e),
                  this.updatePosition(t, i);
              }),
              (i.startHold = function (t, i, e) {
                void 0 === e && (e = !1),
                  e &&
                    v.log(
                      "Touch with id " +
                        this.id +
                        " is starting a hold on " +
                        this.holdable.node.name
                    ),
                  (this.status = R.Holding),
                  this.holdable.startHold(t, i);
              }),
              (i.endDrag = function (t, i, e, o) {
                void 0 === o && (o = !1),
                  o &&
                    v.log(
                      "Touch with id " +
                        this.id +
                        " is ending a drag on " +
                        this.draggable.node.name
                    ),
                  (this.status = R.Done),
                  this.draggable.endDrag(t, e);
              }),
              (i.endHold = function (t) {
                void 0 === t && (t = !1),
                  t &&
                    v.log(
                      "Touch with id " +
                        this.id +
                        " is ending a hold on " +
                        this.holdable.node.name
                    ),
                  (this.status = R.Done),
                  this.holdable.endHold();
              }),
              s(t, [
                {
                  key: "id",
                  get: function () {
                    return this._id;
                  },
                },
                {
                  key: "startTime",
                  get: function () {
                    return this._positionHistory[0].time;
                  },
                },
                {
                  key: "onScreen",
                  get: function () {
                    return this._onScreen;
                  },
                  set: function (t) {
                    this._onScreen = t;
                  },
                },
                {
                  key: "position",
                  get: function () {
                    return this._positionHistory[
                      this._positionHistory.length - 1
                    ].position;
                  },
                },
                {
                  key: "startPosition",
                  get: function () {
                    return this._positionHistory[0].position;
                  },
                },
                {
                  key: "tappable",
                  get: function () {
                    return this._tappable;
                  },
                  set: function (t) {
                    this._tappable = t;
                  },
                },
                {
                  key: "draggable",
                  get: function () {
                    return this._draggable;
                  },
                  set: function (t) {
                    this._draggable = t;
                  },
                },
                {
                  key: "holdable",
                  get: function () {
                    return this._holdable;
                  },
                  set: function (t) {
                    this._holdable = t;
                  },
                },
                {
                  key: "status",
                  get: function () {
                    return this._status;
                  },
                  set: function (t) {
                    this._status = t;
                  },
                },
              ]),
              t
            );
          })(),
          O = (function () {
            function t(t, i, e) {
              void 0 === e && (e = !1),
                (this._position = b.ZERO),
                (this._time = 0),
                (this._moving = void 0),
                (this._position = t),
                (this._time = i),
                (this._moving = e);
            }
            return (
              s(t, [
                {
                  key: "position",
                  get: function () {
                    return this._position;
                  },
                },
                {
                  key: "time",
                  get: function () {
                    return this._time;
                  },
                },
                {
                  key: "moving",
                  get: function () {
                    return this._moving;
                  },
                  set: function (t) {
                    this._moving = t;
                  },
                },
              ]),
              t
            );
          })();
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerAttackUnit.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Enemy.ts", "./EnemyHP.ts"],
  function (t) {
    "use strict";
    var n, i, e, s, o, r, c;
    return {
      setters: [
        function (t) {
          (n = t.createForOfIteratorHelperLoose), (i = t.createClass);
        },
        function (t) {
          (e = t.cclegacy), (s = t.game), (o = t.randomRangeInt);
        },
        function (t) {
          r = t.Enemy;
        },
        function (t) {
          c = t.EnemyHP;
        },
      ],
      execute: function () {
        e._RF.push({}, "4b975uDR6lMWpG0Ie0Uxk+5", "TowerAttackUnit", void 0);
        t(
          "TowerAttackUnit",
          (function () {
            function t(t, n) {
              (this._damage = 0),
                (this._cd = 0),
                (this._currentAtkCD = 0),
                (this._onCDFinish = null),
                (this._onCD = !1),
                (this._id = 0),
                (this._damage = t),
                (this._cd = n),
                (this._id = Math.round(1e3 * s.totalTime) + o(1e3, 9999));
            }
            var e = t.prototype;
            return (
              (e.update = function (t) {
                this._onCD &&
                  ((this._currentAtkCD += t),
                  this._currentAtkCD >= this._cd && this.renewCD());
              }),
              (e.renewCD = function () {
                this._onCDFinish &&
                  (this._onCDFinish(), (this._onCDFinish = null)),
                  (this._onCD = !1);
              }),
              (e.setDamage = function (t) {
                this._damage = t;
              }),
              (e.setCD = function (t) {
                this._cd = t;
              }),
              (e.attack = function (t, i) {
                if (t instanceof r) this.attack([t], i);
                else if (Array.isArray(t) && !this._onCD) {
                  for (var e, s = n(t); !(e = s()).done; ) {
                    e.value.node.getComponentInChildren(c).damage(this._damage);
                  }
                  (this._currentAtkCD = 0),
                    (this._onCD = !0),
                    (this._onCDFinish = i);
                }
              }),
              (e.towerDestroyed = function () {
                (this._currentAtkCD = 0),
                  (this._onCD = !1),
                  (this._onCDFinish = null);
              }),
              i(t, [
                {
                  key: "onCD",
                  get: function () {
                    return this._onCD;
                  },
                },
                {
                  key: "id",
                  get: function () {
                    return this._id;
                  },
                },
              ]),
              t
            );
          })()
        );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerAura.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerEvents.ts",
    "./BaseTower.ts",
  ],
  function (e) {
    "use strict";
    var r, t, o, i, n, a, s, u, l, c, p;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (n = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (u = e.ParticleSystem),
            (l = e.Component);
        },
        function (e) {
          c = e.TowerEvents;
        },
        function (e) {
          p = e.BaseTower;
        },
      ],
      execute: function () {
        var f, w, v, h, y, T, _;
        a._RF.push({}, "955699OWahJqo9EFR6ii5ti", "TowerAura", void 0);
        var d = s.ccclass,
          b = s.property;
        e(
          "TowerAura",
          ((f = d("TowerAura")),
          (w = b({ visible: !0, type: p })),
          (v = b({ visible: !0, type: [u] })),
          f(
            ((T = r(
              (y = (function (e) {
                function r() {
                  for (
                    var r, t = arguments.length, n = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    n[a] = arguments[a];
                  return (
                    (r = e.call.apply(e, [this].concat(n)) || this),
                    o(r, "_tower", T, i(r)),
                    o(r, "_auraVFXs", _, i(r)),
                    r
                  );
                }
                t(r, e);
                var a = r.prototype;
                return (
                  (a.onEnable = function () {
                    this._tower.towerEvents.on(
                      c[c.Tower_Upgraded],
                      this.setCurrentTowerID,
                      this
                    );
                  }),
                  (a.onDisable = function () {
                    this._tower.towerEvents.off(
                      c[c.Tower_Upgraded],
                      this.setCurrentTowerID,
                      this
                    );
                  }),
                  (a.setCurrentTowerID = function (e) {
                    if (e.includes("-plus"))
                      for (var r, t = n(this._auraVFXs); !(r = t()).done; ) {
                        r.value.play();
                      }
                    else
                      for (var o, i = n(this._auraVFXs); !(o = i()).done; ) {
                        o.value.stop();
                      }
                  }),
                  r
                );
              })(l)).prototype,
              "_tower",
              [w],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (_ = r(y.prototype, "_auraVFXs", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (h = y))
          ) || h)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerConstructor.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./PrefabPool.ts",
    "./ProjectEvent.ts",
    "./Tappable.ts",
    "./EnergySystem.ts",
    "./EnergyEvents.ts",
    "./BaseTower.ts",
  ],
  function (e) {
    "use strict";
    var t, n, o, r, s, i, c, u, a, l, f, d, w, p, h, T, g, _, b, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (s = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (i = e.cclegacy),
            (c = e._decorator),
            (u = e.Prefab),
            (a = e.Node),
            (l = e.EventHandler),
            (f = e.Vec3),
            (d = e.RigidBody),
            (w = e.Component);
        },
        function (e) {
          p = e.logger;
        },
        function (e) {
          h = e.PrefabPool;
        },
        function (e) {
          T = e.projectEvent;
        },
        function (e) {
          g = e.TapData;
        },
        function (e) {
          _ = e.ConsumeEnergyRequest;
        },
        function (e) {
          b = e.EnergyEvents;
        },
        function (e) {
          v = e.BaseTower;
        },
      ],
      execute: function () {
        var y, C, P, m, I, E, D, z, H;
        i._RF.push({}, "9c66529d09P4Zt3iRYdMpnm", "TowerConstructor", void 0);
        var L = c.ccclass,
          R = c.property;
        e(
          "TowerConstructor",
          ((y = L("TowerConstructor")),
          (C = R({ visible: !0, type: [u] })),
          (P = R({ visible: !0, type: a })),
          (m = R({ visible: !0, type: [l] })),
          y(
            ((D = t(
              (E = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), i = 0;
                    i < n;
                    i++
                  )
                    s[i] = arguments[i];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    o(t, "_towersPrefabs", D, r(t)),
                    o(t, "_towerHolder", z, r(t)),
                    o(t, "_onConstructed", H, r(t)),
                    (t._constructedTowerInstance = null),
                    (t._constructedTowerPrefab = null),
                    t
                  );
                }
                n(t, e);
                var i = t.prototype;
                return (
                  (i.onLoad = function () {
                    for (var e, t = s(this._towersPrefabs); !(e = t()).done; ) {
                      var n = e.value;
                      h.instance.initialize(n, this.name, 8);
                    }
                  }),
                  (i.constructTower = function (e, t) {
                    var n = this;
                    if (e instanceof g) this.constructTower(t);
                    else {
                      var o = this._towersPrefabs.find(function (t) {
                        return t.data.getComponent(v).baseTowerID === e;
                      });
                      if (!o) throw "Couldn't find tower of id: " + e;
                      var r = o.data.getComponent(v).energyCost,
                        s = new _(
                          r,
                          function () {
                            return n.finishTowerConstruction(o);
                          },
                          function () {
                            return n.failedToConstructTower(o);
                          }
                        );
                      this.scheduleOnce(function () {
                        return T.emit(b[b.Energy_Consume], s);
                      }, 0.1);
                    }
                  }),
                  (i.towerDestroyed = function () {
                    h.instance.put(
                      this._constructedTowerPrefab,
                      this._constructedTowerInstance
                    ),
                      this._constructedTowerInstance.setWorldPosition(
                        100,
                        100,
                        100
                      ),
                      (this._constructedTowerInstance = null),
                      (this._constructedTowerPrefab = null);
                  }),
                  (i.finishTowerConstruction = function (e) {
                    (this._constructedTowerPrefab = e),
                      (this._constructedTowerInstance = h.instance.get(e)),
                      this._constructedTowerInstance.setParent(
                        this._towerHolder
                      ),
                      this._constructedTowerInstance.setPosition(
                        new f(0, 0, 0)
                      );
                    for (
                      var t,
                        n =
                          this._constructedTowerInstance.getComponentsInChildren(
                            d
                          ),
                        o = s(n);
                      !(t = o()).done;

                    ) {
                      t.value.useCCD = !0;
                    }
                    l.emitEvents(
                      this._onConstructed,
                      this._constructedTowerInstance.getComponent(v)
                    );
                  }),
                  (i.failedToConstructTower = function (e) {
                    var t = e.data.getComponent(v).energyCost;
                    p.log(
                      "Tower construction failed: Not enought energy " + t + "!"
                    );
                  }),
                  t
                );
              })(w)).prototype,
              "_towersPrefabs",
              [C],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (z = t(E.prototype, "_towerHolder", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (H = t(E.prototype, "_onConstructed", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (I = E))
          ) || I)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerContructionEntryData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerTypes.ts",
    "./TowerContructionUIEntry.ts",
  ],
  function (t) {
    "use strict";
    var e, r, n, o, i, u, a, c, y;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.createClass),
            (n = t.initializerDefineProperty);
        },
        function (t) {
          (o = t.cclegacy), (i = t._decorator), (u = t.Node), (a = t.Enum);
        },
        function (t) {
          c = t.TowerTypes;
        },
        function (t) {
          y = t.TowerContructionUIEntry;
        },
      ],
      execute: function () {
        var s, l, p, f, T, d, g;
        t("UpgradeEntryDataType", void 0),
          o._RF.push(
            {},
            "3b49er+LQRCoZ6OmFc6QiJ7",
            "TowerContructionEntryData",
            void 0
          );
        var h,
          D = i.ccclass,
          b = i.property;
        !(function (t) {
          (t[(t.None = 0)] = "None"),
            (t[(t.Upgrade = 1)] = "Upgrade"),
            (t[(t.Destroy = 2)] = "Destroy");
        })(h || (h = t("UpgradeEntryDataType", {})));
        t(
          "TowerContructionEntryData",
          ((s = D("TowerContructionEntryData")),
          (l = b({ visible: !0, type: u })),
          (p = b({ visible: !0, type: a(c) })),
          s(
            ((d = e(
              (T = (function () {
                function t() {
                  n(this, "entryNode", d, this),
                    (this._entry = null),
                    n(this, "entryType", g, this);
                }
                return (
                  r(t, [
                    {
                      key: "entry",
                      get: function () {
                        return (
                          null === this._entry &&
                            (this._entry = this.entryNode.getComponent(y)),
                          this._entry
                        );
                      },
                    },
                  ]),
                  t
                );
              })()).prototype,
              "entryNode",
              [l],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (g = e(T.prototype, "entryType", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (f = T))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerContructionUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./EnergyEvents.ts",
    "./TowerEvents.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./TowerContructionEntryData.ts",
  ],
  function (t) {
    "use strict";
    var e, n, i, r, o, s, c, u, l, a, h, w, _, d, f, C, T;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (n = t.inheritsLoose),
            (i = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (o = t.createForOfIteratorHelperLoose),
            (s = t.createClass);
        },
        function (t) {
          (c = t.cclegacy),
            (u = t._decorator),
            (l = t.Prefab),
            (a = t.EventHandler),
            (h = t.Component);
        },
        function (t) {
          w = t.projectEvent;
        },
        function (t) {
          _ = t.EnergyEvents;
        },
        function (t) {
          d = t.TowerEvents;
        },
        function (t) {
          f = t.TowersData;
        },
        function (t) {
          C = t.TowerTypes;
        },
        function (t) {
          T = t.TowerContructionEntryData;
        },
      ],
      execute: function () {
        var y, p, k, v, g, b, B, m, E, I, D;
        c._RF.push({}, "1bb54x5k2ZLwpsDBRHVFrFw", "TowerContructionUI", void 0);
        var z = u.ccclass,
          U = u.property;
        t(
          "TowerContructionUI",
          ((y = z("TowerContructionUI")),
          (p = U({ visible: !0, type: [T] })),
          (k = U({ visible: !0, type: l })),
          (v = U({ visible: !0, type: [a] })),
          (g = U({ visible: !0, type: [a] })),
          y(
            ((m = e(
              (B = (function (t) {
                function e() {
                  for (
                    var e, n = arguments.length, o = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (e = t.call.apply(t, [this].concat(o)) || this),
                    i(e, "_entries", m, r(e)),
                    i(e, "_towersDataPrefab", E, r(e)),
                    (e._towersData = null),
                    i(e, "_onTowerConstructed", I, r(e)),
                    i(e, "_showTowerInfo", D, r(e)),
                    (e._initialized = !1),
                    (e._firstClick = !1),
                    (e._currentButtonClicked = null),
                    (e._isConstructingTower = !1),
                    e
                  );
                }
                n(e, t);
                var c = e.prototype;
                return (
                  (c.onLoad = function () {
                    w.on(_[_.Energy_Changed], this.energyChanged, this),
                      this.initialize();
                  }),
                  (c.update = function (t) {
                    this._isConstructingTower &&
                      (this._entries[0].entry.enabledInHierarchy ||
                        (this._isConstructingTower = !1));
                  }),
                  (c.energyChanged = function (t) {
                    if (!this._isConstructingTower)
                      for (var e, n = o(this._entries); !(e = n()).done; ) {
                        e.value.entry.updateEnergy(t);
                      }
                  }),
                  (c.initialize = function () {
                    if (!this._initialized) {
                      this._initialized = !0;
                      for (
                        var t, e = this.towersData, n = o(this._entries);
                        !(t = n()).done;

                      ) {
                        var i = t.value,
                          r = i.entry;
                        if (i.entryType === C.GunTower) {
                          var s = e.gunTowers.find(function (t) {
                            return "guntower" === t.id;
                          });
                          i.entry.initialize(
                            s,
                            this.gunClicked.bind(this, s, r)
                          );
                        } else if (i.entryType === C.CannonTower) {
                          var c = e.cannonTowers.find(function (t) {
                            return "cannontower" === t.id;
                          });
                          i.entry.initialize(
                            c,
                            this.cannonClicked.bind(this, c, r)
                          );
                        } else if (i.entryType === C.LaserTower) {
                          var u = e.laserTowers.find(function (t) {
                            return "lasertower" === t.id;
                          });
                          i.entry.initialize(
                            u,
                            this.laserClicked.bind(this, u, r)
                          );
                        }
                      }
                    }
                  }),
                  (c.showUI = function () {
                    (this._firstClick = !0),
                      (this._isConstructingTower = !1),
                      null !== this._currentButtonClicked &&
                        this._currentButtonClicked.deselect(),
                      (this._currentButtonClicked = null);
                  }),
                  (c.hideButtons = function () {
                    for (var t, e = o(this._entries); !(t = e()).done; ) {
                      t.value.entry.hide();
                    }
                  }),
                  (c.gunClicked = function () {
                    this._firstClick ||
                    this._currentButtonClicked !== arguments[1]
                      ? ((this._firstClick = !1),
                        a.emitEvents(this._showTowerInfo, arguments[0]),
                        w.emit(d[d.Tower_ConstructionUIShowInfo]),
                        null !== this._currentButtonClicked &&
                          this._currentButtonClicked.deselect(),
                        (this._currentButtonClicked = arguments[1]),
                        this._currentButtonClicked.select())
                      : ((this._isConstructingTower = !0),
                        w.emit(d[d.Tower_ConstructTower], "guntower"),
                        this.hideButtons(),
                        a.emitEvents(this._onTowerConstructed));
                  }),
                  (c.cannonClicked = function () {
                    this._firstClick ||
                    this._currentButtonClicked !== arguments[1]
                      ? ((this._firstClick = !1),
                        a.emitEvents(this._showTowerInfo, arguments[0]),
                        w.emit(d[d.Tower_ConstructionUIShowInfo]),
                        null !== this._currentButtonClicked &&
                          this._currentButtonClicked.deselect(),
                        (this._currentButtonClicked = arguments[1]),
                        this._currentButtonClicked.select())
                      : ((this._isConstructingTower = !0),
                        w.emit(d[d.Tower_ConstructTower], "cannontower"),
                        this.hideButtons(),
                        a.emitEvents(this._onTowerConstructed));
                  }),
                  (c.laserClicked = function () {
                    this._firstClick ||
                    this._currentButtonClicked !== arguments[1]
                      ? ((this._firstClick = !1),
                        a.emitEvents(this._showTowerInfo, arguments[0]),
                        w.emit(d[d.Tower_ConstructionUIShowInfo]),
                        null !== this._currentButtonClicked &&
                          this._currentButtonClicked.deselect(),
                        (this._currentButtonClicked = arguments[1]),
                        this._currentButtonClicked.select())
                      : ((this._isConstructingTower = !0),
                        w.emit(d[d.Tower_ConstructTower], "lasertower"),
                        this.hideButtons(),
                        a.emitEvents(this._onTowerConstructed));
                  }),
                  s(e, [
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(f)),
                          this._towersData
                        );
                      },
                    },
                  ]),
                  e
                );
              })(h)).prototype,
              "_entries",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (E = e(B.prototype, "_towersDataPrefab", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (I = e(B.prototype, "_onTowerConstructed", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (D = e(B.prototype, "_showTowerInfo", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (b = B))
          ) || b)
        );
        c._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerContructionUIEntry.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, i, n, o, s, r, a, c, u, l, h;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (o = t.assertThisInitialized),
            (s = t.createClass);
        },
        function (t) {
          (r = t.cclegacy),
            (a = t._decorator),
            (c = t.EventHandler),
            (u = t.Button),
            (l = t.Enum),
            (h = t.Component);
        },
      ],
      execute: function () {
        var b,
          _,
          v,
          d,
          p,
          y,
          f,
          B,
          k,
          m,
          g,
          S,
          C,
          E,
          w,
          D,
          A,
          z,
          N,
          L,
          I,
          U,
          T,
          P,
          H,
          F,
          R,
          V,
          j,
          q,
          x;
        r._RF.push(
          {},
          "80495HhBfdC64qEifbVQrbr",
          "TowerContructionUIEntry",
          void 0
        );
        var M,
          Q = a.ccclass,
          G = a.property;
        !(function (t) {
          (t[(t.None = 0)] = "None"),
            (t[(t.Active = 1)] = "Active"),
            (t[(t.Inactive = 2)] = "Inactive"),
            (t[(t.ActiveNSelected = 3)] = "ActiveNSelected"),
            (t[(t.Locked = 4)] = "Locked");
        })(M || (M = {}));
        t(
          "TowerContructionUIEntry",
          ((b = Q("TowerContructionUIEntry")),
          (_ = G({ visible: !0, type: c })),
          (v = G({ visible: !0, type: c })),
          (d = G({ visible: !0, type: u })),
          (p = G({ visible: !0, type: [c] })),
          (y = G({ visible: !0, type: [c] })),
          (f = G({ visible: !0, type: [c] })),
          (B = G({ visible: !0, type: [c] })),
          (k = G({ visible: !0, type: [c] })),
          (m = G({ visible: !0, type: [c] })),
          (g = G({ visible: !0, type: [c] })),
          (S = G({ visible: !0, type: [c] })),
          (C = G({ visible: !0, type: [c] })),
          (E = G({ visible: !0, type: [c] })),
          (w = G({ visible: !0, type: l(M) })),
          b(
            ((z = e(
              (A = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, s = new Array(i), r = 0;
                    r < i;
                    r++
                  )
                    s[r] = arguments[r];
                  return (
                    (e = t.call.apply(t, [this].concat(s)) || this),
                    n(e, "_setName", z, o(e)),
                    n(e, "_setCost", N, o(e)),
                    n(e, "_button", L, o(e)),
                    (e._onClicked = null),
                    n(e, "_setButtonActive", I, o(e)),
                    n(e, "_setButtonInactive", U, o(e)),
                    n(e, "_hideButton", T, o(e)),
                    n(e, "_hideClickedButton", P, o(e)),
                    n(e, "_setEnable", H, o(e)),
                    n(e, "_setDisable", F, o(e)),
                    n(e, "_setButtonSelected", R, o(e)),
                    n(e, "_setButtonDeselected", V, o(e)),
                    n(e, "_setButtonLocked", j, o(e)),
                    n(e, "_setButtonUnlocked", q, o(e)),
                    (e._data = null),
                    (e._isLevelUp = !1),
                    (e._isDestroyButton = !1),
                    (e._energyData = null),
                    (e._clicked = !1),
                    n(e, "_buttonState", x, o(e)),
                    e
                  );
                }
                i(e, t);
                var r = e.prototype;
                return (
                  (r.updateEnergy = function (t) {
                    (this._energyData = t),
                      this.node.activeInHierarchy &&
                        null !== this._data &&
                        this.checkPurchasable();
                  }),
                  (r.onEnable = function () {
                    (this._clicked = !1), this.checkPurchasable();
                  }),
                  (r.checkPurchasable = function () {
                    if (this._buttonState !== M.Locked)
                      if (this._isDestroyButton)
                        this.active || this.activateButton();
                      else {
                        var t = this._isLevelUp
                          ? this._data.levelUpCost
                          : this._data.energyCost;
                        !this.active && t <= this._energyData.current
                          ? this.activateButton()
                          : this.active &&
                            t > this._energyData.current &&
                            this.deactivateButton();
                      }
                  }),
                  (r.activateButton = function () {
                    this._buttonState !== M.Active &&
                      ((this._buttonState = M.Active),
                      c.emitEvents(this._setButtonActive));
                  }),
                  (r.deactivateButton = function () {
                    this._buttonState !== M.Inactive &&
                      (this._buttonState === M.ActiveNSelected &&
                        this.deselect(),
                      (this._buttonState = M.Inactive),
                      c.emitEvents(this._setButtonInactive));
                  }),
                  (r.lockButton = function () {
                    this._buttonState !== M.Locked &&
                      ((this._buttonState = M.Locked),
                      c.emitEvents(this._setButtonLocked));
                  }),
                  (r.unlockButton = function () {
                    this._buttonState === M.Locked &&
                      ((this._buttonState = M.None),
                      c.emitEvents(this._setButtonUnlocked));
                  }),
                  (r.initialize = function (t, e, i, n) {
                    (this._data = t),
                      (this._isLevelUp = i),
                      (this._isDestroyButton = n),
                      i ||
                        n ||
                        c.emitEvents(
                          this._setName,
                          t.readableName.replace(" Tower", "")
                        );
                    var o = 0;
                    n
                      ? c.emitEvents(this._setCost, t.energyValue)
                      : i
                      ? ((o = t.levelUpCost),
                        c.emitEvents(this._setCost, t.levelUpCost))
                      : ((o = t.energyCost),
                        c.emitEvents(this._setCost, t.energyCost)),
                      t.isLocked
                        ? this.lockButton()
                        : (this.unlockButton(),
                          n ||
                          (null !== this._energyData &&
                            (!this.active || this._buttonState === M.None) &&
                            o <= this._energyData.current)
                            ? this.activateButton()
                            : (null === this._energyData ||
                                ((this.active ||
                                  this._buttonState === M.None) &&
                                  o > this._energyData.current)) &&
                              this.deactivateButton()),
                      this._buttonState === M.ActiveNSelected &&
                        this.deselect(),
                      (this._onClicked = e);
                  }),
                  (r.onClicked = function () {
                    null !== this._onClicked &&
                      ((this._clicked = !0), this._onClicked());
                  }),
                  (r.select = function () {
                    this._buttonState === M.Active &&
                      ((this._buttonState = M.ActiveNSelected),
                      c.emitEvents(this._setButtonSelected));
                  }),
                  (r.deselect = function () {
                    this._buttonState === M.ActiveNSelected &&
                      ((this._buttonState = M.Active),
                      c.emitEvents(this._setButtonDeselected));
                  }),
                  (r.hide = function () {
                    this._hideClickedButton.length > 0 && this._clicked
                      ? c.emitEvents(this._hideClickedButton)
                      : c.emitEvents(this._hideButton);
                  }),
                  (r.enable = function () {
                    c.emitEvents(this._setEnable);
                  }),
                  (r.disable = function () {
                    c.emitEvents(this._setDisable);
                  }),
                  s(e, [
                    {
                      key: "active",
                      get: function () {
                        return (
                          this._buttonState === M.Active ||
                          this._buttonState === M.ActiveNSelected
                        );
                      },
                    },
                  ]),
                  e
                );
              })(h)).prototype,
              "_setName",
              [_],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (N = e(A.prototype, "_setCost", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (L = e(A.prototype, "_button", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (I = e(A.prototype, "_setButtonActive", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = e(A.prototype, "_setButtonInactive", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = e(A.prototype, "_hideButton", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = e(A.prototype, "_hideClickedButton", [B], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = e(A.prototype, "_setEnable", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (F = e(A.prototype, "_setDisable", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (R = e(A.prototype, "_setButtonSelected", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (V = e(A.prototype, "_setButtonDeselected", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (j = e(A.prototype, "_setButtonLocked", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (q = e(A.prototype, "_setButtonUnlocked", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (x = e(A.prototype, "_buttonState", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return M.None;
              },
            })),
            (D = A))
          ) || D)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerDestructor.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./TowerEvents.ts",
    "./BaseTower.ts",
  ],
  function (e) {
    "use strict";
    var t, r, i, n, o, s, u, c, l, a, p, d;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (s = e._decorator),
            (u = e.Node),
            (c = e.EventHandler),
            (l = e.Component);
        },
        function (e) {
          a = e.projectEvent;
        },
        function (e) {
          p = e.TowerEvents;
        },
        function (e) {
          d = e.BaseTower;
        },
      ],
      execute: function () {
        var h, f, D, v, w, y, b, _, g, m, T;
        o._RF.push({}, "730c2m+dVlIkomlZBav90dv", "TowerDestructor", void 0);
        var F = s.ccclass,
          E = s.property;
        e(
          "TowerDestructor",
          ((h = F("TowerDestructor")),
          (f = E({ visible: !0, type: u })),
          (D = E({ visible: !0, type: [c], group: "On Destruct" })),
          (v = E({ visible: !0, type: [c], group: "On Destruct Finished" })),
          (w = E({ visible: !0, group: "On Destruct Finished" })),
          h(
            ((_ = t(
              (b = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, o = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    o[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(o)) || this),
                    i(t, "_towerHolder", _, n(t)),
                    i(t, "_onDestruct", g, n(t)),
                    i(t, "_onDestructFinished", m, n(t)),
                    i(t, "_destructFinishDelay", T, n(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  (t.prototype.destructTower = function () {
                    var e = this,
                      t = this._towerHolder.getComponentInChildren(d);
                    t.beginDestruction(),
                      a.emit(p[p.Tower_DestroyedTower], t),
                      c.emitEvents(this._onDestruct),
                      this.scheduleOnce(function () {
                        t.finishDestruction(),
                          c.emitEvents(e._onDestructFinished);
                      }, this._destructFinishDelay);
                  }),
                  t
                );
              })(l)).prototype,
              "_towerHolder",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (g = t(b.prototype, "_onDestruct", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (m = t(b.prototype, "_onDestructFinished", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (T = t(b.prototype, "_destructFinishDelay", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (y = b))
          ) || y)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, i, a, o, s, c, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (s = e._decorator), (c = e.Enum);
        },
        function (e) {
          u = e.TowerEvents;
        },
        function (e) {
          l = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var v, p, f, y, d, h, _;
        o._RF.push({}, "cd32dlNM6hEkokUGHlLV8y+", "TowerEventRaiser", void 0);
        var w = s.ccclass,
          E = s.property;
        e(
          "TowerEventRaiser",
          ((v = w("TowerEventRaiser")),
          (p = E({ visible: !0, type: c(u) })),
          (f = E({ visible: !0 })),
          v(
            ((h = t(
              (d = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_eventID", h, i(t)),
                    n(t, "_data", _, i(t)),
                    t
                  );
                }
                return (
                  r(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Tower_None;
                },
              }
            )),
            (_ = t(d.prototype, "_data", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = d))
          ) || y)
        );
        o._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TowerEvents.ts", ["cc"], function (e) {
  "use strict";
  var o;
  return {
    setters: [
      function (e) {
        o = e.cclegacy;
      },
    ],
    execute: function () {
      var r;
      e("TowerEvents", void 0),
        o._RF.push({}, "bc7870/0DhFwoCaOTur/XrR", "TowerEvents", void 0),
        (function (e) {
          (e[(e.Tower_None = 0)] = "Tower_None"),
            (e[(e.Tower_ShowConstructionUI = 1)] = "Tower_ShowConstructionUI"),
            (e[(e.Tower_ConstructTower = 2)] = "Tower_ConstructTower"),
            (e[(e.Tower_CancelledTowerConstruction = 3)] =
              "Tower_CancelledTowerConstruction"),
            (e[(e.Tower_HideConstructionUI = 4)] = "Tower_HideConstructionUI"),
            (e[(e.Tower_ShowUpgradesUI = 5)] = "Tower_ShowUpgradesUI"),
            (e[(e.Tower_HideUpgradesUI = 6)] = "Tower_HideUpgradesUI"),
            (e[(e.Tower_UpgradeTower = 7)] = "Tower_UpgradeTower"),
            (e[(e.Tower_CancelledTowerUpgrade = 8)] =
              "Tower_CancelledTowerUpgrade"),
            (e[(e.Tower_Upgraded = 9)] = "Tower_Upgraded"),
            (e[(e.Tower_DestroyTower = 10)] = "Tower_DestroyTower"),
            (e[(e.Tower_DestroyedTower = 11)] = "Tower_DestroyedTower"),
            (e[(e.Tower_ConstructionUIShowInfo = 12)] =
              "Tower_ConstructionUIShowInfo"),
            (e[(e.Tower_UpgradeShowInfo = 13)] = "Tower_UpgradeShowInfo");
        })(r || (r = e("TowerEvents", {}))),
        o._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TowerEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, o, c, a, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (c = e._decorator), (a = e.Enum);
        },
        function (e) {
          u = e.TowerEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, f, w, y;
        o._RF.push(
          {},
          "b1095ptzkVKS5ePz++tOAKw",
          "TowerEventsListener",
          void 0
        );
        var E = c.ccclass,
          h = c.property;
        e(
          "TowerEventsListener",
          ((v = E("TowerEventsListener")),
          (p = h({ visible: !0, type: a(u) })),
          v(
            ((y = t(
              (w = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", y, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Tower_None;
                },
              }
            )),
            (f = w))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerInfoUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowersData.ts",
    "./TowerContructionEntryData.ts",
  ],
  function (e) {
    "use strict";
    var t, i, a, r, n, s, o, l, p, u, c;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (r = e.assertThisInitialized);
        },
        function (e) {
          (n = e.cclegacy),
            (s = e._decorator),
            (o = e.EventHandler),
            (l = e.CCString),
            (p = e.Component);
        },
        function (e) {
          u = e.TowerData;
        },
        function (e) {
          c = e.UpgradeEntryDataType;
        },
      ],
      execute: function () {
        var d, m, b, g, _, v, y, f, h, w, D, E, T, S, z, N, U, C, I, R, P, L, V;
        n._RF.push({}, "9724cyw/qJC54XASWo2Oks7", "TowerInfoUI", void 0);
        var k = s.ccclass,
          A = s.property;
        e(
          "TowerInfoUI",
          ((d = k("TowerInfoUI")),
          (m = A({ visible: !0, type: o, group: "General" })),
          (b = A({ visible: !0, type: o, group: "General" })),
          (g = A({ visible: !0, type: o, group: "Contruct" })),
          (_ = A({ visible: !0, type: o, group: "Contruct" })),
          (v = A({ visible: !0, type: o, group: "Contruct" })),
          (y = A({ visible: !0, type: o, group: "Contruct" })),
          (f = A({ visible: !0, type: o, group: "Contruct" })),
          (h = A({ visible: !0, type: l, group: "Upgrade" })),
          (w = A({ visible: !0, type: l, group: "Upgrade" })),
          (D = A({ visible: !0, type: l, group: "Upgrade" })),
          d(
            ((S = t(
              (T = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, n = new Array(i), s = 0;
                    s < i;
                    s++
                  )
                    n[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(n)) || this),
                    a(t, "_enableStats", S, r(t)),
                    a(t, "_disableStats", z, r(t)),
                    a(t, "_setName", N, r(t)),
                    a(t, "_setDescription", U, r(t)),
                    a(t, "_setDamage", C, r(t)),
                    a(t, "_setSpeed", I, r(t)),
                    a(t, "_setRange", R, r(t)),
                    a(t, "_destroyTowerTitle", P, r(t)),
                    a(t, "_destroyTowerDescription", L, r(t)),
                    a(t, "_levelUpTowerDescription", V, r(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  (t.prototype.setTowerInfo = function (e) {
                    e instanceof u
                      ? (o.emitEvents(this._setName, e.readableName),
                        o.emitEvents(this._setDescription, e.description),
                        o.emitEvents(this._setDamage, e.damage),
                        o.emitEvents(this._setRange, e.range),
                        o.emitEvents(this._setSpeed, e.speed),
                        o.emitEvents(this._enableStats))
                      : e.type === c.Destroy
                      ? (o.emitEvents(
                          this._setName,
                          this._destroyTowerTitle
                            .replace("{data.name}", e.data.readableName)
                            .replace(
                              "{data.value}",
                              e.data.energyValue.toString()
                            )
                        ),
                        o.emitEvents(
                          this._setDescription,
                          this._destroyTowerDescription
                            .replace("{data.name}", e.data.readableName)
                            .replace(
                              "{data.value}",
                              e.data.energyValue.toString()
                            )
                        ),
                        o.emitEvents(this._disableStats))
                      : e.isLevelUp
                      ? (o.emitEvents(this._setName, e.data.readableName),
                        o.emitEvents(
                          this._setDescription,
                          this._levelUpTowerDescription
                            .replace("{data.name}", e.data.readableName)
                            .replace(
                              "{data.value}",
                              e.data.energyValue.toString()
                            )
                        ),
                        o.emitEvents(this._setDamage, e.data.damagePlus),
                        o.emitEvents(this._setRange, e.data.rangePlus),
                        o.emitEvents(this._setSpeed, e.data.speedPlus),
                        o.emitEvents(this._enableStats))
                      : (o.emitEvents(this._setName, e.data.readableName),
                        o.emitEvents(this._setDescription, e.data.description),
                        o.emitEvents(this._setDamage, e.data.damage),
                        o.emitEvents(this._setRange, e.data.range),
                        o.emitEvents(this._setSpeed, e.data.speed),
                        o.emitEvents(this._enableStats));
                  }),
                  t
                );
              })(p)).prototype,
              "_enableStats",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (z = t(T.prototype, "_disableStats", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (N = t(T.prototype, "_setName", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (U = t(T.prototype, "_setDescription", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (C = t(T.prototype, "_setDamage", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (I = t(T.prototype, "_setSpeed", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (R = t(T.prototype, "_setRange", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (P = t(T.prototype, "_destroyTowerTitle", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (L = t(T.prototype, "_destroyTowerDescription", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (V = t(T.prototype, "_levelUpTowerDescription", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (E = T))
          ) || E)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerModelsUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./LevelHintData.ts",
    "./SetModelsToUI.ts",
    "./TowersData.ts",
  ],
  function (e) {
    "use strict";
    var t, r, i, o, n, a, s, l, u, w, c, f, d, p, h;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.initializerDefineProperty),
            (i = e.inheritsLoose),
            (o = e.assertThisInitialized),
            (n = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (l = e.Node),
            (u = e.Prefab),
            (w = e.instantiate),
            (c = e.Component);
        },
        function (e) {
          (f = e.LevelHintData), (d = e.HintDataDisplayType);
        },
        function (e) {
          p = e.SetModelsToUI;
        },
        function (e) {
          h = e.TowersData;
        },
      ],
      execute: function () {
        var b, T, y, D, _, v, P, M, I, g, U, m, H, z, B, L, C, N, S, k;
        a._RF.push({}, "34d5dMnUohLwIpOOtI38H+y", "TowerModelsUI", void 0);
        var F = s.ccclass,
          O = s.property;
        e(
          "TowerModelData",
          ((b = F("TowerModelData")),
          (T = O({ visible: !0, type: l })),
          (y = O({ visible: !0 })),
          b(
            ((v = t(
              (_ = function () {
                r(this, "towerNode", v, this), r(this, "towerID", P, this);
              }).prototype,
              "towerNode",
              [T],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (P = t(_.prototype, "towerID", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (D = _))
          ) || D)
        ),
          e(
            "TowerModelsUI",
            ((M = F("TowerModelsUI")),
            (I = O({ visible: !0, type: l })),
            (g = O({ visible: !0, type: l })),
            (U = O({ visible: !0, type: p })),
            (m = O({ visible: !0, type: u })),
            (H = O({ visible: !0, type: u })),
            M(
              ((L = t(
                (B = (function (e) {
                  function t() {
                    for (
                      var t, i = arguments.length, n = new Array(i), a = 0;
                      a < i;
                      a++
                    )
                      n[a] = arguments[a];
                    return (
                      (t = e.call.apply(e, [this].concat(n)) || this),
                      r(t, "_towerHeadParent", L, o(t)),
                      r(t, "_towerBaseParent", C, o(t)),
                      r(t, "_setModelsToUI", N, o(t)),
                      r(t, "_towersBasePrefab", S, o(t)),
                      r(t, "_towersDataPrefab", k, o(t)),
                      (t._towersData = null),
                      t
                    );
                  }
                  i(t, e);
                  var a = t.prototype;
                  return (
                    (a.hideTower = function () {}),
                    (a.showTower = function (e) {
                      if (e instanceof f)
                        e.displayType === d.Tower
                          ? this.showTower(e.displayTowerID)
                          : this.hideTower();
                      else if ("string" == typeof e) {
                        var t = this.towersData.gunTowers.find(function (t) {
                          return t.id === e;
                        });
                        t &&
                          this.instantiateTower(
                            t.headModel,
                            this._towerHeadParent
                          );
                        var r = this.towersData.cannonTowers.find(function (t) {
                          return t.id === e;
                        });
                        r &&
                          this.instantiateTower(
                            r.headModel,
                            this._towerHeadParent
                          );
                        var i = this.towersData.laserTowers.find(function (t) {
                          return t.id === e;
                        });
                        i &&
                          this.instantiateTower(
                            i.headModel,
                            this._towerHeadParent
                          ),
                          w(this._towersBasePrefab).setParent(
                            this._towerBaseParent
                          ),
                          this._setModelsToUI.setModelsToUI();
                      }
                    }),
                    (a.instantiateTower = function (e, t) {
                      var r = w(e);
                      r.setParent(t), r.setPosition(0, 0, 0);
                    }),
                    n(t, [
                      {
                        key: "towersData",
                        get: function () {
                          return (
                            null === this._towersData &&
                              (this._towersData =
                                this._towersDataPrefab.data.getComponent(h)),
                            this._towersData
                          );
                        },
                      },
                    ]),
                    t
                  );
                })(c)).prototype,
                "_towerHeadParent",
                [I],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return null;
                  },
                }
              )),
              (C = t(B.prototype, "_towerBaseParent", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (N = t(B.prototype, "_setModelsToUI", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (S = t(B.prototype, "_towersBasePrefab", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (k = t(B.prototype, "_towersDataPrefab", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (z = B))
            ) || z)
          );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerProgressionDataFactory.ts",
  [
    "cc",
    "./CannonTowerProgressionData.ts",
    "./GunTowerProgressionData.ts",
    "./LaserTowerProgressionData.ts",
  ],
  function (r) {
    "use strict";
    var e, o, n, t;
    return {
      setters: [
        function (r) {
          e = r.cclegacy;
        },
        function (r) {
          o = r.CannonTowerProgressionData;
        },
        function (r) {
          n = r.GunTowerProgressionData;
        },
        function (r) {
          t = r.LaserTowerProgressionData;
        },
      ],
      execute: function () {
        e._RF.push(
          {},
          "96381GwF9dE6ZNalFkGRJP3",
          "TowerProgressionDataFactory",
          void 0
        );
        r(
          "TowerProgressionDataFactory",
          (function () {
            function r() {}
            return (
              (r.create = function (r) {
                if ("guntower" === r.type) return new n(r);
                if ("cannontower" === r.type) return new o(r);
                if ("lasertower" === r.type) return new t(r);
                throw "Couldn't create BaseTowerProgressionData";
              }),
              r
            );
          })()
        );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerRangeScaler.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, r, i, n, a, l, s, o, c, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (n = e.assertThisInitialized),
            (a = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (l = e.cclegacy),
            (s = e._decorator),
            (o = e.Node),
            (c = e.Vec3),
            (u = e.Component);
        },
      ],
      execute: function () {
        var p, g, f, _, h, b, d, v, y, m, w, S, T;
        l._RF.push({}, "b902aOEwNdPBYlSlwTCn6gl", "TowerRangeScaler", void 0);
        var z = s.ccclass,
          R = s.property;
        e(
          "TowerRangeScaler",
          ((p = z("TowerRangeScaler")),
          (g = R({ visible: !0, type: [o] })),
          (f = R({ visible: !0 })),
          (_ = R({ visible: !0 })),
          (h = R({ visible: !0 })),
          (b = R({ visible: !0 })),
          p(
            ((y = t(
              (v = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), l = 0;
                    l < r;
                    l++
                  )
                    a[l] = arguments[l];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "_targets", y, n(t)),
                    i(t, "_scaleX", m, n(t)),
                    i(t, "_scaleY", w, n(t)),
                    i(t, "_scaleZ", S, n(t)),
                    i(t, "_multiplier", T, n(t)),
                    (t._range = -1),
                    t
                  );
                }
                r(t, e);
                var l = t.prototype;
                return (
                  (l.setRange = function (e) {
                    (this._range = e), this.updateTargets();
                  }),
                  (l.updateTargets = function () {
                    for (
                      var e,
                        t = this.getScale(this._range),
                        r = a(this._targets);
                      !(e = r()).done;

                    ) {
                      e.value.setWorldScale(t);
                    }
                  }),
                  (l.getScale = function (e) {
                    var t = e;
                    return new c(
                      this._scaleX ? t * this._multiplier : 1,
                      this._scaleY ? t * this._multiplier : 1,
                      this._scaleZ ? t * this._multiplier : 1
                    );
                  }),
                  (l.addTarget = function (e) {
                    if (
                      -1 ===
                      this._targets.findIndex(function (t) {
                        return t === e;
                      })
                    ) {
                      this._targets.push(e);
                      var t = this.getScale(this._range);
                      e.setWorldScale(t);
                    }
                  }),
                  (l.removeTarget = function (e) {
                    var t = this._targets.findIndex(function (t) {
                      return t === e;
                    });
                    -1 !== t && this._targets.splice(t, 1);
                  }),
                  t
                );
              })(u)).prototype,
              "_targets",
              [g],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (m = t(v.prototype, "_scaleX", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (w = t(v.prototype, "_scaleY", [_], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (S = t(v.prototype, "_scaleZ", [h], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (T = t(v.prototype, "_multiplier", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (d = v))
          ) || d)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowersData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LevelsController.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./UpgradesController.ts",
    "./TowerTypes.ts",
    "./TowerUpgradesDataController.ts",
    "./CannonTowerUpgradeData.ts",
    "./GunTowerUpgradeData.ts",
    "./LaserTowerUpgradeData.ts",
  ],
  function (e) {
    "use strict";
    var t, i, r, n, s, o, a, l, c, u, h, d, g, p, w, f, T, y, b, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.createClass),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (s = e.assertThisInitialized);
        },
        function (e) {
          (o = e.cclegacy),
            (a = e._decorator),
            (l = e.CCString),
            (c = e.Prefab),
            (u = e.Component);
        },
        function (e) {
          h = e.projectEvent;
        },
        function (e) {
          d = e.LevelsControllerEvents;
        },
        function (e) {
          g = e.saveGame;
        },
        function (e) {
          p = e.SaveGameKeys;
        },
        function (e) {
          w = e.upgradesController;
        },
        function (e) {
          f = e.TowerTypes;
        },
        function (e) {
          T = e.towerUpgradesDataController;
        },
        function (e) {
          y = e.CannonTowerUpgradeData;
        },
        function (e) {
          b = e.GunTowerUpgradeData;
        },
        function (e) {
          v = e.LaserTowerUpgradeData;
        },
      ],
      execute: function () {
        var m,
          D,
          k,
          _,
          L,
          C,
          z,
          U,
          I,
          S,
          P,
          G,
          V,
          B,
          M,
          x,
          N,
          j,
          A,
          F,
          K,
          R,
          E,
          q;
        o._RF.push({}, "08524cnmRxO0573l3kVRWOj", "TowersData", void 0);
        var O = a.ccclass,
          H = a.property,
          W = e(
            "TowerData",
            ((m = O("TowerData")),
            (D = H({ visible: !0 })),
            (k = H({ visible: !0 })),
            (_ = H({ visible: !0, multiline: !0 })),
            (L = H({ visible: !0 })),
            (C = H({ visible: !0, type: [l] })),
            (z = H({ visible: !0, type: c })),
            m(
              ((S = t(
                (I = (function () {
                  function e(t, i, r, s, o, a, l, c, u, w, f, T) {
                    n(this, "id", S, this),
                      n(this, "storeID", P, this),
                      n(this, "description", G, this),
                      n(this, "readableName", V, this),
                      n(this, "upgradeID", B, this),
                      n(this, "headModel", M, this),
                      (this.energyCost = 0),
                      (this.levelUpCost = 0),
                      (this.speed = 0),
                      (this.speedPlus = 0),
                      (this.range = 0),
                      (this.rangePlus = 0),
                      (this.damage = 0),
                      (this.damagePlus = 0),
                      (this.energyValue = 0),
                      (this.energyValuePlus = 0),
                      (this._isLocked = !1),
                      "string" == typeof t
                        ? ((this.id = t),
                          (this.storeID = l),
                          (this.description = c),
                          (this.readableName = u),
                          (this.upgradeID = w),
                          (this.energyCost = o),
                          (this.speed = i),
                          (this.range = r),
                          (this.damage = s),
                          (this.energyValue = a),
                          (this.headModel = T),
                          (this._isLocked = f),
                          ("cannontower" !== this.id &&
                            "lasertower" !== this.id) ||
                            (h.on(
                              d[d.LevelsController_UnlockedLevelsChanged],
                              this.checkBaseTowersLocks,
                              this
                            ),
                            this.checkBaseTowersLocks(
                              g.getData(p[p.SaveGameKeys_UnlockedLevels], 0)
                            )))
                        : t instanceof e &&
                          ((this.id = t.id),
                          (this.storeID = t.storeID),
                          (this.description = t.description),
                          (this.readableName = t.readableName),
                          (this.upgradeID = t.upgradeID),
                          (this.energyCost = t.energyCost),
                          (this.speed = t.speed),
                          (this.range = t.range),
                          (this.damage = t.damage),
                          (this.energyValue = t.energyValue),
                          (this.headModel = t.headModel),
                          (this._isLocked = t.isLocked),
                          (this.speedPlus = i),
                          (this.rangePlus = r),
                          (this.damagePlus = s),
                          (this.levelUpCost = o),
                          (this.energyValuePlus = a),
                          ("lasertower" !== this.id &&
                            "cannontower" !== this.id) ||
                            (h.off(
                              d[d.LevelsController_UnlockedLevelsChanged],
                              t.checkBaseTowersLocks,
                              t
                            ),
                            h.on(
                              d[d.LevelsController_UnlockedLevelsChanged],
                              this.checkBaseTowersLocks,
                              this
                            ),
                            this.checkBaseTowersLocks(
                              g.getData(p[p.SaveGameKeys_UnlockedLevels], 0)
                            )));
                  }
                  return (
                    (e.prototype.checkBaseTowersLocks = function (e) {
                      "cannontower" === this.id
                        ? (this._isLocked = e < 2)
                        : "lasertower" === this.id && (this._isLocked = e < 4);
                    }),
                    i(e, [
                      {
                        key: "isLocked",
                        get: function () {
                          return this._isLocked;
                        },
                      },
                    ]),
                    e
                  );
                })()).prototype,
                "id",
                [D],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                }
              )),
              (P = t(I.prototype, "storeID", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              })),
              (G = t(I.prototype, "description", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              })),
              (V = t(I.prototype, "readableName", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              })),
              (B = t(I.prototype, "upgradeID", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              })),
              (M = t(I.prototype, "headModel", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (U = I))
            ) || U)
          );
        e(
          "TowersData",
          ((x = O("TowersData")),
          (N = H({
            visible: !0,
            type: [W],
            group: "Gun",
            formerlySerializedAs: "gunTowers",
          })),
          (j = H({
            visible: !0,
            type: [W],
            group: "Cannon",
            formerlySerializedAs: "cannonTowers",
          })),
          (A = H({
            visible: !0,
            type: [W],
            group: "Laser",
            formerlySerializedAs: "laserTowers",
          })),
          x(
            ((R = t(
              (K = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, r = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    r[o] = arguments[o];
                  return (
                    ((t =
                      e.call.apply(e, [this].concat(r)) || this)._initialized =
                      !1),
                    n(t, "_gunTowers", R, s(t)),
                    n(t, "_cannonTowers", E, s(t)),
                    n(t, "_laserTowers", q, s(t)),
                    t
                  );
                }
                r(t, e);
                var o = t.prototype;
                return (
                  (o.initialize = function () {
                    (this._initialized = !0),
                      (this._gunTowers = this.getTowerStats(
                        this.gunTowers,
                        f.GunTower
                      )),
                      (this._cannonTowers = this.getTowerStats(
                        this.cannonTowers,
                        f.CannonTower
                      )),
                      (this._laserTowers = this.getTowerStats(
                        this.laserTowers,
                        f.LaserTower
                      ));
                  }),
                  (o.getTowerStats = function (e, t) {
                    for (
                      var i = [],
                        r = T.getTowerUpgrades(t).progressionData,
                        n = w.savedTowerUpgrades,
                        s = function (t) {
                          var s = r[t];
                          if (s.id.includes("-plus")) {
                            var o = i.findIndex(function (e) {
                                return s.id.includes(e.id);
                              }),
                              a = i.splice(o, 1)[0],
                              l = 0;
                            s instanceof b
                              ? (l = s.range)
                              : s instanceof y
                              ? (l = s.range.max)
                              : s instanceof v && (l = s.range),
                              i.push(
                                new W(
                                  a,
                                  s.shootFrequency,
                                  l,
                                  s.damage,
                                  s.energyCost,
                                  s.energyValue
                                )
                              );
                          } else {
                            var c = e.findIndex(function (e) {
                                return e.id === s.id;
                              }),
                              u = 0;
                            s instanceof b
                              ? (u = s.range)
                              : s instanceof y
                              ? (u = s.range.max)
                              : s instanceof v && (u = s.range);
                            var h = !1;
                            e[c].storeID.includes("-base") ||
                              (h = !n.find(function (t) {
                                return t.key === e[c].storeID;
                              }).owned),
                              i.push(
                                new W(
                                  e[c].id,
                                  s.shootFrequency,
                                  u,
                                  s.damage,
                                  s.energyCost,
                                  s.energyValue,
                                  e[c].storeID,
                                  e[c].description,
                                  e[c].readableName,
                                  e[c].upgradeID,
                                  h,
                                  e[c].headModel
                                )
                              );
                          }
                        },
                        o = 0;
                      o < r.length;
                      o++
                    )
                      s(o);
                    return i;
                  }),
                  (o.getTowers = function (e) {
                    return e === f.GunTower
                      ? this.gunTowers
                      : e === f.CannonTower
                      ? this.cannonTowers
                      : e === f.LaserTower
                      ? this.laserTowers
                      : void 0;
                  }),
                  i(t, [
                    {
                      key: "gunTowers",
                      get: function () {
                        return (
                          this._initialized || this.initialize(),
                          [].concat(this._gunTowers)
                        );
                      },
                    },
                    {
                      key: "cannonTowers",
                      get: function () {
                        return (
                          this._initialized || this.initialize(),
                          [].concat(this._cannonTowers)
                        );
                      },
                    },
                    {
                      key: "laserTowers",
                      get: function () {
                        return (
                          this._initialized || this.initialize(),
                          [].concat(this._laserTowers)
                        );
                      },
                    },
                  ]),
                  t
                );
              })(u)).prototype,
              "_gunTowers",
              [N],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (E = t(K.prototype, "_cannonTowers", [j], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (q = t(K.prototype, "_laserTowers", [A], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (F = K))
          ) || F)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerShopEntry.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./LevelsController.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./UpgradeControllerEvents.ts",
    "./UpgradesController.ts",
    "./TowerShopEntryData.ts",
    "./BaseShopEntry.ts",
  ],
  function (t) {
    "use strict";
    var e, r, n, a, s, i, o, l, u, c, h, d, p, f, w, _, y, D;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (a = t.assertThisInitialized),
            (s = t.createClass);
        },
        function (t) {
          (i = t.cclegacy), (o = t._decorator), (l = t.Prefab), (u = t.math);
        },
        function (t) {
          c = t.projectEvent;
        },
        function (t) {
          h = t.levelsController;
        },
        function (t) {
          d = t.TowersData;
        },
        function (t) {
          p = t.TowerTypes;
        },
        function (t) {
          f = t.UpgradeControllerEvents;
        },
        function (t) {
          w = t.upgradesController;
        },
        function (t) {
          _ = t.TowerShopEntryData;
        },
        function (t) {
          (y = t.ShopEntryState), (D = t.BaseShopEntry);
        },
      ],
      execute: function () {
        var T, g, v, I, b;
        i._RF.push({}, "77a88FwFMtCkZjVL/KGGjAk", "TowerShopEntry", void 0);
        var S = o.ccclass,
          C = o.property;
        t(
          "TowerShopEntry",
          ((T = S("TowerShopEntry")),
          (g = C({ visible: !0, type: l })),
          T(
            ((b = e(
              (I = (function (t) {
                function e() {
                  for (
                    var e, r = arguments.length, s = new Array(r), i = 0;
                    i < r;
                    i++
                  )
                    s[i] = arguments[i];
                  return (
                    (e = t.call.apply(t, [this].concat(s)) || this),
                    n(e, "_towersDataPrefab", b, a(e)),
                    (e._towersData = null),
                    (e._entryIndex = -1),
                    (e._gunTowersData = []),
                    (e._cannonTowersData = []),
                    (e._laserTowersData = []),
                    (e._onClicked = null),
                    (e._initialized = !1),
                    e
                  );
                }
                r(e, t);
                var i = e.prototype;
                return (
                  (i.onLoad = function () {
                    t.prototype.onLoad.call(this),
                      this.initializeData(),
                      this.initializeTowerEntry(0);
                  }),
                  (i.initializeData = function () {
                    this._initialized ||
                      ((this._initialized = !0),
                      (this._entryIndex = this.node.getSiblingIndex()),
                      (this._gunTowersData = [].concat(
                        this.towersData.getTowers(p.GunTower)
                      )),
                      this._gunTowersData.sort(function (t, e) {
                        var r = Number.parseInt(t.storeID.split("-")[2]),
                          n = Number.parseInt(e.storeID.split("-")[2]);
                        return u.clamp(r - n, -1, 1);
                      }),
                      (this._cannonTowersData = [].concat(
                        this.towersData.getTowers(p.CannonTower)
                      )),
                      this._cannonTowersData.sort(function (t, e) {
                        var r = Number.parseInt(t.storeID.split("-")[2]),
                          n = Number.parseInt(e.storeID.split("-")[2]);
                        return u.clamp(r - n, -1, 1);
                      }),
                      (this._laserTowersData = [].concat(
                        this.towersData.getTowers(p.LaserTower)
                      )),
                      this._laserTowersData.sort(function (t, e) {
                        var r = Number.parseInt(t.storeID.split("-")[2]),
                          n = Number.parseInt(e.storeID.split("-")[2]);
                        return u.clamp(r - n, -1, 1);
                      }));
                  }),
                  (i.onEnable = function () {
                    t.prototype.onEnable.call(this),
                      c.on(
                        f[f.UpgradeController_UpgradesResetted],
                        this.updateEntry,
                        this
                      ),
                      c.on(
                        f[f.UpgradeController_UpgradePurchased],
                        this.onUpgradePurchased,
                        this
                      );
                  }),
                  (i.onDisable = function () {
                    t.prototype.onDisable,
                      c.off(
                        f[f.UpgradeController_UpgradesResetted],
                        this.updateEntry,
                        this
                      ),
                      c.off(
                        f[f.UpgradeController_UpgradePurchased],
                        this.onUpgradePurchased,
                        this
                      );
                  }),
                  (i.initializeTowerEntry = function (e) {
                    var r, n, a;
                    this.initializeData();
                    var s = this.getTowersData(e, this),
                      i = p[e].toString().replace("Tower", "").toLowerCase(),
                      o = this.isBaseTowerAvailable(i),
                      l = s[this._entryIndex],
                      u =
                        null !=
                        (r =
                          null == (n = w.towerUpgrades[this._entryIndex - 1])
                            ? void 0
                            : n.cost)
                          ? r
                          : 0,
                      c = new _(l.storeID, u, this.onClicked.bind(this));
                    t.prototype.initialize.call(this, c);
                    var h = Math.floor(Math.log2(this._entryIndex + 1)),
                      d = w.savedTowerUpgrades,
                      f =
                        0 === this._entryIndex
                          ? o
                          : d.filter(function (t) {
                              return t.key.includes(i);
                            })[this._entryIndex - 1].owned,
                      D = h > 0 ? Math.floor((this._entryIndex - 1) / 2) : -1,
                      T = !1;
                    0 === D
                      ? (T = o)
                      : D > 0 &&
                        (T = d.filter(function (t) {
                          return t.key.includes(i);
                        })[D - 1].owned);
                    var g, v;
                    a = s[D];
                    0 === this._entryIndex
                      ? o
                        ? this.setState(y.Purchased)
                        : this.setState(y.Locked)
                      : !0 === f
                      ? this.setState(y.Purchased)
                      : 1 !== h || o
                      ? (1 === h && o && !1 === f) ||
                        (!0 === (null != (g = T) && g) && !1 === f)
                        ? this.setState(y.Available)
                        : !1 === (null != (v = T) && v) &&
                          this.setState(y.Locked)
                      : this.setState(y.Locked);
                  }),
                  (i.getTowersData = function (t, e) {
                    return t === p.GunTower
                      ? e._gunTowersData
                      : t === p.CannonTower
                      ? e._cannonTowersData
                      : t === p.LaserTower
                      ? e._laserTowersData
                      : [];
                  }),
                  (i.setOnClicked = function (t) {
                    this._onClicked = t;
                  }),
                  (i.onClicked = function () {
                    null !== this._onClicked && this._onClicked(this._data);
                  }),
                  (i.onUpgradePurchased = function (t) {
                    if (t instanceof _) {
                      var e,
                        r =
                          null !=
                          (e = Number.parseInt(this._data.id.split("-")[2]))
                            ? e
                            : -1,
                        n = Math.floor((r - 2) / 2);
                      (t.id === this._data.id || t.id.includes("-" + n)) &&
                        this.updateEntry();
                    }
                  }),
                  (i.updateEntry = function () {
                    if (this._data) {
                      var t = this._data.id.split("-")[1],
                        e = Math.floor(Math.log2(this._entryIndex + 1)),
                        r = e > 0 ? Math.floor((this._entryIndex - 1) / 2) : -1,
                        n = this.isBaseTowerAvailable(t);
                      if (0 === this._entryIndex)
                        n
                          ? this.setState(y.Purchased)
                          : this.setState(y.Locked);
                      else {
                        var a,
                          s,
                          i = w.savedTowerUpgrades,
                          o =
                            0 === this._entryIndex
                              ? n
                              : i.filter(function (e) {
                                  return e.key.includes(t);
                                })[this._entryIndex - 1].owned,
                          l = !1;
                        0 === r
                          ? (l = n)
                          : r > 0 &&
                            (l = i.filter(function (e) {
                              return e.key.includes(t);
                            })[r - 1].owned),
                          !0 === o
                            ? this.setState(y.Purchased)
                            : 1 !== e || n
                            ? (1 === e && n && !1 === o) ||
                              (!0 === (null != (a = l) && a) && !1 === o)
                              ? this.setState(y.Available)
                              : !1 === (null != (s = l) && s) &&
                                this.setState(y.Locked)
                            : this.setState(y.Locked);
                      }
                    }
                  }),
                  (i.isBaseTowerAvailable = function (t) {
                    var e = h.unlockedLevels;
                    if ("gun" === t) return !0;
                    if ("cannon" === t) {
                      if (e >= 2) return !0;
                    } else if ("laser" === t && e >= 4) return !0;
                    return !1;
                  }),
                  s(e, [
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(d)),
                          this._towersData
                        );
                      },
                    },
                  ]),
                  e
                );
              })(D)).prototype,
              "_towersDataPrefab",
              [g],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (v = I))
          ) || v)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerShopEntryData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseShopEntryData.ts"],
  function (t) {
    "use strict";
    var n, e, o;
    return {
      setters: [
        function (t) {
          n = t.inheritsLoose;
        },
        function (t) {
          e = t.cclegacy;
        },
        function (t) {
          o = t.BaseShopEntryData;
        },
      ],
      execute: function () {
        e._RF.push({}, "535ac7TDUxIxo8e5U6nlVmS", "TowerShopEntryData", void 0);
        t(
          "TowerShopEntryData",
          (function (t) {
            function e(n, e, o) {
              return t.call(this, n, e, o) || this;
            }
            return n(e, t), e;
          })(o)
        );
        e._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerShopEntryModel.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var r, t, i, o, n;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor), (t = e.initializerDefineProperty);
        },
        function (e) {
          (i = e.cclegacy), (o = e._decorator), (n = e.Node);
        },
      ],
      execute: function () {
        var l, a, c, u, p, s, b;
        i._RF.push(
          {},
          "2e0abJNMLdDVbINpc46IN2v",
          "TowerShopEntryModel",
          void 0
        );
        var y = o.ccclass,
          d = o.property;
        e(
          "TowerShopEntryModel",
          ((l = y("TowerShopEntryModel")),
          (a = d({ visible: !0, type: n })),
          (c = d({ visible: !0, type: n })),
          l(
            ((s = r(
              (p = function () {
                t(this, "head", s, this), t(this, "base", b, this);
              }).prototype,
              "head",
              [a],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (b = r(p.prototype, "base", [c], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (u = p))
          ) || u)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerShopUITreeLinesController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./LevelsController.ts",
    "./TowerTypes.ts",
    "./UpgradeControllerEvents.ts",
    "./UpgradesController.ts",
    "./TowerShopEntryData.ts",
  ],
  function (e) {
    "use strict";
    var r, n, t, o, i, l, s, a, u, c, p, d, T, f, h, w, g, L, b, v, y, C;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor),
            (n = e.initializerDefineProperty),
            (t = e.inheritsLoose),
            (o = e.assertThisInitialized),
            (i = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (l = e.cclegacy),
            (s = e._decorator),
            (a = e.Node),
            (u = e.Color),
            (c = e.EventTouch),
            (p = e.Enum),
            (d = e.Sprite),
            (T = e.Component);
        },
        function (e) {
          (f = e.logger), (h = e.LogCategory), (w = e.LogType);
        },
        function (e) {
          g = e.projectEvent;
        },
        function (e) {
          L = e.levelsController;
        },
        function (e) {
          b = e.TowerTypes;
        },
        function (e) {
          v = e.UpgradeControllerEvents;
        },
        function (e) {
          y = e.upgradesController;
        },
        function (e) {
          C = e.TowerShopEntryData;
        },
      ],
      execute: function () {
        var _, U, m, P, I, S, k, z, D, E, N, A, M, R, j, F, H, x, B, G, K, O, Y;
        l._RF.push(
          {},
          "4633boUp01PnK/YH7enPkIw",
          "TowerShopUITreeLinesController",
          void 0
        );
        var q = s.ccclass,
          J = s.property,
          Q = e(
            "TowerTreeLines",
            ((_ = q("TowerTreeLines")),
            (U = J({ visible: !0 })),
            (m = J({ visible: !0, type: [a] })),
            _(
              ((S = r(
                (I = function () {
                  n(this, "towerID", S, this), n(this, "lineNodes", k, this);
                }).prototype,
                "towerID",
                [U],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return "";
                  },
                }
              )),
              (k = r(I.prototype, "lineNodes", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              })),
              (P = I))
            ) || P)
          ),
          V = e(
            "ShopPageTowerTreeLines",
            ((z = q("ShopPageTowerTreeLines")),
            (D = J({ visible: !0, type: [Q] })),
            z(
              ((A = r(
                (N = function () {
                  n(this, "treeLines", A, this);
                }).prototype,
                "treeLines",
                [D],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                }
              )),
              (E = N))
            ) || E)
          );
        e(
          "TowerShopUITreeLinesController",
          ((M = q("TowerShopUITreeLinesController")),
          (R = J({ visible: !0, type: [V] })),
          (j = J({ visible: !0, type: u })),
          (F = J({ visible: !0, type: u })),
          (H = J({ visible: !0, type: u })),
          M(
            ((G = r(
              (B = (function (e) {
                function r() {
                  for (
                    var r, t = arguments.length, i = new Array(t), l = 0;
                    l < t;
                    l++
                  )
                    i[l] = arguments[l];
                  return (
                    (r = e.call.apply(e, [this].concat(i)) || this),
                    n(r, "_towerTreeLines", G, o(r)),
                    n(r, "_ownedTreeLineColor", K, o(r)),
                    n(r, "_availableTreeLineColor", O, o(r)),
                    n(r, "_lockedTreeLineColor", Y, o(r)),
                    (r._currentTab = b.None),
                    r
                  );
                }
                t(r, e);
                var l = r.prototype;
                return (
                  (l.onLoad = function () {
                    g.on(
                      v[v.UpgradeController_UpgradePurchased],
                      this.onUpgradePurchased,
                      this
                    ),
                      g.on(
                        v[v.UpgradeController_UpgradesResetted],
                        this.updateAllTreeLines,
                        this
                      );
                  }),
                  (l.onDestroy = function () {
                    g.off(
                      v[v.UpgradeController_UpgradePurchased],
                      this.onUpgradePurchased,
                      this
                    ),
                      g.off(
                        v[v.UpgradeController_UpgradesResetted],
                        this.updateAllTreeLines,
                        this
                      );
                  }),
                  (l.onUpgradePurchased = function (e) {
                    e instanceof C && this.updateAllTreeLines();
                  }),
                  (l.setTowers = function (e, r) {
                    if (e instanceof c) this.setTowers(r);
                    else if ("string" == typeof e)
                      try {
                        var n = Number.parseInt(e),
                          t = p.getList(b)[n];
                        this.setTowers(t.value);
                      } catch (r) {
                        f.log(
                          "Couldn't Parse data (" +
                            e +
                            ") at Set Towers " +
                            this.node.name +
                            " - " +
                            this.node.uuid,
                          h.UI,
                          w.Error
                        ),
                          this.setTowers(b.None);
                      }
                    else
                      "number" == typeof e &&
                        this._currentTab !== e &&
                        ((this._currentTab = e), this.updateAllTreeLines());
                  }),
                  (l.updateAllTreeLines = function () {
                    for (
                      var e = y.savedTowerUpgrades, r = 0;
                      r < this._towerTreeLines.treeLines.length;
                      r++
                    )
                      this.updateTreeLines(
                        r,
                        e,
                        this._towerTreeLines.treeLines
                      );
                  }),
                  (l.updateTreeLines = function (e, r, n) {
                    var t = n.find(function (r) {
                        return r.towerID === e.toString();
                      }),
                      o = L.unlockedLevels,
                      l = "";
                    this._currentTab === b.GunTower
                      ? (l = "towers-gun-" + e)
                      : this._currentTab === b.CannonTower
                      ? (l = "towers-cannon-" + e)
                      : this._currentTab === b.LaserTower &&
                        (l = "towers-laser-" + e);
                    var s = !1;
                    if (1 === Math.floor(Math.log2(e + 2)))
                      l.includes("-gun-")
                        ? (s = !0)
                        : l.includes("-cannon-")
                        ? o >= 2 && (s = !0)
                        : l.includes("-laser-") && o >= 4 && (s = !0);
                    else {
                      var a =
                        l.substring(0, l.length - 1) +
                        Math.floor((e + 2) / 2 - 2);
                      s = r.find(function (e) {
                        return e.key === a;
                      }).owned;
                    }
                    var c = r.find(function (e) {
                        return e.key === l;
                      }).owned,
                      p = new u();
                    (p = c
                      ? this._ownedTreeLineColor
                      : s
                      ? this._availableTreeLineColor
                      : this._lockedTreeLineColor),
                      r.find(function (e) {
                        return e.key === l;
                      }).owned
                        ? this._ownedTreeLineColor
                        : this._lockedTreeLineColor;
                    for (var T, f = i(t.lineNodes); !(T = f()).done; ) {
                      T.value.getComponent(d).color = p;
                    }
                  }),
                  r
                );
              })(T)).prototype,
              "_towerTreeLines",
              [R],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (K = r(B.prototype, "_ownedTreeLineColor", [j], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (O = r(B.prototype, "_availableTreeLineColor", [F], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (Y = r(B.prototype, "_lockedTreeLineColor", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (x = B))
          ) || x)
        );
        l._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TowerTypes.ts", ["cc"], function (e) {
  "use strict";
  var o;
  return {
    setters: [
      function (e) {
        o = e.cclegacy;
      },
    ],
    execute: function () {
      var r;
      e("TowerTypes", void 0),
        o._RF.push({}, "ccbf8AjJvNJP74VXkKogsk2", "TowerTypes", void 0),
        (function (e) {
          (e[(e.GunTower = 0)] = "GunTower"),
            (e[(e.CannonTower = 1)] = "CannonTower"),
            (e[(e.LaserTower = 2)] = "LaserTower"),
            (e[(e.None = 3)] = "None");
        })(r || (r = e("TowerTypes", {}))),
        o._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TowerUpgrade.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./BaseUpgrade.ts"],
  function (n) {
    "use strict";
    var e, r, t;
    return {
      setters: [
        function (n) {
          e = n.inheritsLoose;
        },
        function (n) {
          r = n.cclegacy;
        },
        function (n) {
          t = n.BaseUpgrade;
        },
      ],
      execute: function () {
        r._RF.push({}, "cea66pv0BZPB7TdnaWqrOSN", "TowerUpgrade", void 0);
        n(
          "TowerUpgrade",
          (function (n) {
            function r(e) {
              var r;
              return (
                ((r = n.call(this, e) || this).gun = null),
                (r.cannon = null),
                (r.laser = null),
                (r.gun = e.gun),
                (r.cannon = e.cannon),
                (r.laser = e.laser),
                r
              );
            }
            return e(r, n), r;
          })(t)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgradeDataControllerEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var r;
    return {
      setters: [
        function (e) {
          r = e.cclegacy;
        },
      ],
      execute: function () {
        var t;
        e("TowerUpgradeDataControllerEvents", void 0),
          r._RF.push(
            {},
            "06eacdp6ZlGyLD5tjQiPP0a",
            "TowerUpgradeDataControllerEvents",
            void 0
          ),
          (function (e) {
            e[(e.TowerUpgradeDataController_Loaded = 0)] =
              "TowerUpgradeDataController_Loaded";
          })(t || (t = e("TowerUpgradeDataControllerEvents", {}))),
          r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgradeEntryData.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TowerContructionUIEntry.ts",
    "./TowerContructionEntryData.ts",
  ],
  function (t) {
    "use strict";
    var e, r, n, i, o, a, u, y, c;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (r = t.createClass),
            (n = t.initializerDefineProperty);
        },
        function (t) {
          (i = t.cclegacy), (o = t._decorator), (a = t.Node), (u = t.Enum);
        },
        function (t) {
          y = t.TowerContructionUIEntry;
        },
        function (t) {
          c = t.UpgradeEntryDataType;
        },
      ],
      execute: function () {
        var l, s, p, d, f, g, h;
        i._RF.push(
          {},
          "480643YPvtPzImoRyHdLE0j",
          "TowerUpgradeEntryData",
          void 0
        );
        var E = o.ccclass,
          T = o.property;
        t(
          "TowerUpgradeEntryData",
          ((l = E("TowerUpgradeEntryData")),
          (s = T({ visible: !0, type: a })),
          (p = T({ visible: !0, type: u(c) })),
          l(
            ((g = e(
              (f = (function () {
                function t() {
                  n(this, "entryNode", g, this),
                    (this._entry = null),
                    n(this, "entryType", h, this);
                }
                return (
                  r(t, [
                    {
                      key: "entry",
                      get: function () {
                        return (
                          null === this._entry &&
                            (this._entry = this.entryNode.getComponent(y)),
                          this._entry
                        );
                      },
                    },
                  ]),
                  t
                );
              })()).prototype,
              "entryNode",
              [s],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (h = e(f.prototype, "entryType", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (d = f))
          ) || d)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgradeID.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var r, t, i, o, n;
    return {
      setters: [
        function (e) {
          (r = e.applyDecoratedDescriptor), (t = e.initializerDefineProperty);
        },
        function (e) {
          (i = e.cclegacy), (o = e._decorator), (n = e.Node);
        },
      ],
      execute: function () {
        var l, a, c, u, p, s, d;
        i._RF.push({}, "46d94PR68VKCqLnV2++tDTe", "TowerUpgradeID", void 0);
        var f = o.ccclass,
          D = o.property;
        e(
          "TowerUpgradeID",
          ((l = f("TowerUpgradeID")),
          (a = D({ visible: !0 })),
          (c = D({ visible: !0, type: n })),
          l(
            ((s = r(
              (p = function () {
                t(this, "modelID", s, this), t(this, "modelNode", d, this);
              }).prototype,
              "modelID",
              [a],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (d = r(p.prototype, "modelNode", [c], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (u = p))
          ) || u)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgrader.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnergySystem.ts",
    "./EnergyEvents.ts",
    "./TowerEvents.ts",
    "./BaseTower.ts",
    "./TowersData.ts",
  ],
  function (e) {
    "use strict";
    var t, r, o, n, i, a, s, u, p, d, l, c, g, w, f, h, _;
    return {
      setters: [
        function (e) {
          (t = e.createClass),
            (r = e.applyDecoratedDescriptor),
            (o = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (s = e._decorator),
            (u = e.EventHandler),
            (p = e.Prefab),
            (d = e.Component);
        },
        function (e) {
          l = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          g = e.ConsumeEnergyRequest;
        },
        function (e) {
          w = e.EnergyEvents;
        },
        function (e) {
          f = e.TowerEvents;
        },
        function (e) {
          h = e.BaseTower;
        },
        function (e) {
          _ = e.TowersData;
        },
      ],
      execute: function () {
        var v, y, U, T, D, m, C;
        a._RF.push({}, "642bcspAnpEK4LUpupK8i0T", "TowerUpgrader", void 0);
        var b = s.ccclass,
          E = s.property;
        e(
          "UpgradeTowerRequest",
          (function () {
            function e(e, t, r) {
              (this._upgradeID = void 0),
                (this._onComplete = void 0),
                (this._onFailed = void 0),
                (this._upgradeID = e),
                (this._onComplete = t),
                (this._onFailed = r);
            }
            return (
              t(e, [
                {
                  key: "upgradeID",
                  get: function () {
                    return this._upgradeID;
                  },
                },
                {
                  key: "onComplete",
                  get: function () {
                    return this._onComplete;
                  },
                },
                {
                  key: "onFailed",
                  get: function () {
                    return this._onFailed;
                  },
                },
              ]),
              e
            );
          })()
        ),
          e(
            "TowerUpgrader",
            ((v = b("TowerUpgrader")),
            (y = E({ visible: !0, type: [u] })),
            (U = E({ visible: !0, type: p })),
            v(
              ((m = r(
                (D = (function (e) {
                  function r() {
                    for (
                      var t, r = arguments.length, o = new Array(r), a = 0;
                      a < r;
                      a++
                    )
                      o[a] = arguments[a];
                    return (
                      ((t = e.call.apply(e, [this].concat(o)) || this)._tower =
                        null),
                      n(t, "_onUpgraded", m, i(t)),
                      n(t, "_towersDataPrefab", C, i(t)),
                      (t._towersData = null),
                      t
                    );
                  }
                  o(r, e);
                  var a = r.prototype;
                  return (
                    (a.setTower = function (e) {
                      e instanceof h && (this._tower = e);
                    }),
                    (a.showTowerUpgradesUI = function () {
                      if (this._tower) {
                        var e = {
                          upgrades: this._tower.towerUpgradesInfo,
                          position: this._tower.node.worldPosition,
                          type: this._tower.towerType,
                          currentState: this._tower.currentUpgradeState,
                        };
                        c.emit(f[f.Tower_ShowUpgradesUI], e);
                      }
                    }),
                    (a.upgrade = function (e) {
                      var t = this;
                      if (this._tower) {
                        var r = e.isLevelUp
                            ? e.upgrade.levelUpCost
                            : e.upgrade.energyCost,
                          o = new g(
                            r,
                            function () {
                              return t.finishTowerUpgrade(
                                e.upgrade,
                                e.isLevelUp
                              );
                            },
                            function () {
                              return t.failedTowerUpgrade(
                                e.upgrade,
                                e.isLevelUp
                              );
                            }
                          );
                        c.emit(w[w.Energy_Consume], o);
                      }
                    }),
                    (a.finishTowerUpgrade = function (e, t) {
                      var r = t ? e.id + "-plus" : e.id,
                        o = t ? e.levelUpCost : e.energyCost;
                      -1 !==
                        (t
                          ? [this._tower.towerInfo.id]
                          : this._tower.towerInfo.upgradeID
                        ).findIndex(function (t) {
                          return t === e.id;
                        }) &&
                        (this._tower.upgradeTo(r),
                        u.emitEvents(this._onUpgraded),
                        l.log(
                          "Tower upgrader: Upgraded to " + r + " with cost " + o
                        ));
                    }),
                    (a.failedTowerUpgrade = function (e, t) {
                      var r = t ? e.id + "-plus" : e.id,
                        o = t ? e.levelUpCost : e.energyCost;
                      l.log(
                        "Tower upgrader: Upgraded to " + r + " with cost " + o
                      );
                    }),
                    t(r, [
                      {
                        key: "towersData",
                        get: function () {
                          return (
                            null === this._towersData &&
                              (this._towersData =
                                this._towersDataPrefab.data.getComponent(_)),
                            this._towersData
                          );
                        },
                      },
                    ]),
                    r
                  );
                })(d)).prototype,
                "_onUpgraded",
                [y],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return [];
                  },
                }
              )),
              (C = r(D.prototype, "_towersDataPrefab", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              })),
              (T = D))
            ) || T)
          );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgradesDataController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./GunTowerProgressionData.ts",
    "./CannonTowerProgressionData.ts",
    "./LaserTowerProgressionData.ts",
    "./TowerTypes.ts",
    "./TowerUpgradeDataControllerEvents.ts",
    "./TowerProgressionDataFactory.ts",
  ],
  function (r) {
    "use strict";
    var e, o, t, n, a, s, i, u, c, l, g, d, p, f, w;
    return {
      setters: [
        function (r) {
          e = r.createForOfIteratorHelperLoose;
        },
        function (r) {
          (o = r.cclegacy),
            (t = r._decorator),
            (n = r.game),
            (a = r.Game),
            (s = r.resources),
            (i = r.JsonAsset);
        },
        function (r) {
          u = r.logger;
        },
        function (r) {
          c = r.projectEvent;
        },
        function (r) {
          l = r.GunTowerProgressionData;
        },
        function (r) {
          g = r.CannonTowerProgressionData;
        },
        function (r) {
          d = r.LaserTowerProgressionData;
        },
        function (r) {
          p = r.TowerTypes;
        },
        function (r) {
          f = r.TowerUpgradeDataControllerEvents;
        },
        function (r) {
          w = r.TowerProgressionDataFactory;
        },
      ],
      execute: function () {
        o._RF.push(
          {},
          "89653G/c/xH9b8SXKZ5VCas",
          "TowerUpgradesDataController",
          void 0
        );
        t.ccclass, t.property;
        var T = r(
          "TowerUpgradeDataController",
          (function () {
            function r() {
              var r = this;
              (this._towerUpgrades = []),
                n.on(
                  a.EVENT_GAME_INITED,
                  function () {
                    s.load(
                      "Towers/towers-upgrades",
                      i,
                      null,
                      r.onLoadCompleted.bind(r)
                    );
                  },
                  this
                );
            }
            var o = r.prototype;
            return (
              (o.onLoadCompleted = function (r, o) {
                if (null == r) {
                  var t = o.json;
                  if (Array.isArray(t)) {
                    for (var n, a = e(t); !(n = a()).done; ) {
                      var s = n.value,
                        i = w.create(s);
                      this._towerUpgrades.push(i);
                    }
                    c.emit(f[f.TowerUpgradeDataController_Loaded]);
                  } else u.log("Couldn't parse tower upgrades!");
                }
              }),
              (o.getTowerUpgrades = function (r) {
                return r === p.GunTower
                  ? this._towerUpgrades.find(function (r) {
                      return r instanceof l;
                    })
                  : r === p.CannonTower
                  ? this._towerUpgrades.find(function (r) {
                      return r instanceof g;
                    })
                  : r === p.LaserTower
                  ? this._towerUpgrades.find(function (r) {
                      return r instanceof d;
                    })
                  : void 0;
              }),
              r
            );
          })()
        );
        r("towerUpgradesDataController", new T());
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TowerUpgradesUI.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnergyEvents.ts",
    "./TowerEvents.ts",
    "./TowersData.ts",
    "./TowerTypes.ts",
    "./TowerContructionEntryData.ts",
    "./TowerUpgradeEntryData.ts",
  ],
  function (e) {
    "use strict";
    var t, r, n, i, a, o, s, u, l, c, p, d, g, y, f, h, _, U, b, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createForOfIteratorHelperLoose),
            (o = e.createClass);
        },
        function (e) {
          (s = e.cclegacy),
            (u = e._decorator),
            (l = e.EventHandler),
            (c = e.Prefab),
            (p = e.Component);
        },
        function (e) {
          d = e.logger;
        },
        function (e) {
          g = e.projectEvent;
        },
        function (e) {
          y = e.EnergyEvents;
        },
        function (e) {
          f = e.TowerEvents;
        },
        function (e) {
          (h = e.TowerData), (_ = e.TowersData);
        },
        function (e) {
          U = e.TowerTypes;
        },
        function (e) {
          b = e.UpgradeEntryDataType;
        },
        function (e) {
          v = e.TowerUpgradeEntryData;
        },
      ],
      execute: function () {
        var w, m, E, T, D, I, C, k, z, L, P, B, R, S, A, O, j, F, G, H, M, N, W;
        s._RF.push({}, "90668MDLy5GBJFMTozjY7sY", "TowerUpgradesUI", void 0);
        var Y = u.ccclass,
          x = u.property;
        e(
          "TowerUpgradesUI",
          ((w = Y("TowerUpgradesUI")),
          (m = x({ visible: !0, type: [l] })),
          (E = x({ visible: !0, type: [l] })),
          (T = x({ visible: !0, type: [v] })),
          (D = x({ visible: !0, type: [v] })),
          (I = x({ visible: !0, type: c })),
          (C = x({ visible: !0, type: [l] })),
          (k = x({ visible: !0, type: [l] })),
          (z = x({ visible: !0, type: [l] })),
          (L = x({ visible: !0, type: [l] })),
          (P = x({ visible: !0, type: [l] })),
          w(
            ((S = t(
              (R = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, a = new Array(r), o = 0;
                    o < r;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    n(t, "_showUI", S, i(t)),
                    n(t, "_hideUI", A, i(t)),
                    (t._upgrades = []),
                    n(t, "_tierUpUpgrades", O, i(t)),
                    n(t, "_commonUpgrades", j, i(t)),
                    n(t, "_towersDataPrefab", F, i(t)),
                    (t._towersData = null),
                    n(t, "_showUpgradeInfo", G, i(t)),
                    n(t, "_confirmUpgrade", H, i(t)),
                    n(t, "_confirmDestroy", M, i(t)),
                    n(t, "_setTierUpUI", N, i(t)),
                    n(t, "_setLevelUpUI", W, i(t)),
                    (t._currentEntryClicked = null),
                    (t._isBuyingUpgrade = !1),
                    (t._energyData = null),
                    t
                  );
                }
                r(t, e);
                var s = t.prototype;
                return (
                  (s.onLoad = function () {
                    g.on(y[y.Energy_Changed], this.onEnergyChanged, this);
                  }),
                  (s.onEnergyChanged = function (e) {
                    if (((this._energyData = e), !this._isBuyingUpgrade)) {
                      for (
                        var t, r = a(this._commonUpgrades);
                        !(t = r()).done;

                      ) {
                        t.value.entry.updateEnergy(e);
                      }
                      for (
                        var n, i = a(this._tierUpUpgrades);
                        !(n = i()).done;

                      ) {
                        n.value.entry.updateEnergy(e);
                      }
                    }
                  }),
                  (s.buttonClicked = function (e, t) {
                    if (t && "string" == typeof t) {
                      var r = Number.parseInt(t);
                      this.buttonClicked(e, r);
                    } else
                      "number" == typeof t &&
                        (d.log("UPGRADE TOWER: Clicked button: " + t),
                        g.emit(f[f.Tower_UpgradeTower], this._upgrades[t]),
                        this.hideUI());
                  }),
                  (s.showUI = function (e) {
                    var t = this;
                    if (
                      ((this._isBuyingUpgrade = !1), Array.isArray(e.upgrades))
                    ) {
                      t._upgrades = [].concat(e.upgrades);
                      var r = t.towersData,
                        n = void 0,
                        i = !e.currentState.includes("-plus");
                      if (
                        (i
                          ? (l.emitEvents(this._setLevelUpUI),
                            (n = t._commonUpgrades))
                          : (l.emitEvents(this._setTierUpUI),
                            (n = t._tierUpUpgrades)),
                        0 === t._upgrades.length)
                      )
                        for (var a = 0; a < n.length - 1; a++) {
                          n[a].entry.disable();
                        }
                      else
                        for (var o = 0; o < t._upgrades.length; o++) {
                          var s = o,
                            u = t._upgrades[o];
                          if (u instanceof h) {
                            var c = n[o];
                            c.entry.enable(),
                              c.entry.updateEnergy(this._energyData),
                              c.entry.initialize(
                                u,
                                this.onClicked.bind(this, u, c, i, s),
                                i,
                                !1
                              );
                          }
                        }
                      var p = n.length - 1,
                        d = n[n.length - 1],
                        g = void 0;
                      e.type === U.GunTower
                        ? (g = r.gunTowers.find(function (t) {
                            return e.currentState.includes(t.id);
                          }))
                        : e.type === U.CannonTower
                        ? (g = r.cannonTowers.find(function (t) {
                            return e.currentState.includes(t.id);
                          }))
                        : e.type === U.LaserTower &&
                          (g = r.laserTowers.find(function (t) {
                            return e.currentState.includes(t.id);
                          })),
                        d.entry.initialize(
                          g,
                          this.onClicked.bind(this, g, d, i, p),
                          i,
                          !0
                        ),
                        null !== this._currentEntryClicked &&
                          this._currentEntryClicked.entry.deselect(),
                        (this._currentEntryClicked = null),
                        l.emitEvents(t._showUI);
                    }
                  }),
                  (s.hideUI = function () {
                    l.emitEvents(this._hideUI);
                  }),
                  (s.hideButtons = function () {
                    for (
                      var e, t = a(this._commonUpgrades);
                      !(e = t()).done;

                    ) {
                      e.value.entry.hide();
                    }
                    for (
                      var r, n = a(this._tierUpUpgrades);
                      !(r = n()).done;

                    ) {
                      r.value.entry.hide();
                    }
                  }),
                  (s.onClicked = function () {
                    var e = arguments[0],
                      t = arguments[1],
                      r = arguments[2],
                      n = arguments[3];
                    r || this._currentEntryClicked === t
                      ? ((this._isBuyingUpgrade = !0),
                        n < this._upgrades.length
                          ? (d.log(
                              "UPGRADE TOWER: Clicked button: " + e.readableName
                            ),
                            g.emit(f[f.Tower_UpgradeTower], {
                              upgrade: this._upgrades[n],
                              isLevelUp: r,
                            }))
                          : (d.log(
                              "DESTROY TOWER: Clicked button: " + e.readableName
                            ),
                            g.emit(f[f.Tower_DestroyTower])),
                        this.hideUI(),
                        this.hideButtons(),
                        t.entryType === b.Upgrade
                          ? l.emitEvents(this._confirmUpgrade)
                          : l.emitEvents(this._confirmDestroy))
                      : (null !== this._currentEntryClicked &&
                          this._currentEntryClicked.entry.deselect(),
                        (this._currentEntryClicked = t),
                        this._currentEntryClicked.entry.select(),
                        l.emitEvents(this._showUpgradeInfo, {
                          data: e,
                          isLevelUp: r,
                          type: t.entryType,
                        }));
                  }),
                  o(t, [
                    {
                      key: "towersData",
                      get: function () {
                        return (
                          null === this._towersData &&
                            (this._towersData =
                              this._towersDataPrefab.data.getComponent(_)),
                          this._towersData
                        );
                      },
                    },
                  ]),
                  t
                );
              })(p)).prototype,
              "_showUI",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (A = t(R.prototype, "_hideUI", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (O = t(R.prototype, "_tierUpUpgrades", [T], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (j = t(R.prototype, "_commonUpgrades", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (F = t(R.prototype, "_towersDataPrefab", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (G = t(R.prototype, "_showUpgradeInfo", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = t(R.prototype, "_confirmUpgrade", [k], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (M = t(R.prototype, "_confirmDestroy", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (N = t(R.prototype, "_setTierUpUI", [L], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (W = t(R.prototype, "_setLevelUpUI", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (B = R))
          ) || B)
        );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TutorialController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./BlockEvents.ts",
    "./EnergyEvents.ts",
    "./GameEvents.ts",
    "./TowerEvents.ts",
    "./LevelsController.ts",
    "./TutorialEvents.ts",
    "./TutorialUIType.ts",
  ],
  function (t) {
    "use strict";
    var i, o, e, r, s, n, a, l, u, h, c, _, d, g, p, w, f, T;
    return {
      setters: [
        function (t) {
          (i = t.applyDecoratedDescriptor),
            (o = t.inheritsLoose),
            (e = t.initializerDefineProperty),
            (r = t.assertThisInitialized),
            (s = t.createForOfIteratorHelperLoose);
        },
        function (t) {
          (n = t.cclegacy),
            (a = t._decorator),
            (l = t.CCInteger),
            (u = t.Component);
        },
        function (t) {
          h = t.logger;
        },
        function (t) {
          c = t.projectEvent;
        },
        function (t) {
          _ = t.BlockEvents;
        },
        function (t) {
          d = t.EnergyEvents;
        },
        function (t) {
          g = t.GameEvents;
        },
        function (t) {
          p = t.TowerEvents;
        },
        function (t) {
          w = t.levelsController;
        },
        function (t) {
          f = t.TutorialEvents;
        },
        function (t) {
          T = t.TutorialUIType;
        },
      ],
      execute: function () {
        var v, U, C, I, y, S, E, m, D, W, b;
        n._RF.push({}, "c75d1lxJgZOt6RDeS6sCJMj", "TutorialController", void 0);
        var B = a.ccclass,
          x = a.property;
        t(
          "TutorialController",
          ((v = B("TutorialController")),
          (U = x({ visible: !0 })),
          (C = x({ visible: !0 })),
          (I = x({ visible: !0, type: [l] })),
          (y = x({ visible: !0, type: [l] })),
          v(
            ((m = i(
              (E = (function (t) {
                function i() {
                  for (
                    var i, o = arguments.length, s = new Array(o), n = 0;
                    n < o;
                    n++
                  )
                    s[n] = arguments[n];
                  return (
                    ((i = t.call.apply(t, [this].concat(s)) || this)._slots =
                      []),
                    (i._towersBuilt = 0),
                    (i._towersUpgraded = 0),
                    e(i, "_towersToUpgrade", m, r(i)),
                    e(i, "_tutorialStartDelay", D, r(i)),
                    e(i, "_towersIDConstructionOrder", W, r(i)),
                    e(i, "_towersIDUpgradeOrder", b, r(i)),
                    (i._hasEnergy = !0),
                    (i._isActive = !1),
                    (i._isWaitingConstructionUI = !1),
                    (i._isWaitingUpgradeUI = !1),
                    (i._isWaitingConstructionConfirmation = !1),
                    (i._isWaitingUpgradeConfirmation = !1),
                    (i._lastEnergyData = null),
                    i
                  );
                }
                o(i, t);
                var n = i.prototype;
                return (
                  (n.onLoad = function () {
                    c.on(_[_.Block_SlotCreated], this.onSlotCreated, this);
                  }),
                  (n.setCurrentLevel = function (t) {
                    1 === t &&
                      (c.once(g[g.Game_Started], this.startTutorial, this),
                      c.on(
                        p[p.Tower_ConstructTower],
                        this.onTowerConstructed,
                        this
                      ),
                      c.on(p[p.Tower_UpgradeTower], this.onTowerUpgraded, this),
                      c.on(
                        p[p.Tower_ShowConstructionUI],
                        this.onShowConstructionUI,
                        this
                      ),
                      c.on(
                        p[p.Tower_ShowUpgradesUI],
                        this.onShowUpgradeUI,
                        this
                      ),
                      c.on(d[d.Energy_Changed], this.onEnergyChanged, this),
                      c.on(
                        p[p.Tower_ConstructionUIShowInfo],
                        this.onShowConstructionUIShowInfo,
                        this
                      ));
                  }),
                  (n.onSlotCreated = function (t) {
                    -1 ===
                      this._slots.findIndex(function (i) {
                        return i === t;
                      }) &&
                      (this._slots.push(t),
                      0 == w.unlockedLevels && t.deactivate(!0));
                  }),
                  (n.onTowerConstructed = function (t) {
                    var i = this;
                    if (this._isActive) {
                      var o = this._slots.find(function (t) {
                        return (
                          t.slotID ===
                          i._towersIDConstructionOrder[i._towersBuilt]
                        );
                      });
                      this._towersBuilt++,
                        this.scheduleOnce(function () {
                          if( o && 'deactivate' in o && typeof o.deactivate === 'function') {
                            o.deactivate(!0);
                          }
                        }, 0.5),
                        this._isWaitingConstructionConfirmation &&
                          ((this._isWaitingConstructionConfirmation = !1),
                          c.emit(f[f.Tutorial_Hide]));
                    }
                  }),
                  (n.onTowerUpgraded = function (t) {
                    this._isActive &&
                      (this._towersUpgraded++,
                      this._isWaitingUpgradeConfirmation &&
                        ((this._isWaitingUpgradeConfirmation = !1),
                        c.emit(f[f.Tutorial_Hide]),
                        this._towersUpgraded >=
                          this._towersIDUpgradeOrder.length &&
                          this.finishedTutorial()));
                  }),
                  (n.onEnergyChanged = function (t) {
                    this._isActive &&
                      (this._hasEnergy
                        ? this._towersBuilt < this._towersToUpgrade
                          ? t.current < 2
                            ? (this._hasEnergy = !1)
                            : null !== this._lastEnergyData &&
                              t.current >= 2 &&
                              t.current < this._lastEnergyData.current &&
                              this.showNextTutorialStep(!0, !1, !1, !1)
                          : this._towersBuilt >= this._towersToUpgrade &&
                            this._towersUpgraded <
                              this._towersIDUpgradeOrder.length &&
                            t.current < 4 &&
                            (this._hasEnergy = !1)
                        : this._towersBuilt < this._towersToUpgrade &&
                          t.current >= 2
                        ? ((this._hasEnergy = !0),
                          this.showNextTutorialStep(!0, !1, !1, !1))
                        : this._towersBuilt >= this._towersToUpgrade &&
                          t.current >= 4 &&
                          this._towersUpgraded <
                            this._towersIDUpgradeOrder.length &&
                          ((this._hasEnergy = !0),
                          this.showNextTutorialStep(!1, !0, !1, !1)),
                      (this._lastEnergyData = t));
                  }),
                  (n.onShowConstructionUI = function () {
                    this._isActive &&
                      this._isWaitingConstructionUI &&
                      ((this._isWaitingConstructionUI = !1),
                      this.showNextTutorialStep(!1, !1, !0, !1));
                  }),
                  (n.onShowConstructionUIShowInfo = function () {
                    this._isActive &&
                      this._isWaitingConstructionUI &&
                      ((this._isWaitingConstructionUI = !1),
                      this.showNextTutorialStep(!1, !1, !1, !0));
                  }),
                  (n.onShowUpgradeUI = function () {
                    this._isWaitingUpgradeUI &&
                      ((this._isWaitingUpgradeUI = !1),
                      this.showNextTutorialStep(!1, !1, !1, !0));
                  }),
                  (n.startTutorial = function () {
                    var t = this;
                    0 == w.unlockedLevels &&
                      (h.log(
                        "Tutorial - Start tutorial in " +
                          this._tutorialStartDelay +
                          "s"
                      ),
                      this.scheduleOnce(function () {
                        t.showNextTutorialStep(!0, !1, !1, !1),
                          (t._isActive = !0);
                      }, this._tutorialStartDelay),
                      c.emit(f[f.Tutorial_Started]));
                  }),
                  (n.finishedTutorial = function () {
                    if (this._isActive) {
                      (this._isActive = !1), h.log("Tutorial - Finished");
                      for (var t, i = s(this._slots); !(t = i()).done; ) {
                        t.value.activate(!0);
                      }
                      c.emit(f[f.Tutorial_Finished]);
                    }
                  }),
                  (n.showNextTutorialStep = function (t, i, o, e) {
                    var r = this;
                    if (t) {
                      h.log(
                        "Tutorial - Next construction step " + this._towersBuilt
                      );
                      for (
                        var s = this._slots.find(function (t) {
                            return (
                              t.slotID ===
                              r._towersIDConstructionOrder[r._towersBuilt]
                            );
                          }),
                          n = 0;
                        n < this._slots.length;
                        n++
                      )
                        this._slots[n] !== s
                          ? this._slots[n].deactivate(!0)
                          : this._slots[n].activate(!0);
                      this._isWaitingConstructionUI = !0;
                      var a = {
                        worldPosition: s.node.worldPosition,
                        type: T.Slot,
                      };
                      c.emit(f[f.Tutorial_Show], a);
                    } else if (i) {
                      h.log(
                        "Tutorial - Next upgrade step " + this._towersBuilt
                      );
                      for (
                        var l = this._slots.find(function (t) {
                            return (
                              t.slotID ===
                              r._towersIDUpgradeOrder[r._towersUpgraded]
                            );
                          }),
                          u = 0;
                        u < this._slots.length;
                        u++
                      )
                        this._slots[u] !== l
                          ? this._slots[u].deactivate(!0)
                          : this._slots[u].activate(!0);
                      var _ = {
                        worldPosition: l.node.worldPosition,
                        type: T.Slot,
                      };
                      (this._isWaitingUpgradeUI = !0),
                        c.emit(f[f.Tutorial_Show], _);
                    } else if (o) {
                      h.log(
                        "Tutorial - Next construction ui step " +
                          this._towersBuilt
                      );
                      var d = { type: T.TowerConstruction };
                      (this._isWaitingConstructionConfirmation = !0),
                        c.emit(f[f.Tutorial_Show], d);
                    } else if (e) {
                      h.log(
                        "Tutorial - Next upgrade ui step " + this._towersBuilt
                      );
                      var g = { type: T.TowerUpgrade };
                      (this._isWaitingUpgradeConfirmation = !0),
                        c.emit(f[f.Tutorial_Show], g);
                    }
                  }),
                  i
                );
              })(u)).prototype,
              "_towersToUpgrade",
              [U],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 3;
                },
              }
            )),
            (D = i(E.prototype, "_tutorialStartDelay", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0.5;
              },
            })),
            (W = i(E.prototype, "_towersIDConstructionOrder", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (b = i(E.prototype, "_towersIDUpgradeOrder", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (S = E))
          ) || S)
        );
        n._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TutorialEvents.ts", ["cc"], function (t) {
  "use strict";
  var i;
  return {
    setters: [
      function (t) {
        i = t.cclegacy;
      },
    ],
    execute: function () {
      var o;
      t("TutorialEvents", void 0),
        i._RF.push({}, "73466X7CbxGZI0wyB6/KXUt", "TutorialEvents", void 0),
        (function (t) {
          (t[(t.Tutorial_None = 0)] = "Tutorial_None"),
            (t[(t.Tutorial_Show = 1)] = "Tutorial_Show"),
            (t[(t.Tutorial_Hide = 2)] = "Tutorial_Hide"),
            (t[(t.Tutorial_Started = 3)] = "Tutorial_Started"),
            (t[(t.Tutorial_Finished = 4)] = "Tutorial_Finished");
        })(o || (o = t("TutorialEvents", {}))),
        i._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TutorialEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./TutorialEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, o, a, u, c, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (o = e.cclegacy), (a = e._decorator), (u = e.Enum);
        },
        function (e) {
          c = e.TutorialEvents;
        },
        function (e) {
          l = e.BaseEventListener;
        },
      ],
      execute: function () {
        var v, p, f, y, E;
        o._RF.push(
          {},
          "78e68VG5n1LtqisCiyJPS9I",
          "TutorialEventsListener",
          void 0
        );
        var L = a.ccclass,
          h = a.property;
        e(
          "TutorialEventsListener",
          ((v = L("TutorialEventsListener")),
          (p = h({ visible: !0, type: u(c) })),
          v(
            ((E = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    s[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", E, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return c[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(l)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return c.Tutorial_None;
                },
              }
            )),
            (f = y))
          ) || f)
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TutorialUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TutorialUIType.ts"],
  function (i) {
    "use strict";
    var e, t, o, n, r, a, l, s, u, c, p, _, f;
    return {
      setters: [
        function (i) {
          (e = i.applyDecoratedDescriptor),
            (t = i.inheritsLoose),
            (o = i.initializerDefineProperty),
            (n = i.assertThisInitialized);
        },
        function (i) {
          (r = i.cclegacy),
            (a = i._decorator),
            (l = i.Node),
            (s = i.Vec3),
            (u = i.EventHandler),
            (c = i.director),
            (p = i.Camera),
            (_ = i.Component);
        },
        function (i) {
          f = i.TutorialUIType;
        },
      ],
      execute: function () {
        var b, h, d, y, v, m, w, P, g, S, T, U, N, z, I, C, A, H, D, E, F;
        r._RF.push({}, "4dee2eFUPZHNKQRW/WBo2uh", "TutorialUI", void 0);
        var L = a.ccclass,
          O = a.property;
        i(
          "TutorialUI",
          ((b = L("TutorialUI")),
          (h = O({ visible: !0, type: l })),
          (d = O({ visible: !0, type: l })),
          (y = O({ visible: !0, type: s })),
          (v = O({ visible: !0, type: [u] })),
          (m = O({ visible: !0, type: [u] })),
          (w = O({ visible: !0 })),
          (P = O({ visible: !0 })),
          (g = O({ visible: !0 })),
          (S = O({ visible: !0 })),
          b(
            ((N = e(
              (U = (function (i) {
                function e() {
                  for (
                    var e, t = arguments.length, r = new Array(t), a = 0;
                    a < t;
                    a++
                  )
                    r[a] = arguments[a];
                  return (
                    (e = i.call.apply(i, [this].concat(r)) || this),
                    o(e, "_pointerParent", N, n(e)),
                    o(e, "_pointerNode", z, n(e)),
                    o(e, "_uiPositionOffset", I, n(e)),
                    (e._camera = null),
                    o(e, "_onShow", C, n(e)),
                    o(e, "_onHide", A, n(e)),
                    o(e, "_uiConstructionPosition", H, n(e)),
                    o(e, "_uiUpgradePosition", D, n(e)),
                    o(e, "_uiScale", E, n(e)),
                    o(e, "_commonScale", F, n(e)),
                    (e._isActive = !1),
                    e
                  );
                }
                t(e, i);
                var r = e.prototype;
                return (
                  (r.onLoad = function () {
                    var i = c
                      .getScene()
                      .getComponentsInChildren(p)
                      .filter(function (i) {
                        return "Main Camera" === i.node.name;
                      });
                    this._camera = i[0];
                  }),
                  (r.showTutorial = function (i) {
                    if (this.isTutorialUIData(i)) {
                      if (i.type === f.Slot) {
                        var e = new s();
                        this._camera.convertToUINode(
                          i.worldPosition,
                          this._pointerParent,
                          e
                        ),
                          this._pointerNode.setPosition(
                            e.add(this._uiPositionOffset)
                          ),
                          this._pointerNode.setScale(this._commonScale);
                      } else
                        i.type === f.TowerConstruction
                          ? (this._pointerNode.setPosition(
                              this._uiConstructionPosition
                            ),
                            this._pointerNode.setScale(this._uiScale))
                          : i.type === f.TowerUpgrade &&
                            (this._pointerNode.setPosition(
                              this._uiUpgradePosition
                            ),
                            this._pointerNode.setScale(this._uiScale));
                      this._isActive ||
                        (u.emitEvents(this._onShow), (this._isActive = !0));
                    }
                  }),
                  (r.hideTutorial = function () {
                    this._isActive &&
                      ((this._isActive = !1), u.emitEvents(this._onHide));
                  }),
                  (r.isTutorialUIData = function (i) {
                    return (
                      !!i &&
                      void 0 !== i.type &&
                      i.type !== f.None &&
                      !!(
                        i.type !== f.Slot ||
                        (i.worldPosition && i.worldPosition instanceof s)
                      )
                    );
                  }),
                  e
                );
              })(_)).prototype,
              "_pointerParent",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (z = e(U.prototype, "_pointerNode", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (I = e(U.prototype, "_uiPositionOffset", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (C = e(U.prototype, "_onShow", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (A = e(U.prototype, "_onHide", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = e(U.prototype, "_uiConstructionPosition", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new s();
              },
            })),
            (D = e(U.prototype, "_uiUpgradePosition", [P], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new s();
              },
            })),
            (E = e(U.prototype, "_uiScale", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new s();
              },
            })),
            (F = e(U.prototype, "_commonScale", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return new s();
              },
            })),
            (T = U))
          ) || T)
        );
        r._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TutorialUIType.ts", ["cc"], function (t) {
  "use strict";
  var e;
  return {
    setters: [
      function (t) {
        e = t.cclegacy;
      },
    ],
    execute: function () {
      var o;
      t("TutorialUIType", void 0),
        e._RF.push({}, "89f84vB4GNAUqqfmmUbTJQJ", "TutorialUIType", void 0),
        (function (t) {
          (t[(t.None = 0)] = "None"),
            (t[(t.Slot = 1)] = "Slot"),
            (t[(t.TowerConstruction = 2)] = "TowerConstruction"),
            (t[(t.TowerUpgrade = 3)] = "TowerUpgrade");
        })(o || (o = t("TutorialUIType", {}))),
        e._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TweenBase.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TweenEnums.ts"],
  function (e) {
    "use strict";
    var t, n, i, r, a, o, u, s, l, c, p, f;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (i = e.initializerDefineProperty),
            (r = e.assertThisInitialized);
        },
        function (e) {
          (a = e.cclegacy),
            (o = e._decorator),
            (u = e.Node),
            (s = e.Enum),
            (l = e.CCBoolean),
            (c = e.EventHandler),
            (p = e.Component);
        },
        function (e) {
          f = e.TweenEasing;
        },
      ],
      execute: function () {
        var h, b, y, m, d, g, w, v, C, z, S, R, T, B, E, V, D, _, H;
        a._RF.push({}, "d9856qOejhH7aDieMy/A3MW", "TweenBase", void 0);
        var L = o.ccclass,
          M = o.property;
        e(
          "TweenBase",
          ((h = L("TweenBase")),
          (b = M(u)),
          (y = M({ min: 0, unit: "sec" })),
          (m = M({ min: 0, unit: "sec" })),
          (d = M({ type: s(f) })),
          (g = M(l)),
          (w = M(l)),
          (v = M({ type: [c], displayOrder: 20 })),
          (C = M({ type: [c], displayOrder: 20 })),
          h(
            ((R = t(
              (S = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, a = new Array(n), o = 0;
                    o < n;
                    o++
                  )
                    a[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    i(t, "target", R, r(t)),
                    i(t, "delay", T, r(t)),
                    i(t, "duration", B, r(t)),
                    i(t, "easing", E, r(t)),
                    i(t, "useCustomStartValue", V, r(t)),
                    i(t, "useRelativeValue", D, r(t)),
                    i(t, "onStart", _, r(t)),
                    i(t, "onComplete", H, r(t)),
                    (t.tweenCache = void 0),
                    (t.tweenReverseCache = void 0),
                    (t.options = {}),
                    t
                  );
                }
                n(t, e);
                var a = t.prototype;
                return (
                  (a.onLoad = function () {
                    var e = this;
                    this.target || (this.target = this.node),
                      (this.options.onStart = function (t) {
                        c.emitEvents(e.onStart, t);
                      }.bind(this)),
                      (this.options.onComplete = function (t) {
                        c.emitEvents(e.onComplete, t);
                      }.bind(this)),
                      (this.options.easing = f[this.easing]);
                  }),
                  (a.play = function () {
                    this.useCustomStartValue && this.reset(),
                      this.tweenCache.start();
                  }),
                  (a.reset = function () {}),
                  (a.playReverse = function () {
                    var e;
                    null == (e = this.tweenReverseCache) || e.start();
                  }),
                  (a.stop = function () {
                    this.tweenCache.stop();
                  }),
                  t
                );
              })(p)).prototype,
              "target",
              [b],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              }
            )),
            (T = t(S.prototype, "delay", [y], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (B = t(S.prototype, "duration", [m], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 1;
              },
            })),
            (E = t(S.prototype, "easing", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return f.linear;
              },
            })),
            (V = t(S.prototype, "useCustomStartValue", [g], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (D = t(S.prototype, "useRelativeValue", [w], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (_ = t(S.prototype, "onStart", [v], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (H = t(S.prototype, "onComplete", [C], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (z = S))
          ) || z)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TweenCollection.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TweenBase.ts"],
  function (e) {
    "use strict";
    var n, t, o, i, r, s, c, l;
    return {
      setters: [
        function (e) {
          (n = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (o = e.initializerDefineProperty),
            (i = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy), (s = e._decorator), (c = e.Component);
        },
        function (e) {
          l = e.TweenBase;
        },
      ],
      execute: function () {
        var a, u, p;
        r._RF.push({}, "3ca0eUR64hHCIpL0fRF8hQx", "TweenCollection", void 0);
        var h = s.ccclass,
          f = s.property,
          w = s.menu;
        e(
          "TweenCollection",
          h("TweenCollection")(
            (a =
              w("Tween/Collection")(
                ((p = n(
                  (u = (function (e) {
                    function n() {
                      for (
                        var n, t = arguments.length, r = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        r[s] = arguments[s];
                      return (
                        (n = e.call.apply(e, [this].concat(r)) || this),
                        o(n, "getInChildren", p, i(n)),
                        (n.tweens = []),
                        n
                      );
                    }
                    t(n, e);
                    var r = n.prototype;
                    return (
                      (r.onLoad = function () {
                        this.getInChildren
                          ? (this.tweens = this.node.getComponentsInChildren(l))
                          : (this.tweens = this.node.getComponents(l));
                      }),
                      (r.play = function () {
                        this.tweens.forEach(function (e) {
                          e.play();
                        });
                      }),
                      (r.reset = function () {
                        this.tweens.forEach(function (e) {
                          e.reset();
                        });
                      }),
                      (r.playReverse = function () {
                        this.tweens.forEach(function (e) {
                          e.playReverse();
                        });
                      }),
                      (r.stop = function () {
                        this.tweens.forEach(function (e) {
                          e.stop();
                        });
                      }),
                      n
                    );
                  })(c)).prototype,
                  "getInChildren",
                  [f],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return !1;
                    },
                  }
                )),
                (a = u))
              ) || a)
          ) || a
        );
        r._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TweenEnums.ts", ["cc"], function (u) {
  "use strict";
  var n;
  return {
    setters: [
      function (u) {
        n = u.cclegacy;
      },
    ],
    execute: function () {
      var t;
      u("TweenEasing", void 0),
        n._RF.push({}, "dae1f6+YdpIfrf5W5sHkb2b", "TweenEnums", void 0),
        (function (u) {
          (u[(u.linear = 0)] = "linear"),
            (u[(u.smooth = 1)] = "smooth"),
            (u[(u.fade = 2)] = "fade"),
            (u[(u.constant = 3)] = "constant"),
            (u[(u.quadIn = 4)] = "quadIn"),
            (u[(u.quadOut = 5)] = "quadOut"),
            (u[(u.quadInOut = 6)] = "quadInOut"),
            (u[(u.quadOutIn = 7)] = "quadOutIn"),
            (u[(u.cubicIn = 8)] = "cubicIn"),
            (u[(u.cubicOut = 9)] = "cubicOut"),
            (u[(u.cubicInOut = 10)] = "cubicInOut"),
            (u[(u.cubicOutIn = 11)] = "cubicOutIn"),
            (u[(u.quartIn = 12)] = "quartIn"),
            (u[(u.quartOut = 13)] = "quartOut"),
            (u[(u.quartInOut = 14)] = "quartInOut"),
            (u[(u.quartOutIn = 15)] = "quartOutIn"),
            (u[(u.quintIn = 16)] = "quintIn"),
            (u[(u.quintOut = 17)] = "quintOut"),
            (u[(u.quintInOut = 18)] = "quintInOut"),
            (u[(u.quintOutIn = 19)] = "quintOutIn"),
            (u[(u.sineIn = 20)] = "sineIn"),
            (u[(u.sineOut = 21)] = "sineOut"),
            (u[(u.sineInOut = 22)] = "sineInOut"),
            (u[(u.sineOutIn = 23)] = "sineOutIn"),
            (u[(u.expoIn = 24)] = "expoIn"),
            (u[(u.expoOut = 25)] = "expoOut"),
            (u[(u.expoInOut = 26)] = "expoInOut"),
            (u[(u.expoOutIn = 27)] = "expoOutIn"),
            (u[(u.circIn = 28)] = "circIn"),
            (u[(u.circOut = 29)] = "circOut"),
            (u[(u.circInOut = 30)] = "circInOut"),
            (u[(u.circOutIn = 31)] = "circOutIn"),
            (u[(u.elasticIn = 32)] = "elasticIn"),
            (u[(u.elasticOut = 33)] = "elasticOut"),
            (u[(u.elasticInOut = 34)] = "elasticInOut"),
            (u[(u.elasticOutIn = 35)] = "elasticOutIn"),
            (u[(u.backIn = 36)] = "backIn"),
            (u[(u.backOut = 37)] = "backOut"),
            (u[(u.backInOut = 38)] = "backInOut"),
            (u[(u.backOutIn = 39)] = "backOutIn"),
            (u[(u.bounceIn = 40)] = "bounceIn"),
            (u[(u.bounceOut = 41)] = "bounceOut"),
            (u[(u.bounceInOut = 42)] = "bounceInOut"),
            (u[(u.bounceOutIn = 43)] = "bounceOutIn");
        })(t || (t = u("TweenEasing", {}))),
        n._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TweenNodePosition.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TweenBase.ts"],
  function (t) {
    "use strict";
    var e, i, a, n, o, s, r, u, l;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (a = t.initializerDefineProperty),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (o = t.cclegacy), (s = t._decorator), (r = t.tween), (u = t.Vec3);
        },
        function (t) {
          l = t.TweenBase;
        },
      ],
      execute: function () {
        var h, c, p, d;
        o._RF.push({}, "09f00cyaRdMraH6RbUaiRdA", "TweenNodePosition", void 0);
        var y = s.ccclass,
          v = s.property,
          w = s.menu;
        t(
          "TweenNodePosition",
          y("TweenNodePosition")(
            (h =
              w("Tween/Position")(
                ((p = e(
                  (c = (function (t) {
                    function e() {
                      for (
                        var e, i = arguments.length, o = new Array(i), s = 0;
                        s < i;
                        s++
                      )
                        o[s] = arguments[s];
                      return (
                        (e = t.call.apply(t, [this].concat(o)) || this),
                        a(e, "valueStart", p, n(e)),
                        a(e, "valueEnd", d, n(e)),
                        e
                      );
                    }
                    i(e, t);
                    var o = e.prototype;
                    return (
                      (o.onLoad = function () {
                        t.prototype.onLoad.call(this),
                          this.useCustomStartValue
                            ? this.target.setPosition(this.valueStart)
                            : this.valueStart.set(this.target.position),
                          this.useRelativeValue
                            ? ((this.tweenCache = r(this.target)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { position: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = r(this.target)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { position: this.valueStart },
                                  this.options
                                )
                                .repeat(1)))
                            : ((this.tweenCache = r(this.target)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { position: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = r(this.target)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { position: this.valueStart },
                                  this.options
                                )
                                .repeat(1)));
                      }),
                      (o.reset = function () {
                        this.target.setPosition(this.valueStart);
                      }),
                      e
                    );
                  })(l)).prototype,
                  "valueStart",
                  [v],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return new u();
                    },
                  }
                )),
                (d = e(c.prototype, "valueEnd", [v], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return new u(1, 1, 1);
                  },
                })),
                (h = c))
              ) || h)
          ) || h
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TweenNodeRotation.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TweenBase.ts"],
  function (e) {
    "use strict";
    var t, i, a, n, r, s, o, l, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (r = e.cclegacy), (s = e._decorator), (o = e.tween), (l = e.Vec3);
        },
        function (e) {
          u = e.TweenBase;
        },
      ],
      execute: function () {
        var h, c, p, d;
        r._RF.push({}, "925cc7HsYRKfKoUI6HIv/Em", "TweenNodeRotation", void 0);
        var v = s.ccclass,
          y = s.property,
          g = s.menu;
        e(
          "TweenNodeRotation",
          v("TweenNodeRotation")(
            (h =
              g("Tween/Rotation")(
                ((p = t(
                  (c = (function (e) {
                    function t() {
                      for (
                        var t, i = arguments.length, r = new Array(i), s = 0;
                        s < i;
                        s++
                      )
                        r[s] = arguments[s];
                      return (
                        (t = e.call.apply(e, [this].concat(r)) || this),
                        a(t, "valueStart", p, n(t)),
                        a(t, "valueEnd", d, n(t)),
                        t
                      );
                    }
                    i(t, e);
                    var r = t.prototype;
                    return (
                      (r.onLoad = function () {
                        e.prototype.onLoad.call(this),
                          this.useCustomStartValue
                            ? this.target.eulerAngles.set(this.valueStart)
                            : (this.valueStart = this.target.eulerAngles),
                          this.useRelativeValue
                            ? ((this.tweenCache = o(this.target)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { eulerAngles: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = o(this.target)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { eulerAngles: this.valueStart },
                                  this.options
                                )
                                .repeat(1)))
                            : ((this.tweenCache = o(this.target)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { eulerAngles: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = o(this.target)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { eulerAngles: this.valueStart },
                                  this.options
                                )
                                .repeat(1)));
                      }),
                      (r.reset = function () {
                        this.target.eulerAngles.set(this.valueStart);
                      }),
                      t
                    );
                  })(u)).prototype,
                  "valueStart",
                  [y],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return new l();
                    },
                  }
                )),
                (d = t(c.prototype, "valueEnd", [y], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return new l(1, 1, 1);
                  },
                })),
                (h = c))
              ) || h)
          ) || h
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/TweenNodeScale.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./TweenBase.ts"],
  function (e) {
    "use strict";
    var t, i, a, n, s, r, l, o, u;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (s = e.cclegacy), (r = e._decorator), (l = e.tween), (o = e.Vec3);
        },
        function (e) {
          u = e.TweenBase;
        },
      ],
      execute: function () {
        var c, h, d, p;
        s._RF.push({}, "12ea43w32ZDAL2+IVCNZlsZ", "TweenNodeScale", void 0);
        var v = r.ccclass,
          w = r.property,
          y = r.menu;
        e(
          "TweenNodeScale",
          v("TweenNodeScale")(
            (c =
              y("Tween/Scale")(
                ((d = t(
                  (h = (function (e) {
                    function t() {
                      for (
                        var t, i = arguments.length, s = new Array(i), r = 0;
                        r < i;
                        r++
                      )
                        s[r] = arguments[r];
                      return (
                        (t = e.call.apply(e, [this].concat(s)) || this),
                        a(t, "valueStart", d, n(t)),
                        a(t, "valueEnd", p, n(t)),
                        t
                      );
                    }
                    i(t, e);
                    var s = t.prototype;
                    return (
                      (s.onLoad = function () {
                        e.prototype.onLoad.call(this),
                          this.useCustomStartValue
                            ? this.target.setScale(this.valueStart)
                            : this.valueStart.set(this.target.scale),
                          this.initializeTween();
                      }),
                      (s.initializeTween = function () {
                        this.useRelativeValue
                          ? ((this.tweenCache = l(this.target)
                              .delay(this.delay)
                              .by(
                                this.duration,
                                { scale: this.valueEnd },
                                this.options
                              )
                              .repeat(1)),
                            (this.tweenReverseCache = l(this.target)
                              .delay(this.delay)
                              .by(
                                this.duration,
                                { scale: this.valueStart },
                                this.options
                              )
                              .repeat(1)))
                          : ((this.tweenCache = l(this.target)
                              .delay(this.delay)
                              .to(
                                this.duration,
                                { scale: this.valueEnd },
                                this.options
                              )
                              .repeat(1)),
                            (this.tweenReverseCache = l(this.target)
                              .delay(this.delay)
                              .to(
                                this.duration,
                                { scale: this.valueStart },
                                this.options
                              )
                              .repeat(1)));
                      }),
                      (s.reset = function () {
                        this.target.setScale(this.valueStart);
                      }),
                      (s.setValues = function (e, t) {
                        (this.valueStart = e),
                          (this.valueEnd = t),
                          this.initializeTween();
                      }),
                      (s.setEndValue = function (e) {
                        (this.valueEnd = e), this.initializeTween();
                      }),
                      t
                    );
                  })(u)).prototype,
                  "valueStart",
                  [w],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return new o();
                    },
                  }
                )),
                (p = t(h.prototype, "valueEnd", [w], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return new o(1, 1, 1);
                  },
                })),
                (c = h))
              ) || c)
          ) || c
        );
        s._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/TweenPunchScale.ts", ["cc"], function () {
  "use strict";
  var e;
  return {
    setters: [
      function (c) {
        e = c.cclegacy;
      },
    ],
    execute: function () {
      e._RF.push({}, "2f99335XsBIDLj0yn+vPddq", "TweenPunchScale", void 0),
        e._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/TweenUIOpacity.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./Logger.ts", "./TweenBase.ts"],
  function (t) {
    "use strict";
    var e, i, a, n, r, s, o, p, c, u, h, l, y;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (a = t.initializerDefineProperty),
            (n = t.assertThisInitialized);
        },
        function (t) {
          (r = t.cclegacy),
            (s = t._decorator),
            (o = t.CCInteger),
            (p = t.UIOpacity),
            (c = t.tween);
        },
        function (t) {
          (u = t.logger), (h = t.LogCategory), (l = t.LogType);
        },
        function (t) {
          y = t.TweenBase;
        },
      ],
      execute: function () {
        var d, g, v, O, f, w, b, m;
        r._RF.push({}, "1eddcq+dFJL6Kd35j8xBAOw", "TweenUIOpacity", void 0);
        var C = s.ccclass,
          I = s.property,
          S = (s.requireComponent, s.menu);
        t(
          "TweenUIOpacity",
          ((d = C("TweenUIOpacity")),
          (g = S("Tween/UIOpacity")),
          (v = I({ type: o, range: [0, 255], step: 1, slide: !0 })),
          (O = I({ type: o, range: [0, 255], step: 1, slide: !0 })),
          d(
            (f =
              g(
                ((b = e(
                  (w = (function (t) {
                    function e() {
                      for (
                        var e, i = arguments.length, r = new Array(i), s = 0;
                        s < i;
                        s++
                      )
                        r[s] = arguments[s];
                      return (
                        (e = t.call.apply(t, [this].concat(r)) || this),
                        a(e, "valueStart", b, n(e)),
                        a(e, "valueEnd", m, n(e)),
                        (e.uiOpacity = void 0),
                        e
                      );
                    }
                    i(e, t);
                    var r = e.prototype;
                    return (
                      (r.onLoad = function () {
                        t.prototype.onLoad.call(this),
                          (this.uiOpacity = this.target.getComponent(p)),
                          this.uiOpacity ||
                            (u.log(
                              "WARNING: target: " +
                                this.target.name +
                                " does not have UIOpacity, adding it, please add at edit time because it is probably better than adding at runtime",
                              h.UI,
                              l.Warning
                            ),
                            (this.uiOpacity = this.target.addComponent(p))),
                          this.useCustomStartValue
                            ? (this.uiOpacity.opacity = this.valueStart)
                            : (this.valueStart = this.uiOpacity.opacity),
                          this.useRelativeValue
                            ? ((this.tweenCache = c(this.uiOpacity)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { opacity: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = c(this.uiOpacity)
                                .delay(this.delay)
                                .by(
                                  this.duration,
                                  { opacity: this.valueStart },
                                  this.options
                                )
                                .repeat(1)))
                            : ((this.tweenCache = c(this.uiOpacity)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { opacity: this.valueEnd },
                                  this.options
                                )
                                .repeat(1)),
                              (this.tweenReverseCache = c(this.uiOpacity)
                                .delay(this.delay)
                                .to(
                                  this.duration,
                                  { opacity: this.valueStart },
                                  this.options
                                )
                                .repeat(1)));
                      }),
                      (r.reset = function () {
                        this.uiOpacity &&
                          (this.uiOpacity.opacity = this.valueStart);
                      }),
                      e
                    );
                  })(y)).prototype,
                  "valueStart",
                  [v],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return 0;
                    },
                  }
                )),
                (m = e(w.prototype, "valueEnd", [O], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return 255;
                  },
                })),
                (f = w))
              ) || f)
          ) || f)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UICamera.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (n) {
    "use strict";
    var e, t, a, r, c, i;
    return {
      setters: [
        function (n) {
          (e = n.inheritsLoose), (t = n.createClass);
        },
        function (n) {
          (a = n.cclegacy),
            (r = n._decorator),
            (c = n.Camera),
            (i = n.Component);
        },
      ],
      execute: function () {
        var s, o;
        a._RF.push({}, "a244cA/M4JL4pS/9LzK/i0G", "UICamera", void 0);
        var u = r.ccclass,
          l = r.requireComponent,
          h = r.executionOrder;
        n(
          "UICamera",
          u("UICamera")(
            (s =
              l(c)(
                (s =
                  h(-5)(
                    (((o = (function (n) {
                      function a() {
                        for (
                          var e, t = arguments.length, a = new Array(t), r = 0;
                          r < t;
                          r++
                        )
                          a[r] = arguments[r];
                        return (
                          ((e =
                            n.call.apply(n, [this].concat(a)) || this)._camera =
                            null),
                          e
                        );
                      }
                      e(a, n);
                      var r = a.prototype;
                      return (
                        (r.onLoad = function () {
                          a._instance
                            ? this.node.destroy()
                            : ((a._instance = this),
                              (this._camera = this.node.getComponent(c)));
                        }),
                        (r.onDestroy = function () {
                          a._instance === this && (a._instance = null);
                        }),
                        t(a, null, [
                          {
                            key: "instance",
                            get: function () {
                              return this._instance;
                            },
                          },
                          {
                            key: "camera",
                            get: function () {
                              if (this.instance) return this.instance._camera;
                            },
                          },
                        ]),
                        a
                      );
                    })(i))._instance = null),
                    (s = o))
                  ) || s)
              ) || s)
          ) || s
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UICameraGetter.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./UICamera.ts"],
  function (e) {
    "use strict";
    var n, t, a, r, o, c, s;
    return {
      setters: [
        function (e) {
          (n = e.inheritsLoose), (t = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (r = e._decorator),
            (o = e.Canvas),
            (c = e.Component);
        },
        function (e) {
          s = e.UICamera;
        },
      ],
      execute: function () {
        var i;
        a._RF.push({}, "645f8g3LiVNPYTP4Crp5TTR", "UICameraGetter", void 0);
        var u = r.ccclass,
          l = r.requireComponent,
          m = r.executionOrder;
        e(
          "UICameraGetter",
          u("UICameraGetter")(
            (i =
              l(o)(
                (i =
                  m(-1)(
                    (i = (function (e) {
                      function a() {
                        for (
                          var n, t = arguments.length, a = new Array(t), r = 0;
                          r < t;
                          r++
                        )
                          a[r] = arguments[r];
                        return (
                          ((n =
                            e.call.apply(e, [this].concat(a)) || this)._canvas =
                            null),
                          (n._onSceneChanged = new EventTarget()),
                          n
                        );
                      }
                      n(a, e);
                      var r = a.prototype;
                      return (
                        (r.onLoad = function () {
                          (this._canvas = this.node.getComponent(o)),
                            (this.canvas.cameraComponent = s.camera);
                        }),
                        (r.onEnable = function () {
                          this.canvas.cameraComponent = s.camera;
                        }),
                        t(a, [
                          {
                            key: "canvas",
                            get: function () {
                              return this._canvas;
                            },
                          },
                        ]),
                        a
                      );
                    })(c))
                  ) || i)
              ) || i)
          ) || i
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UIClickSFX.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./AudioManager.ts"],
  function (e) {
    "use strict";
    var i, t, n, r, o, a, l, c, s, u, y;
    return {
      setters: [
        function (e) {
          (i = e.applyDecoratedDescriptor),
            (t = e.inheritsLoose),
            (n = e.initializerDefineProperty),
            (r = e.assertThisInitialized),
            (o = e.createClass);
        },
        function (e) {
          (a = e.cclegacy),
            (l = e._decorator),
            (c = e.Button),
            (s = e.Prefab),
            (u = e.Component);
        },
        function (e) {
          y = e.AudioManager;
        },
      ],
      execute: function () {
        var p, d, f, h, k, g, v, _;
        a._RF.push({}, "9173aMkALVIoLKQ9YSJ5EVS", "UIClickSFX", void 0);
        var b = l.ccclass,
          C = l.property,
          m = l.requireComponent;
        e(
          "UIClickSFX",
          ((p = b("UIClickSFX")),
          (d = m(c)),
          (f = C({ visible: !0 })),
          (h = C({
            type: s,
            visible: !0,
            displayName: "OldKey (deprecated)",
            formerlySerializedAs: "key",
          })),
          p(
            (k =
              d(
                ((v = i(
                  (g = (function (e) {
                    function i() {
                      for (
                        var i, t = arguments.length, o = new Array(t), a = 0;
                        a < t;
                        a++
                      )
                        o[a] = arguments[a];
                      return (
                        (i = e.call.apply(e, [this].concat(o)) || this),
                        n(i, "_audioKey", v, r(i)),
                        n(i, "_key", _, r(i)),
                        i
                      );
                    }
                    t(i, e);
                    var a = i.prototype;
                    return (
                      (a.onLoad = function () {
                        this.node.on(c.EventType.CLICK, this.onclick, this);
                      }),
                      (a.onclick = function () {
                        var e;
                        this.key.length > 0 &&
                          (null == (e = y.instance) || e.playByKey(this.key));
                      }),
                      o(i, [
                        {
                          key: "key",
                          get: function () {
                            return 0 == this._audioKey.length
                              ? this._key.data.node.name
                              : this._audioKey;
                          },
                        },
                      ]),
                      i
                    );
                  })(u)).prototype,
                  "_audioKey",
                  [f],
                  {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                      return "";
                    },
                  }
                )),
                (_ = i(g.prototype, "_key", [h], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (k = g))
              ) || k)
          ) || k)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UIVirtualJoystick.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./TweenCollection.ts",
    "./VirutalJoystick%20enums.ts",
  ],
  function (t) {
    "use strict";
    var i, e, n, o, s, r, a, u, c, l, h, p, f, d, _, y, m, g, v, T, b, C, w;
    return {
      setters: [
        function (t) {
          (i = t.applyDecoratedDescriptor),
            (e = t.inheritsLoose),
            (n = t.initializerDefineProperty),
            (o = t.assertThisInitialized),
            (s = t.createClass);
        },
        function (t) {
          (r = t.cclegacy),
            (a = t._decorator),
            (u = t.Enum),
            (c = t.Camera),
            (l = t.UIOpacity),
            (h = t.Node),
            (p = t.UITransform),
            (f = t.input),
            (d = t.Input),
            (_ = t.Vec3),
            (y = t.director),
            (m = t.Vec2),
            (g = t.screen),
            (v = t.Canvas),
            (T = t.Component);
        },
        function (t) {
          b = t.projectEvent;
        },
        function (t) {
          C = t.TweenCollection;
        },
        function (t) {
          w = t.VirtualJoystickEvent;
        },
      ],
      execute: function () {
        var P, k, H, E, D, S, O, I, z, R, U, V, A, J, M, L, x, j, N, F, B, G, W;
        r._RF.push({}, "09e1dLFgZhCrL2KX2024O5A", "UIVirtualJoystick", void 0);
        var Z,
          q = a.ccclass,
          K = a.property;
        !(function (t) {
          (t[(t.ResetPosition = 0)] = "ResetPosition"),
            (t[(t.Hide = 1)] = "Hide");
        })(Z || (Z = {}));
        t(
          "UIVirtualJoystick",
          ((P = q("UIVirtualJoystick")),
          (k = K({
            type: u(Z),
            visible: !0,
            group: { id: "configuration", name: "Configuration" },
            formerlySerializedAs: "style",
          })),
          (H = K({
            visible: !0,
            group: { id: "configuration", name: "Configuration" },
            tooltip:
              "Leave at 0 if the joystick should not reposition itself when the user hold his finger over it.",
          })),
          (E = K({
            visible: !0,
            group: { id: "configuration", name: "Configuration" },
            tooltip:
              "Minimum distance in pixels needed to consider the input as a movement",
          })),
          (D = K({
            type: c,
            visible: !0,
            group: { id: "components", name: "Components" },
            tooltip:
              "If left blank will try to find a camera in the parent canvas",
          })),
          (S = K({
            type: l,
            visible: !0,
            group: { id: "components", name: "Components" },
            formerlySerializedAs: "contentOpacity",
          })),
          (O = K({
            type: h,
            visible: !0,
            group: { id: "components", name: "Components" },
            formerlySerializedAs: "pivot",
          })),
          (I = K({
            type: h,
            visible: !0,
            group: { id: "components", name: "Components" },
            formerlySerializedAs: "joystickBG",
          })),
          (z = K({
            type: C,
            visible: !0,
            group: { id: "fade", name: "Fade Effects" },
            formerlySerializedAs: "tweenShow",
          })),
          (R = K({
            type: C,
            visible: !0,
            group: { id: "fade", name: "Fade Effects" },
            formerlySerializedAs: "tweenHide",
          })),
          (U = K({ visible: !0 })),
          P(
            ((J = i(
              (A = (function (t) {
                function i() {
                  for (
                    var i, e = arguments.length, s = new Array(e), r = 0;
                    r < e;
                    r++
                  )
                    s[r] = arguments[r];
                  return (
                    (i = t.call.apply(t, [this].concat(s)) || this),
                    n(i, "_style", J, o(i)),
                    n(i, "_timeToReposition", M, o(i)),
                    n(i, "_minMovementScreenHeightRatio", L, o(i)),
                    n(i, "_camera", x, o(i)),
                    n(i, "_contentOpacity", j, o(i)),
                    n(i, "_pivot", N, o(i)),
                    n(i, "_joystickBG", F, o(i)),
                    n(i, "_tweenShow", B, o(i)),
                    n(i, "_tweenHide", G, o(i)),
                    n(i, "_detectClicksOnCanvas", W, o(i)),
                    (i._radius = 64),
                    (i._initialVirtualJoystickPosition = void 0),
                    (i._touchData = null),
                    i
                  );
                }
                e(i, t);
                var r = i.prototype;
                return (
                  (r.onLoad = function () {
                    var t = this.node.getComponent(p);
                    t && (this._radius = t.contentSize.width / 2);
                  }),
                  (r.start = function () {
                    f.on(d.EventType.TOUCH_START, this.onTouchStart, this),
                      f.on(d.EventType.TOUCH_MOVE, this.onTouchMove, this),
                      f.on(
                        d.EventType.TOUCH_END,
                        this.onTouchEndOrCancel,
                        this
                      ),
                      f.on(
                        d.EventType.TOUCH_CANCEL,
                        this.onTouchEndOrCancel,
                        this
                      ),
                      this.node.parent &&
                        this.node.setSiblingIndex(
                          this.node.parent.children.length - 1
                        ),
                      this._style == Z.Hide &&
                        (this._contentOpacity.opacity = 0),
                      (this._initialVirtualJoystickPosition = new _(
                        this.node.worldPosition
                      ));
                  }),
                  (r.onDestroy = function () {
                    f.off(d.EventType.TOUCH_START, this.onTouchStart, this),
                      f.off(d.EventType.TOUCH_MOVE, this.onTouchMove, this),
                      f.off(
                        d.EventType.TOUCH_END,
                        this.onTouchEndOrCancel,
                        this
                      ),
                      f.off(
                        d.EventType.TOUCH_CANCEL,
                        this.onTouchEndOrCancel,
                        this
                      );
                  }),
                  (r.update = function (t) {
                    if (this.hasInput) {
                      this.usingReposition &&
                        y.getCurrentTime() - this._touchData.lastTime >=
                          1e3 * this._timeToReposition &&
                        this._touchData.updateReferencePosition();
                      var i = this.getNormalizedJoystickPosition();
                      this.updatePivotPosition(i),
                        b.emit(w[w.VistualJoystickPositionUpdated], i);
                    }
                  }),
                  (r.onTouchStart = function (t) {
                    this._touchData ||
                      ((this._detectClicksOnCanvas ||
                        null === t.currentTarget) &&
                        ((this._touchData = new X(
                          t.touch.getID(),
                          t.touch.getLocation(),
                          t.touch.lastModified
                        )),
                        this.onInputStart()));
                  }),
                  (r.onTouchMove = function (t) {
                    this._touchData &&
                      this._touchData.id == t.getID() &&
                      m.distance(
                        t.touch.getLocation(),
                        this._touchData.referencePosition
                      ) >=
                        g.windowSize.height *
                          this._minMovementScreenHeightRatio &&
                      this._touchData.updatePosition(
                        t.touch.getLocation(),
                        t.touch.lastModified
                      );
                  }),
                  (r.onTouchEndOrCancel = function (t) {
                    this._touchData &&
                      this._touchData.id == t.getID() &&
                      ((this._touchData = null), this.onInputEnd());
                  }),
                  (r.onInputStart = function () {
                    var t, i;
                    this._style == Z.Hide &&
                      (null == (t = this._tweenHide) || t.stop(),
                      null == (i = this._tweenShow) || i.play());
                  }),
                  (r.onInputEnd = function () {
                    var t, i;
                    this._style == Z.Hide
                      ? (null == (t = this._tweenShow) || t.stop(),
                        null == (i = this._tweenHide) || i.play())
                      : (this.node.setWorldPosition(
                          this._initialVirtualJoystickPosition
                        ),
                        this._pivot.setPosition(0, 0, 0));
                  }),
                  (r.updatePivotPosition = function (t) {
                    this.node.setWorldPosition(
                      this.screenToCanvas(this._touchData.referencePosition)
                    ),
                      this._pivot.setPosition(
                        t.x * this._radius,
                        t.y * this._radius,
                        0
                      );
                  }),
                  (r.screenToCanvas = function (t) {
                    var i = new _(t.x, t.y, 0),
                      e = new _();
                    return this.camera.screenToWorld(i, e), e;
                  }),
                  (r.getNormalizedJoystickPosition = function () {
                    if (!this._touchData) return new m(0, 0);
                    var t = new m(this._touchData.positionDelta);
                    return (
                      t.lengthSqr() < this._radius * this._radius
                        ? t.multiplyScalar(1 / this._radius)
                        : t.normalize(),
                      t
                    );
                  }),
                  s(i, [
                    {
                      key: "hasInput",
                      get: function () {
                        return null != this._touchData;
                      },
                    },
                    {
                      key: "camera",
                      get: function () {
                        return (
                          null == this._camera &&
                            (this._camera =
                              this.node.parent.getComponent(v).cameraComponent),
                          this._camera
                        );
                      },
                    },
                    {
                      key: "usingReposition",
                      get: function () {
                        return this._timeToReposition > 0;
                      },
                    },
                  ]),
                  i
                );
              })(T)).prototype,
              "_style",
              [k],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return Z.ResetPosition;
                },
              }
            )),
            (M = i(A.prototype, "_timeToReposition", [H], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (L = i(A.prototype, "_minMovementScreenHeightRatio", [E], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0.01;
              },
            })),
            (x = i(A.prototype, "_camera", [D], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (j = i(A.prototype, "_contentOpacity", [S], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (N = i(A.prototype, "_pivot", [O], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: null,
            })),
            (F = i(A.prototype, "_joystickBG", [I], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (B = i(A.prototype, "_tweenShow", [z], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (G = i(A.prototype, "_tweenHide", [R], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (W = i(A.prototype, "_detectClicksOnCanvas", [U], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return !1;
              },
            })),
            (V = A))
          ) || V)
        );
        var X = (function () {
            function t(t, i, e) {
              (this._id = void 0),
                (this._positionHistory = []),
                (this._referencePositionIndex = 0),
                (this._id = t),
                this.updatePosition(i, e),
                (this._referencePositionIndex = 0);
            }
            var i = t.prototype;
            return (
              (i.updatePosition = function (t, i) {
                this._positionHistory.push(new Q(t, i));
              }),
              (i.updateReferencePosition = function () {
                this._referencePositionIndex = this._positionHistory.length - 1;
              }),
              s(t, [
                {
                  key: "id",
                  get: function () {
                    return this._id;
                  },
                },
                {
                  key: "referencePosition",
                  get: function () {
                    return this._positionHistory[this._referencePositionIndex]
                      .position;
                  },
                },
                {
                  key: "referenceTime",
                  get: function () {
                    return this._positionHistory[this._referencePositionIndex]
                      .time;
                  },
                },
                {
                  key: "lastPosition",
                  get: function () {
                    return this._positionHistory[
                      this._positionHistory.length - 1
                    ].position;
                  },
                },
                {
                  key: "lastTime",
                  get: function () {
                    return this._positionHistory[
                      this._positionHistory.length - 1
                    ].time;
                  },
                },
                {
                  key: "positionDelta",
                  get: function () {
                    return new m(this.lastPosition).subtract(
                      this.referencePosition
                    );
                  },
                },
              ]),
              t
            );
          })(),
          Q = (function () {
            function t(t, i) {
              (this._position = m.ZERO),
                (this._time = 0),
                (this._position = t),
                (this._time = i);
            }
            return (
              s(t, [
                {
                  key: "position",
                  get: function () {
                    return this._position;
                  },
                },
                {
                  key: "time",
                  get: function () {
                    return this._time;
                  },
                },
              ]),
              t
            );
          })();
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UpgradeControllerEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var r;
    return {
      setters: [
        function (e) {
          r = e.cclegacy;
        },
      ],
      execute: function () {
        var t;
        e("UpgradeControllerEvents", void 0),
          r._RF.push(
            {},
            "202b2PRvBZHgoH675eQvkNq",
            "UpgradeControllerEvents",
            void 0
          ),
          (function (e) {
            (e[(e.UpgradeController_None = 0)] = "UpgradeController_None"),
              (e[(e.UpgradeController_UpgradePurchased = 1)] =
                "UpgradeController_UpgradePurchased"),
              (e[(e.UpgradeController_UpgradesResetted = 2)] =
                "UpgradeController_UpgradesResetted");
          })(t || (t = e("UpgradeControllerEvents", {}))),
          r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UpgradeData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, n;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          n = e.cclegacy;
        },
      ],
      execute: function () {
        n._RF.push({}, "efa58NMGlNIf6w5BeN/gaXs", "UpgradeData", void 0);
        e(
          "UpgradeData",
          (function () {
            function e(e, t) {
              (this.key = void 0),
                (this._owned = !1),
                (this.key = e),
                (this._owned = t);
            }
            return (
              (e.prototype.purchase = function () {
                this._owned = !0;
              }),
              t(e, [
                {
                  key: "owned",
                  get: function () {
                    return this._owned;
                  },
                },
              ]),
              e
            );
          })()
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UpgradesController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./SaveGameEnums.ts",
    "./SaveGame.ts",
    "./SaveGameKeys.ts",
    "./CommonShopEntryData.ts",
    "./TowerShopEntryData.ts",
    "./CommonUpgrade.ts",
    "./TowerUpgrade.ts",
    "./UpgradeData.ts",
    "./UpgradesControllerEvents.ts",
  ],
  function (e) {
    "use strict";
    var r, n, a, o, t, s, d, i, u, p, g, v, c, m, f, h, l, U, w;
    return {
      setters: [
        function (e) {
          (r = e.createForOfIteratorHelperLoose),
            (n = e.createClass),
            (a = e.asyncToGenerator);
        },
        function (e) {
          (o = e.cclegacy),
            (t = e.resources),
            (s = e.JsonAsset),
            (d = e.game),
            (i = e.Game);
        },
        function (e) {
          u = e.logger;
        },
        function (e) {
          p = e.projectEvent;
        },
        function (e) {
          g = e.SaveGameEvent;
        },
        function (e) {
          v = e.saveGame;
        },
        function (e) {
          c = e.SaveGameKeys;
        },
        function (e) {
          m = e.CommonShopEntryData;
        },
        function (e) {
          f = e.TowerShopEntryData;
        },
        function (e) {
          h = e.CommonUpgrade;
        },
        function (e) {
          l = e.TowerUpgrade;
        },
        function (e) {
          U = e.UpgradeData;
        },
        function (e) {
          w = e.UpgradesControllerEvents;
        },
      ],
      execute: function () {
        o._RF.push({}, "f9b62KIuwRNxKx3c5NSUWsw", "UpgradesController", void 0);
        var y = e(
          "UpgradesController",
          (function () {
            function e() {
              var e = this;
              (this._commonUpgrades = []),
                (this._towerUpgrades = []),
                (this._savedCommonUpgrades = []),
                (this._savedTowerUpgrades = []),
                (this._isLoaded = !1),
                d.on(
                  i.EVENT_GAME_INITED,
                  function () {
                    e.loadData();
                  },
                  this
                );
            }
            var o = e.prototype;
            return (
              (o.loadData = (function () {
                var e = a(
                  regeneratorRuntime.mark(function e() {
                    var n,
                      a,
                      o = this;
                    return regeneratorRuntime.wrap(
                      function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              (a = []).push((n = this).loadJson()),
                                a.push(n.loadSave()),
                                Promise.all(a).then(function (e) {
                                  var a = e[0],
                                    t = e[1],
                                    s = a.json;
                                  if (Array.isArray(s)) {
                                    for (var d, i = r(s); !(d = i()).done; ) {
                                      var g = d.value;
                                      if ("common" === g.type)
                                        for (
                                          var v, c = r(g.data);
                                          !(v = c()).done;

                                        ) {
                                          var m = v.value;
                                          n._commonUpgrades.push(new h(m));
                                        }
                                      else if ("towers" === g.type)
                                        for (
                                          var f, y = r(g.data);
                                          !(f = y()).done;

                                        ) {
                                          var _ = f.value;
                                          n._towerUpgrades.push(new l(_));
                                        }
                                    }
                                    for (
                                      var C = !1;
                                      t[0].length <
                                      3 * n._commonUpgrades.length;

                                    ) {
                                      var k = t[0].length / 3;
                                      t[0].push(
                                        new U("common-energyRecharge-" + k, !1)
                                      ),
                                        t[0].push(
                                          new U("common-maxEnergy-" + k, !1)
                                        ),
                                        t[0].push(
                                          new U("common-maxHP-" + k, !1)
                                        ),
                                        (C = !0);
                                    }
                                    for (
                                      ;
                                      t[1].length < 3 * n._towerUpgrades.length;

                                    ) {
                                      var T = t[1].length / 3;
                                      t[1].push(new U("towers-gun-" + T, !1)),
                                        t[1].push(
                                          new U("towers-cannon-" + T, !1)
                                        ),
                                        t[1].push(
                                          new U("towers-laser-" + T, !1)
                                        ),
                                        (C = !0);
                                    }
                                    C && o.saveUpgrades(t[0], t[1]),
                                      (n._savedCommonUpgrades = t[0]),
                                      (n._savedTowerUpgrades = t[1]),
                                      p.emit(w[w.UpgradesController_Loaded]);
                                  } else u.log("Couldn't parse store upgrades!");
                                });
                            case 5:
                            case "end":
                              return e.stop();
                          }
                      },
                      e,
                      this
                    );
                  })
                );
                return function () {
                  return e.apply(this, arguments);
                };
              })()),
              (o.loadSave = function () {
                return new Promise(function (e, n) {
                  if (v.isDataLoaded()) {
                    for (
                      var a,
                        o = [[], []],
                        t = v.getData(c[c.SaveGameKeys_CommonUpgrades], []),
                        s = r(t);
                      !(a = s()).done;

                    ) {
                      var d = a.value;
                      o[0].push(new U(d.key, d.owned));
                    }
                    t = v.getData(c[c.SaveGameKeys_TowerUpgrades], []);
                    for (var i, u = r(t); !(i = u()).done; ) {
                      var m = i.value;
                      o[1].push(new U(m.key, m.owned));
                    }
                    e(o);
                  } else
                    p.once(g[g.SaveGame_Loaded], function () {
                      for (
                        var n,
                          a = [[], []],
                          o = v.getData(c[c.SaveGameKeys_CommonUpgrades], []),
                          t = r(o);
                        !(n = t()).done;

                      ) {
                        var s = n.value;
                        a[0].push(new U(s.key, s.owned));
                      }
                      o = v.getData(c[c.SaveGameKeys_TowerUpgrades], []);
                      for (var d, i = r(o); !(d = i()).done; ) {
                        var u = d.value;
                        a[0].push(new U(u.key, u.owned));
                      }
                      e(a);
                    });
                });
              }),
              (o.loadJson = function () {
                return new Promise(function (e, r) {
                  t.load("Store/store", s, null, function (n, a) {
                    n ? r() : e(a);
                  });
                });
              }),
              (o.saveUpgrades = function (e, n) {
                if (e) {
                  for (var a, o = [], t = r(e); !(a = t()).done; ) {
                    var s = a.value;
                    o.push({ key: s.key, owned: s.owned });
                  }
                  v.setData(c[c.SaveGameKeys_CommonUpgrades], o);
                }
                if (n) {
                  for (var d, i = [], u = r(n); !(d = u()).done; ) {
                    var p = d.value;
                    i.push({ key: p.key, owned: p.owned });
                  }
                  v.setData(c[c.SaveGameKeys_TowerUpgrades], i);
                }
              }),
              (o.getCurrentCommonUpgrade = function (e) {
                var r = e.split("-"),
                  n = this._savedCommonUpgrades.filter(function (e) {
                    return e.key.includes(r[1]);
                  });
                n.sort(function (e, r) {
                  return e.key < r.key ? -1 : 1;
                });
                var a = n.find(function (e) {
                  return !1 === e.owned;
                });
                return a
                  ? Number.parseInt(a.key.split("-")[2])
                  : Number.parseInt(n[n.length - 1].key.split("-")[2]) + 1;
              }),
              (o.getCurrentTowerUpgrade = function (e) {
                var r = e.split("-"),
                  n = this._savedTowerUpgrades.filter(function (e) {
                    return e.key.includes(r[1]);
                  });
                n.sort(function (e, r) {
                  return e.key < r.key ? -1 : 1;
                });
                var a = n.find(function (e) {
                  return !1 === e.owned;
                });
                return a
                  ? Number.parseInt(a.key.split("-")[2])
                  : Number.parseInt(n[n.length - 1].key.split("-")[2]) + 1;
              }),
              (o.purchaseUpgrade = function (e) {
                if (e instanceof m) {
                  var r = this._savedCommonUpgrades.findIndex(function (r) {
                    return r.key === e.id;
                  });
                  this._savedCommonUpgrades[r].purchase(),
                    this.saveUpgrades(this._savedCommonUpgrades);
                } else if (e instanceof f) {
                  var n = this._savedTowerUpgrades.findIndex(function (r) {
                    return r.key === e.id;
                  });
                  this._savedTowerUpgrades[n].purchase(),
                    this.saveUpgrades(void 0, this._savedTowerUpgrades);
                }
              }),
              (o.resetUpgrades = function () {
                for (var e = 0; e < this._savedCommonUpgrades.length; e++)
                  this._savedCommonUpgrades[e] = new U(
                    this._savedCommonUpgrades[e].key,
                    !1
                  );
                for (var r = 0; r < this._savedTowerUpgrades.length; r++)
                  this._savedTowerUpgrades[r] = new U(
                    this._savedTowerUpgrades[r].key,
                    !1
                  );
                this.saveUpgrades(
                  this._savedCommonUpgrades,
                  this._savedTowerUpgrades
                );
              }),
              n(e, [
                {
                  key: "commonUpgrades",
                  get: function () {
                    return [].concat(this._commonUpgrades);
                  },
                },
                {
                  key: "towerUpgrades",
                  get: function () {
                    return [].concat(this._towerUpgrades);
                  },
                },
                {
                  key: "savedCommonUpgrades",
                  get: function () {
                    return [].concat(this._savedCommonUpgrades);
                  },
                },
                {
                  key: "savedTowerUpgrades",
                  get: function () {
                    return [].concat(this._savedTowerUpgrades);
                  },
                },
                {
                  key: "isLoaded",
                  get: function () {
                    return this._isLoaded;
                  },
                },
              ]),
              e
            );
          })()
        );
        e("upgradesController", new y());
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UpgradesControllerEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var r;
    return {
      setters: [
        function (e) {
          r = e.cclegacy;
        },
      ],
      execute: function () {
        var t;
        e("UpgradesControllerEvents", void 0),
          r._RF.push(
            {},
            "441dd/aHoRMcqz2pPxQKMwm",
            "UpgradesControllerEvents",
            void 0
          ),
          (function (e) {
            e[(e.UpgradesController_Loaded = 0)] = "UpgradesController_Loaded";
          })(t || (t = e("UpgradesControllerEvents", {}))),
          r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/UpgradeState.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (e) {
    "use strict";
    var t, i, r, n, a, o;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (i = e.createClass),
            (r = e.initializerDefineProperty);
        },
        function (e) {
          (n = e.cclegacy), (a = e._decorator), (o = e.Node);
        },
      ],
      execute: function () {
        var u, l, c, s, p, d, b, f, _, g, h, y, m, S, D;
        n._RF.push({}, "217detY7qpBPIDX6EUsKdxv", "UpgradeState", void 0);
        var v = a.ccclass,
          I = a.property;
        e(
          "UpgradeState",
          ((u = v("UpgradeState")),
          (l = I({ visible: !0 })),
          (c = I({ visible: !0 })),
          (s = I({ visible: !0 })),
          (p = I({ visible: !0 })),
          (d = I({ visible: !0 })),
          (b = I({ visible: !0, type: o })),
          u(
            ((g = t(
              (_ = (function () {
                function e(e, t, i) {
                  r(this, "_currentStateID", g, this),
                    r(this, "_nextStateID", h, this),
                    r(this, "_costToUpgrade", y, this),
                    r(this, "_id", m, this),
                    r(this, "_readableName", S, this),
                    r(this, "_modelNode", D, this),
                    (this._currentStateID = e),
                    (this._nextStateID = t),
                    (this._costToUpgrade = i);
                }
                return (
                  i(e, [
                    {
                      key: "currentStateID",
                      get: function () {
                        return this._currentStateID;
                      },
                    },
                    {
                      key: "nextStateID",
                      get: function () {
                        return this._nextStateID;
                      },
                    },
                    {
                      key: "costToUpgrade",
                      get: function () {
                        return this._costToUpgrade;
                      },
                    },
                    {
                      key: "id",
                      get: function () {
                        return this._id;
                      },
                    },
                    {
                      key: "readableName",
                      get: function () {
                        return this._readableName;
                      },
                    },
                    {
                      key: "modelNode",
                      get: function () {
                        return this._modelNode;
                      },
                    },
                  ]),
                  e
                );
              })()).prototype,
              "_currentStateID",
              [l],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return "";
                },
              }
            )),
            (h = t(_.prototype, "_nextStateID", [c], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = t(_.prototype, "_costToUpgrade", [s], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (m = t(_.prototype, "_id", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return 0;
              },
            })),
            (S = t(_.prototype, "_readableName", [d], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (D = t(_.prototype, "_modelNode", [b], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return null;
              },
            })),
            (f = _))
          ) || f)
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/VirtualJoystick.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./ProjectEvent.ts",
    "./AxisInput.ts",
    "./VirutalJoystick%20enums.ts",
  ],
  function (t) {
    "use strict";
    var i, o, s, n, c, e;
    return {
      setters: [
        function (t) {
          i = t.inheritsLoose;
        },
        function (t) {
          (o = t.cclegacy), (s = t._decorator);
        },
        function (t) {
          n = t.projectEvent;
        },
        function (t) {
          c = t.AxisInput;
        },
        function (t) {
          e = t.VirtualJoystickEvent;
        },
      ],
      execute: function () {
        var r;
        o._RF.push({}, "53d6ak+3nROapxBv5lms9wF", "VirtualJoystick", void 0);
        var u = s.ccclass;
        t(
          "VirtualJoystick",
          u("VirtualJoystick")(
            (r = (function (t) {
              function o() {
                return t.apply(this, arguments) || this;
              }
              i(o, t);
              var s = o.prototype;
              return (
                (s.start = function () {
                  n.on(
                    e[e.VistualJoystickPositionUpdated],
                    this.onJoystickUpdate,
                    this
                  );
                }),
                (s.onDestroy = function () {
                  n.off(
                    e[e.VistualJoystickPositionUpdated],
                    this.onJoystickUpdate,
                    this
                  );
                }),
                (s.onJoystickUpdate = function (t) {
                  (this._horizontal = t.x), (this._vertical = t.y);
                }),
                o
              );
            })(c))
          ) || r
        );
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/VirutalJoystick%20enums.ts",
  ["cc"],
  function (t) {
    "use strict";
    var i;
    return {
      setters: [
        function (t) {
          i = t.cclegacy;
        },
      ],
      execute: function () {
        var s;
        t("VirtualJoystickEvent", void 0),
          i._RF.push(
            {},
            "cea81xfwhNP8KT0y4dCiHFO",
            "VirutalJoystick%20enums",
            void 0
          ),
          (function (t) {
            t[(t.VistualJoystickPositionUpdated = 0)] =
              "VistualJoystickPositionUpdated";
          })(s || (s = t("VirtualJoystickEvent", {}))),
          i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WaveData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./WaveEnemyData.ts"],
  function (e) {
    "use strict";
    var t, s, n, i, a;
    return {
      setters: [
        function (e) {
          t = e.createClass;
        },
        function (e) {
          (s = e.cclegacy), (n = e._decorator), (i = e.JsonAsset);
        },
        function (e) {
          a = e.WaveEnemyData;
        },
      ],
      execute: function () {
        var l;
        s._RF.push({}, "302b9dhgppJSbduxDRep/bz", "WaveData", void 0);
        var r = n.ccclass;
        n.property,
          e(
            "WaveData",
            r("WaveData")(
              (l = (function () {
                function e(e, t, s) {
                  if (
                    ((this._level = 0),
                    (this._wave = 0),
                    (this._enemies = []),
                    e instanceof i)
                  ) {
                    (this._level = e.json.level),
                      (this._wave = e.json.id),
                      (this._enemies = []);
                    for (var n = e.json.enemiesData, l = 0; l < n.length; l++)
                      this._enemies.push(new a(n[l]));
                  } else if ("object" == typeof e) {
                    (this._level = e.level),
                      (this._wave = e.id),
                      (this._enemies = []);
                    for (var r = e.enemiesData, o = 0; o < r.length; o++)
                      this._enemies.push(new a(r[o]));
                  } else
                    (this._level = e),
                      (this._wave = t),
                      (this._enemies = [].concat(s));
                }
                return (
                  t(e, [
                    {
                      key: "level",
                      get: function () {
                        return this._level;
                      },
                    },
                    {
                      key: "wave",
                      get: function () {
                        return this._wave;
                      },
                    },
                    {
                      key: "enemies",
                      get: function () {
                        return this._enemies;
                      },
                    },
                  ]),
                  e
                );
              })())
            ) || l
          );
        s._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WaveEnemyData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, n, i, s;
    return {
      setters: [
        function (t) {
          e = t.createClass;
        },
        function (t) {
          (n = t.cclegacy), (i = t._decorator), (s = t.JsonAsset);
        },
      ],
      execute: function () {
        var a;
        n._RF.push({}, "2fe05LLb35OloImIdDp3OFs", "WaveEnemyData", void 0);
        var r = i.ccclass;
        i.property,
          t(
            "WaveEnemyData",
            r("WaveEnemyData")(
              (a = (function () {
                function t(t, e, n, i, a) {
                  (this._enemyID = ""),
                    (this._time = 0),
                    (this._quantity = 0),
                    (this._interval = 0),
                    (this._spanwID = 0),
                    t instanceof s
                      ? ((this._enemyID = t.json.enemyID),
                        (this._time = t.json.time),
                        (this._quantity = t.json.quantity),
                        (this._interval = t.json.interval),
                        (this._spanwID = t.json.spawnID))
                      : "object" == typeof t
                      ? ((this._enemyID = t.enemyID),
                        (this._time = t.time),
                        (this._quantity = t.quantity),
                        (this._interval = t.interval),
                        (this._spanwID = t.spawnID))
                      : ((this._enemyID = t),
                        (this._time = e),
                        (this._quantity = n),
                        (this._interval = i),
                        (this._spanwID = a));
                }
                return (
                  e(t, [
                    {
                      key: "enemyID",
                      get: function () {
                        return this._enemyID;
                      },
                    },
                    {
                      key: "time",
                      get: function () {
                        return this._time;
                      },
                    },
                    {
                      key: "quantity",
                      get: function () {
                        return this._quantity;
                      },
                    },
                    {
                      key: "interval",
                      get: function () {
                        return this._interval;
                      },
                    },
                    {
                      key: "spanwID",
                      get: function () {
                        return this._spanwID;
                      },
                    },
                  ]),
                  t
                );
              })())
            ) || a
          );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WaveEventData.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, n;
    return {
      setters: [
        function (t) {
          e = t.createClass;
        },
        function (t) {
          n = t.cclegacy;
        },
      ],
      execute: function () {
        n._RF.push({}, "39eed34DS1EraBqH9qoN5uh", "WaveEventData", void 0);
        t(
          "WaveEventData",
          (function () {
            function t(t, e) {
              (this._currentWave = void 0),
                (this._totalWaves = void 0),
                (this._currentWave = t),
                (this._totalWaves = e);
            }
            return (
              e(t, [
                {
                  key: "currentWave",
                  get: function () {
                    return this._currentWave;
                  },
                },
                {
                  key: "totalWaves",
                  get: function () {
                    return this._totalWaves;
                  },
                },
              ]),
              t
            );
          })()
        );
        n._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WaveEventRaiser.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./WaveEvents.ts",
    "./BaseEventRaiser.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, a, s, o, c, u, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (a = e.createClass);
        },
        function (e) {
          (s = e.cclegacy), (o = e._decorator), (c = e.Enum);
        },
        function (e) {
          u = e.WaveEvents;
        },
        function (e) {
          v = e.BaseEventRaiser;
        },
      ],
      execute: function () {
        var l, p, f, y, h, d, _;
        s._RF.push({}, "09fd5YmvChK1qMRLrEa1jkX", "WaveEventRaiser", void 0);
        var E = o.ccclass,
          b = o.property;
        e(
          "WaveEventRaiser",
          ((l = E("WaveEventRaiser")),
          (p = b({ visible: !0, type: c(u) })),
          (f = b({ visible: !0 })),
          l(
            ((d = t(
              (h = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, a = new Array(n), s = 0;
                    s < n;
                    s++
                  )
                    a[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(a)) || this),
                    r(t, "_eventID", d, i(t)),
                    r(t, "_data", _, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  a(t, [
                    {
                      key: "eventKey",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                    {
                      key: "data",
                      get: function () {
                        if (this._data.length > 0) return this._data;
                        throw "Empty data";
                      },
                    },
                  ]),
                  t
                );
              })(v)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Wave_None;
                },
              }
            )),
            (_ = t(h.prototype, "_data", [f], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return "";
              },
            })),
            (y = h))
          ) || y)
        );
        s._RF.pop();
      },
    };
  }
);

System.register("chunks:///_virtual/WaveEvents.ts", ["cc"], function (e) {
  "use strict";
  var a;
  return {
    setters: [
      function (e) {
        a = e.cclegacy;
      },
    ],
    execute: function () {
      var t;
      e("WaveEvents", void 0),
        a._RF.push({}, "ba4aapsw1dBJK39vBRPONdr", "WaveEvents", void 0),
        (function (e) {
          (e[(e.Wave_None = 0)] = "Wave_None"),
            (e[(e.Wave_Started = 1)] = "Wave_Started"),
            (e[(e.Wave_Completed = 2)] = "Wave_Completed"),
            (e[(e.Wave_FinalCompleted = 3)] = "Wave_FinalCompleted"),
            (e[(e.Wave_CurrentWaveData = 4)] = "Wave_CurrentWaveData"),
            (e[(e.Wave_ActivateSpawn = 5)] = "Wave_ActivateSpawn");
        })(t || (t = e("WaveEvents", {}))),
        a._RF.pop();
    },
  };
});

System.register(
  "chunks:///_virtual/WaveEventsListener.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./WaveEvents.ts",
    "./BaseEventListener.ts",
  ],
  function (e) {
    "use strict";
    var t, n, r, i, s, a, c, o, u, v;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (r = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createClass);
        },
        function (e) {
          (a = e.cclegacy), (c = e._decorator), (o = e.Enum);
        },
        function (e) {
          u = e.WaveEvents;
        },
        function (e) {
          v = e.BaseEventListener;
        },
      ],
      execute: function () {
        var l, p, f, y, E;
        a._RF.push({}, "c9120oqWzNEu7ayinGm/kcL", "WaveEventsListener", void 0);
        var L = c.ccclass,
          h = c.property;
        e(
          "WaveEventsListener",
          ((l = L("WaveEventsListener")),
          (p = h({ visible: !0, type: o(u) })),
          l(
            ((E = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), a = 0;
                    a < n;
                    a++
                  )
                    s[a] = arguments[a];
                  return (
                    (t = e.call.apply(e, [this].concat(s)) || this),
                    r(t, "_eventID", E, i(t)),
                    t
                  );
                }
                return (
                  n(t, e),
                  s(t, [
                    {
                      key: "eventID",
                      get: function () {
                        return u[this._eventID];
                      },
                    },
                  ]),
                  t
                );
              })(v)).prototype,
              "_eventID",
              [p],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return u.Wave_None;
                },
              }
            )),
            (f = y))
          ) || f)
        );
        a._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WavesController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./EnemyEvents.ts",
    "./Spawner.ts",
    "./WaveEventData.ts",
    "./WaveEvents.ts",
    "./WavesDataController.ts",
    "./TimeScale.ts",
    "./EnemySpecialEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, n, a, i, s, r, o, v, l, u, c, m, h, _, W, E, p, w;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (n = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (i = e.assertThisInitialized),
            (s = e.createForOfIteratorHelperLoose);
        },
        function (e) {
          (r = e.cclegacy), (o = e._decorator), (v = e.game), (l = e.Component);
        },
        function (e) {
          u = e.logger;
        },
        function (e) {
          c = e.projectEvent;
        },
        function (e) {
          m = e.EnemyEvents;
        },
        function (e) {
          h = e.SpawnerEvents;
        },
        function (e) {
          _ = e.WaveEventData;
        },
        function (e) {
          W = e.WaveEvents;
        },
        function (e) {
          E = e.wavesDataController;
        },
        function (e) {
          p = e.timeScale;
        },
        function (e) {
          w = e.EnemySpecialEvents;
        },
      ],
      execute: function () {
        var d, f, y, D, g;
        r._RF.push({}, "85ba8zO9clG9KMZhnWVluYT", "WavesController", void 0);
        var S = o.ccclass,
          C = o.property;
        e(
          "WavesController",
          ((d = S("WavesController")),
          (f = C({ visible: !0 })),
          d(
            ((g = t(
              (D = (function (e) {
                function t() {
                  for (
                    var t, n = arguments.length, s = new Array(n), r = 0;
                    r < n;
                    r++
                  )
                    s[r] = arguments[r];
                  return (
                    ((t =
                      e.call.apply(e, [this].concat(s)) || this)._level = 0),
                    (t._currentWaveID = 1),
                    (t._currentWaveData = null),
                    (t._currentWaveEnemiesIndex = 0),
                    (t._waveStartTime = 0),
                    (t._waveEnemies = 0),
                    (t._totalWaves = 0),
                    (t._active = !1),
                    (t._waveTime = 0),
                    a(t, "_debug", g, i(t)),
                    (t._canSpawn = !1),
                    t
                  );
                }
                n(t, e);
                var r = t.prototype;
                return (
                  (r.onEnable = function () {
                    c.on(m[m.Enemy_Died], this.onEnemyDied, this),
                      c.on(
                        m[m.Enemy_ReachedCubeTower],
                        this.onEnemyReachedCubeTower,
                        this
                      ),
                      c.on(
                        w[w.EnemySpecial_SpawnEnemy],
                        this.onEnemySpawn,
                        this
                      );
                  }),
                  (r.onDisable = function () {
                    c.off(m[m.Enemy_Died], this.onEnemyDied, this),
                      c.off(
                        m[m.Enemy_ReachedCubeTower],
                        this.onEnemyReachedCubeTower,
                        this
                      ),
                      c.off(
                        w[w.EnemySpecial_SpawnEnemy],
                        this.onEnemySpawn,
                        this
                      );
                  }),
                  (r.update = function (e) {
                    if (
                      (e *= p.current) > 0 &&
                      null !== this._currentWaveData &&
                      this._canSpawn &&
                      ((this._waveTime += e),
                      this._currentWaveEnemiesIndex <
                        this._currentWaveData.enemies.length &&
                        this._waveTime >=
                          this._currentWaveData.enemies[
                            this._currentWaveEnemiesIndex
                          ].time)
                    ) {
                      var t = { enemies: [] };
                      t.enemies.push({
                        enemyID:
                          this._currentWaveData.enemies[
                            this._currentWaveEnemiesIndex
                          ].enemyID,
                        quantity:
                          this._currentWaveData.enemies[
                            this._currentWaveEnemiesIndex
                          ].quantity,
                        interval:
                          this._currentWaveData.enemies[
                            this._currentWaveEnemiesIndex
                          ].interval,
                        spawnIDOrEnemy:
                          this._currentWaveData.enemies[
                            this._currentWaveEnemiesIndex
                          ].spanwID,
                      }),
                        this._debug &&
                          u.log(
                            "Waves Controller: Spawn horde - ID (" +
                              t.enemies[0].enemyID +
                              "), quantity (" +
                              t.enemies[0].quantity +
                              ")"
                          ),
                        c.emit(h[h.Spawner_SpawnHorde], t),
                        this._currentWaveEnemiesIndex++;
                    }
                  }),
                  (r.setLevel = function (e) {
                    "string" == typeof e
                      ? this.setLevel(Number.parseInt(e))
                      : ((this._level = e),
                        (this._totalWaves = E.getTotalWaves(this._level)),
                        this._debug &&
                          u.log(
                            "Waves Controller: Set Level " +
                              this._level +
                              " with total waves " +
                              this._totalWaves
                          ));
                  }),
                  (r.startWave = function () {
                    (this._active = !0),
                      (this._canSpawn = !1),
                      (this._waveTime = 0),
                      (this._currentWaveEnemiesIndex = 0),
                      (this._currentWaveData = E.getWave(
                        this._level,
                        this._currentWaveID
                      )),
                      this._currentWaveData.enemies.sort(function (e, t) {
                        return e.time - t.time;
                      }),
                      (this._waveStartTime = v.totalTime / 1e3);
                    var e = new _(this._currentWaveID, this._totalWaves);
                    c.emit(W[W.Wave_Started], e), (this._waveEnemies = 0);
                    for (
                      var t, n = s(this._currentWaveData.enemies);
                      !(t = n()).done;

                    ) {
                      var a = t.value;
                      this._waveEnemies += a.quantity;
                    }
                    this._debug &&
                      u.log(
                        "Waves Controller: Start Wave " +
                          e.currentWave +
                          " of " +
                          e.totalWaves +
                          " (" +
                          this._waveEnemies +
                          ")"
                      );
                  }),
                  (r.activateSpawn = function () {
                    (this._canSpawn = !0),
                      this._debug && u.log("Waves Controller: Can spawn!");
                  }),
                  (r.onEnemyDied = function () {
                    this.removeEnemy();
                  }),
                  (r.onEnemyReachedCubeTower = function () {
                    this.removeEnemy();
                  }),
                  (r.onEnemySpawn = function (e) {
                    for (var t, n = s(e.enemies); !(t = n()).done; ) {
                      var a = t.value;
                      this._waveEnemies += a.quantity;
                    }
                  }),
                  (r.removeEnemy = function () {
                    this._waveEnemies--,
                      this._debug &&
                        u.log(
                          "Waves Controller: Enemy down " + this._waveEnemies
                        ),
                      this._waveEnemies <= 0 && this.waveCompleted();
                  }),
                  (r.waveCompleted = function () {
                    this._active = !1;
                    var e = new _(this._currentWaveID, this._totalWaves);
                    this._currentWaveID + 1 <= this._totalWaves
                      ? (this._debug &&
                          u.log(
                            "Waves Controller: Completed Wave " +
                              e.currentWave +
                              " of " +
                              e.totalWaves
                          ),
                        this._currentWaveID++,
                        c.emit(W[W.Wave_Completed], e))
                      : (this._debug &&
                          u.log(
                            "Waves Controller: Completed FINAL Wave " +
                              e.currentWave +
                              " of " +
                              e.totalWaves
                          ),
                        c.emit(W[W.Wave_FinalCompleted], e));
                  }),
                  t
                );
              })(l)).prototype,
              "_debug",
              [f],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return !1;
                },
              }
            )),
            (y = D))
          ) || y)
        );
        r._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WavesDataController.ts",
  [
    "./rollupPluginModLoBabelHelpers.js",
    "cc",
    "./Logger.ts",
    "./ProjectEvent.ts",
    "./WaveData.ts",
    "./WavesDataControllerEvents.ts",
  ],
  function (e) {
    "use strict";
    var t, o, n, r, a, s, l, v, u, i, c;
    return {
      setters: [
        function (e) {
          t = e.createForOfIteratorHelperLoose;
        },
        function (e) {
          (o = e.cclegacy),
            (n = e._decorator),
            (r = e.game),
            (a = e.Game),
            (s = e.resources),
            (l = e.JsonAsset);
        },
        function (e) {
          v = e.logger;
        },
        function (e) {
          u = e.projectEvent;
        },
        function (e) {
          i = e.WaveData;
        },
        function (e) {
          c = e.WavesDataControllerEvents;
        },
      ],
      execute: function () {
        o._RF.push(
          {},
          "5d3d2uMNVlAn7uH/7VTvHqN",
          "WavesDataController",
          void 0
        );
        n.ccclass, n.property;
        var f = e(
          "WavesDataController",
          (function () {
            function e() {
              var e = this;
              (this._waves = []),
                r.on(
                  a.EVENT_GAME_INITED,
                  function () {
                    s.load("Waves/waves", l, null, e.onLoadCompleted.bind(e));
                  },
                  this
                );
            }
            var o = e.prototype;
            return (
              (o.onLoadCompleted = function (e, o) {
                if (null == e) {
                  var n = o.json;
                  if (Array.isArray(n)) {
                    for (var r, a = t(n); !(r = a()).done; ) {
                      var s = r.value,
                        l = new i(s);
                      this._waves.push(l);
                    }
                    u.emit(c[c.WavesDataController_Loaded]);
                  } else v.log("Couldn't parse waves!");
                }
              }),
              (o.getTotalWaves = function (e) {
                try {
                  return this._waves.filter(function (t) {
                    return t.level === e;
                  }).length;
                } catch (t) {
                  throw "Couldn't get total waves for Level " + e;
                }
              }),
              (o.getWave = function (e, t) {
                var o = this._waves.find(function (o) {
                  return o.level === e && o.wave === t;
                });
                if (o) return o;
                throw "Couldn't find wave for Level " + e + " and ID " + t;
              }),
              e
            );
          })()
        );
        e("wavesDataController", new f());
        o._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WavesDataControllerEvents.ts",
  ["cc"],
  function (e) {
    "use strict";
    var t;
    return {
      setters: [
        function (e) {
          t = e.cclegacy;
        },
      ],
      execute: function () {
        var a;
        e("WavesDataControllerEvents", void 0),
          t._RF.push(
            {},
            "bce54Jh4I5Hl6ihBCDk1Id7",
            "WavesDataControllerEvents",
            void 0
          ),
          (function (e) {
            e[(e.WavesDataController_Loaded = 0)] =
              "WavesDataController_Loaded";
          })(a || (a = e("WavesDataControllerEvents", {}))),
          t._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WaveUI.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./WaveEventData.ts"],
  function (e) {
    "use strict";
    var t, r, a, n, i, s, o, u, l;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.inheritsLoose),
            (a = e.initializerDefineProperty),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (i = e.cclegacy),
            (s = e._decorator),
            (o = e.EventHandler),
            (u = e.Component);
        },
        function (e) {
          l = e.WaveEventData;
        },
      ],
      execute: function () {
        var c, v, p, f, y, W, b;
        i._RF.push({}, "bf1ee1D121LrYfqbYo8LfSs", "WaveUI", void 0);
        var h = s.ccclass,
          V = s.property;
        e(
          "WaveUI",
          ((c = h("WaveUI")),
          (v = V({ visible: !0, type: [o] })),
          (p = V({ visible: !0, type: [o] })),
          c(
            ((W = t(
              (y = (function (e) {
                function t() {
                  for (
                    var t, r = arguments.length, i = new Array(r), s = 0;
                    s < r;
                    s++
                  )
                    i[s] = arguments[s];
                  return (
                    (t = e.call.apply(e, [this].concat(i)) || this),
                    a(t, "_setCurrentValue", W, n(t)),
                    a(t, "_setTotalValue", b, n(t)),
                    t
                  );
                }
                r(t, e);
                var i = t.prototype;
                return (
                  (i.setCurrentWaveValue = function (e, t) {
                    e instanceof l
                      ? (o.emitEvents(this._setCurrentValue, e.currentWave),
                        this.setTotalWavesValue(e))
                      : t && this.setCurrentWaveValue(t);
                  }),
                  (i.setTotalWavesValue = function (e) {
                    o.emitEvents(this._setTotalValue, e.totalWaves);
                  }),
                  t
                );
              })(u)).prototype,
              "_setCurrentValue",
              [v],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (b = t(y.prototype, "_setTotalValue", [p], {
              configurable: !0,
              enumerable: !0,
              writable: !0,
              initializer: function () {
                return [];
              },
            })),
            (f = y))
          ) || f)
        );
        i._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WorldSettings.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc", "./LevelsController.ts"],
  function (e) {
    "use strict";
    var t, r, i, n, l, o, s, a;
    return {
      setters: [
        function (e) {
          (t = e.applyDecoratedDescriptor),
            (r = e.initializerDefineProperty),
            (i = e.inheritsLoose),
            (n = e.assertThisInitialized);
        },
        function (e) {
          (l = e.cclegacy), (o = e._decorator), (s = e.Component);
        },
        function (e) {
          a = e.levelsController;
        },
      ],
      execute: function () {
        var u, c, p, f, d, v, b, g, h, y, m, w, L, D;
        l._RF.push({}, "5fec0TnEtNP1biJdJcxsype", "WorldSettings", void 0);
        var S = o.ccclass,
          W = o.property,
          _ = e(
            "WorldSettingsData",
            ((u = S("WorldSettingsData")),
            (c = W({ visible: !0 })),
            (p = W({ visible: !0 })),
            (f = W({ visible: !0 })),
            u(
              ((b = t(
                (v = function () {
                  r(this, "worldID", b, this),
                    r(this, "minLevel", g, this),
                    r(this, "maxLevel", h, this);
                }).prototype,
                "worldID",
                [c],
                {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: function () {
                    return 0;
                  },
                }
              )),
              (g = t(v.prototype, "minLevel", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              })),
              (h = t(v.prototype, "maxLevel", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return 0;
                },
              })),
              (d = v))
            ) || d)
          );
        e(
          "WorldSettings",
          ((y = S("WorldSettings")),
          (m = W({ visible: !0, type: [_] })),
          y(
            ((D = t(
              (L = (function (e) {
                function t() {
                  for (
                    var t, i = arguments.length, l = new Array(i), o = 0;
                    o < i;
                    o++
                  )
                    l[o] = arguments[o];
                  return (
                    (t = e.call.apply(e, [this].concat(l)) || this),
                    r(t, "_worlds", D, n(t)),
                    t
                  );
                }
                return (
                  i(t, e),
                  (t.prototype.getCurrentWorldID = function () {
                    var e = a.currentLevel;
                    return this._worlds.find(function (t) {
                      return e >= t.minLevel && e <= t.maxLevel;
                    }).worldID;
                  }),
                  t
                );
              })(s)).prototype,
              "_worlds",
              [m],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return [];
                },
              }
            )),
            (w = L))
          ) || w)
        );
        l._RF.pop();
      },
    };
  }
);

System.register(
  "chunks:///_virtual/WorldToUIPosition.ts",
  ["./rollupPluginModLoBabelHelpers.js", "cc"],
  function (t) {
    "use strict";
    var e, i, o, r, n, a, s, c, u, l, p;
    return {
      setters: [
        function (t) {
          (e = t.applyDecoratedDescriptor),
            (i = t.inheritsLoose),
            (o = t.initializerDefineProperty),
            (r = t.assertThisInitialized);
        },
        function (t) {
          (n = t.cclegacy),
            (a = t._decorator),
            (s = t.Node),
            (c = t.director),
            (u = t.Camera),
            (l = t.Vec3),
            (p = t.Component);
        },
      ],
      execute: function () {
        var d, h, f, g, _;
        n._RF.push({}, "5a0eaVysqhMqoORZai6uA9P", "WorldToUIPosition", void 0);
        var P = a.ccclass,
          m = a.property;
        t(
          "WorldToUIPosition",
          ((d = P("WorldToUIPosition")),
          (h = m({ visible: !0, type: s })),
          d(
            ((_ = e(
              (g = (function (t) {
                function e() {
                  for (
                    var e, i = arguments.length, n = new Array(i), a = 0;
                    a < i;
                    a++
                  )
                    n[a] = arguments[a];
                  return (
                    (e = t.call.apply(t, [this].concat(n)) || this),
                    o(e, "_target", _, r(e)),
                    (e._camera = null),
                    e
                  );
                }
                i(e, t);
                var n = e.prototype;
                return (
                  (n.start = function () {
                    var t = c
                      .getScene()
                      .getComponentsInChildren(u)
                      .filter(function (t) {
                        return "Main Camera" === t.node.name;
                      });
                    (this._camera = t[0]), this.updatePosition();
                  }),
                  (n.update = function () {
                    this.updatePosition();
                  }),
                  (n.setTarget = function (t) {
                    this._target = t;
                  }),
                  (n.updatePosition = function () {
                    if (this._camera && this._target && this.node.parent) {
                      var t = new l();
                      this._camera.convertToUINode(
                        this._target.worldPosition,
                        this.node.parent,
                        t
                      ),
                        this.node.setPosition(t);
                    }
                  }),
                  e
                );
              })(p)).prototype,
              "_target",
              [h],
              {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function () {
                  return null;
                },
              }
            )),
            (f = g))
          ) || f)
        );
        n._RF.pop();
      },
    };
  }
);

(function (r) {
  r("virtual:///prerequisite-imports/main", "chunks:///_virtual/main");
})(function (mid, cid) {
  System.register(mid, [cid], function (_export, _context) {
    return {
      setters: [
        function (_m) {
          var _exportObj = {};

          for (var _key in _m) {
            if (_key !== "default" && _key !== "__esModule")
              _exportObj[_key] = _m[_key];
          }

          _export(_exportObj);
        },
      ],
      execute: function () {},
    };
  });
});
