System.register("chunks:///_virtual/AdBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var o,e,n,r,i,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Component},function(t){i=t.nn,s=t.nlog}],execute:function(){var a;e._RF.push({},"7ebcdVJ5r9NIqq4roEEtV4x","AdBase",void 0);var c=n.ccclass;n.property,t("AdBase",c("AdBase")(a=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).showCopyright=!1,o}o(e,t);var n=e.prototype;return n.onLoad=function(){i.ad=this,"ok"!=this.getQueryVariable("t")&&(this.showCopyright=!0)},n.show=function(){s("Show Ad")},n.showRV=function(t,o){s("Show RVAd"),void 0!==o?this.rewarded(t,o):this.rewarded(t)},n.rewarded=function(t,o){void 0!==o?t(o):t()},n.getQueryVariable=function(t){for(var o=globalThis.location.search.substring(1).split("&"),e=0;e<o.length;e++){var n=o[e].match(/([^=]+?)=(.+)/);if(n&&decodeURIComponent(n[1])==t)return decodeURIComponent(n[2])}},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/AdGameDist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(o){"use strict";var n,i,d,t,e,s;return{setters:[function(o){n=o.inheritsLoose},function(o){i=o.cclegacy,d=o._decorator,t=o.Component},function(o){e=o.nn,s=o.nlog}],execute:function(){var a;i._RF.push({},"d6de6oD6oNA5YZI63ZPzL9w","AdGameDist",void 0);var l=d.ccclass;d.property,o("AdGameDist",l("AdGameDist")(a=function(o){function i(){for(var n,i=arguments.length,d=new Array(i),t=0;t<i;t++)d[t]=arguments[t];return(n=o.call.apply(o,[this].concat(d))||this).adCooldownTime=10,n.adCooldownTimeoutId=void 0,n.isAdCoolingDown=!1,n}n(i,o);var d=i.prototype;return d.onLoad=function(){e.ad=this;var o,n,i,d,t,s=this;window.GD_OPTIONS={gameId:"9acd6395683f4fe0b2059b2e553d2425",onEvent:function(o){switch(o.name){case"SDK_GAME_START":s.onAdHide();break;case"SDK_GAME_PAUSE":s.onAdShow();break;case"SDK_REWARDED_WATCH_COMPLETE":s.rewarded()}}},o=document,n="script",i="gamedistribution-jssdk",t=o.getElementsByTagName(n)[0],o.getElementById(i)||((d=o.createElement(n)).id=i,d.src="https://html5.api.gamedistribution.com/main.min.js",d.onload=function(){s.preloadRV()},t.parentNode.insertBefore(d,t))},d.onAdShow=function(){s("Ad is showing!"),e.control.pauseGame()},d.onAdHide=function(){s("Ad is hidden!"),e.control.resumeGame(!0)},d.startAdCooldown=function(){this.isAdCoolingDown||(this.isAdCoolingDown=!0,this.adCooldownTimeoutId=window.setTimeout(this.stopAdCooldown.bind(this),1e3*this.adCooldownTime))},d.stopAdCooldown=function(){this.isAdCoolingDown&&(this.isAdCoolingDown=!1,window.clearTimeout(this.adCooldownTimeoutId))},d.preloadRV=function(){void 0!==globalThis.gdsdk&&"undefined"!==globalThis.gdsdk.showAd&&globalThis.gdsdk.preloadAd("rewarded").then((function(o){})).catch((function(o){}))},d.show=function(){this.isAdCoolingDown?s("Ad is cooling down..."):void 0!==globalThis.gdsdk&&"undefined"!==globalThis.gdsdk.showAd&&(globalThis.gdsdk.showAd(),this.startAdCooldown())},d.showRV=function(){if("undefined"!==globalThis.gdsdk&&"undefined"!==globalThis.gdsdk.showAd){var o=this;globalThis.gdsdk.showAd("rewarded").then((function(o){})).catch((function(n){o.failRV()}))}},d.rewarded=function(){e.control.rvAdMenu.active=!1,e.control.continueGame()},d.failRV=function(){e.control.rvAdMenu.active=!1,e.control.showEndMenu(!1)},i}(t))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/AdYandex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(o){"use strict";var n,d,e,i,t,a;return{setters:[function(o){n=o.inheritsLoose},function(o){d=o.cclegacy,e=o._decorator,i=o.director,t=o.Component},function(o){a=o.nn}],execute:function(){var s;d._RF.push({},"0df0fMqIrJEQ4u7UnNhHEdC","AdYandex",void 0);var l=e.ccclass;e.property,o("AdYandex",l("AdYandex")(s=function(o){function d(){for(var n,d=arguments.length,e=new Array(d),i=0;i<d;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).isRewarded=!1,n.adCooldownTime=180,n.adCooldownTimeoutId=void 0,n.isAdCoolingDown=!1,n}n(d,o);var e=d.prototype;return e.onLoad=function(){var o,n,d,e,t;i.addPersistRootNode(this.node),a.ad=this,o=document,n="script",d="id-jssdk",t=o.getElementsByTagName(n)[0],o.getElementById(d)||((e=o.createElement(n)).id=d,e.src="./games/sdk/v2",t.parentNode.insertBefore(e,t),e.onload=a.ad.onSdkReady)},e.onSdkReady=function(){globalThis.YaGames.init({adv:{onAdvClose:a.ad.onAdHide}}).then((function(o){if(globalThis.ysdk=o,a.ad.show(),a.storage.data.autoDetectLanguage){globalThis.language=o.environment.i18n.lang;-1===["en","ru","vi","fr","pt","es"].indexOf(globalThis.language)&&(globalThis.language="ru"),a.text&&a.text.setCurrentLanguage(globalThis.language)}}))},e.onAdShow=function(){a.audio&&a.storage.data.bgm&&a.audio.bgm.playing&&a.audio.bgm.pause()},e.onAdHide=function(){a.audio&&a.storage.data.bgm&&!a.audio.bgm.playing&&a.audio.bgm.play()},e.startAdCooldown=function(){this.isAdCoolingDown||(this.isAdCoolingDown=!0,this.adCooldownTimeoutId=window.setTimeout(this.stopAdCooldown.bind(this),1e3*this.adCooldownTime))},e.stopAdCooldown=function(){this.isAdCoolingDown&&(this.isAdCoolingDown=!1,window.clearTimeout(this.adCooldownTimeoutId))},e.show=function(){if(!this.isAdCoolingDown){var o=this;this.startAdCooldown();try{globalThis.ysdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){o.onAdShow()},onClose:function(n){n&&o.onAdHide()}}})}catch(n){o.stopAdCooldown()}}},e.showRV=function(o,n){var d=this;d.isRewarded=!1,globalThis.ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){d.onAdShow()},onRewarded:function(){d.isRewarded=!0},onClose:function(){d.onAdHide(),d.isRewarded&&(void 0!==n?o(n):o(),d.isRewarded=!1)},onError:function(o){a.msg&&a.msg.show("NoAd")}}})},d}(t))||s);d._RF.pop()}}}));

System.register("chunks:///_virtual/AudioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(e){"use strict";var t,i,n,o,l,r,a,u,c,s,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.AudioSource,u=e.director,c=e.input,s=e.Input,p=e.Component},function(e){b=e.nn}],execute:function(){var f,F,y,S,h,d,g,X,w,k,m,A,z,v,T,C,_,B,M,R,P,D,G,H,L,O,x;l._RF.push({},"593ffYC321MQ5TQO/uv5CPN","AudioControl",void 0);var E=r.ccclass,I=r.property;e("AudioControl",(f=E("AudioControl"),F=I(a),y=I(a),S=I(a),h=I(a),d=I(a),g=I(a),X=I(a),w=I(a),k=I(a),m=I(a),A=I(a),z=I(a),f((C=t((T=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"bgm",C,o(t)),n(t,"buttonSFX",_,o(t)),n(t,"fullSFX",B,o(t)),n(t,"selectSFX",M,o(t)),n(t,"popSFX",R,o(t)),n(t,"deselectSFX",P,o(t)),n(t,"unlockSFX",D,o(t)),n(t,"waterSFX",G,o(t)),n(t,"winSFX",H,o(t)),n(t,"noticeSFX",L,o(t)),n(t,"magicSFX",O,o(t)),n(t,"newSFX",x,o(t)),t.unlockAudioFlag=!0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){b.audio=this,u.addPersistRootNode(this.node),c.on(s.EventType.TOUCH_START,this.unlockAudio,this)},l.play=function(e){if(b.storage.data.sfx)switch(e){case"button":this.buttonSFX.play();break;case"full":this.fullSFX.play();break;case"select":this.unlockAudioFlag?this.unlockAudio():this.selectSFX.play();break;case"pop":this.popSFX.play();break;case"deselect":this.deselectSFX.play();break;case"unlock":this.unlockSFX.play();break;case"water":this.waterSFX.play();break;case"notice":this.noticeSFX.play();break;case"win":this.winSFX.play();break;case"magic":this.magicSFX.play();break;case"new":this.newSFX.play()}},l.playButtonSFX=function(){this.unlockAudioFlag?this.unlockAudio():this.play("button"),b.ad.show()},l.playBGM=function(){b.storage.data.bgm&&!this.bgm.playing&&this.bgm.play()},l.stopBGM=function(){this.bgm.stop()},l.unlockAudio=function(){this.unlockAudioFlag&&(this.playBGM(),this.unlockAudioFlag=!1,c.off(s.EventType.TOUCH_START,this.unlockAudio,this))},t}(p)).prototype,"bgm",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"buttonSFX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"fullSFX",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"selectSFX",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"popSFX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(T.prototype,"deselectSFX",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"unlockSFX",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"waterSFX",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"winSFX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"noticeSFX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"magicSFX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"newSFX",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/BGBelow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,n,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator,n=e.sys,r=e.View,s=e.Component}],execute:function(){var c;o._RF.push({},"99006WTHhRP6JPupMI9qv+W","BGBelow",void 0);var u=i.ccclass;i.property,e("BGBelow",u("BGBelow")(c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onLoad=function(){if(n.isMobile){var e=r.instance.getVisibleSizeInPixel();e.width/e.height<9/16&&this.node.destroy()}},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts","./PopupControl.ts","./PopupOver.ts","./PopupShop.ts","./PopupLoot.ts"],(function(t){"use strict";var e,n,a,o,i,l,r,u,s,g,p,h,c,d,b,f,m,y,P,v,w,S,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,r=t.Node,u=t.SpriteFrame,s=t.Sprite,g=t.Vec3,p=t.input,h=t.Input,c=t.tween,d=t.Button,b=t.Component},function(t){f=t.nn,m=t.v3t4,y=t.v3t2,P=t.v3t3},function(t){v=t.PopupControl},function(t){w=t.PopupOver},function(t){S=t.PopupShop},function(t){C=t.PopupLoot}],execute:function(){var R,T,A,L,E,O,z,B,x,M,F,k,_,X,U,G,H,V,Z,D,N,W,j,I,J,Q,q,K,Y;i._RF.push({},"29a0btu6wZJP5EQaVLNRjF3","ButtonControl",void 0);var $=l.ccclass,tt=l.property;t("ButtonControl",(R=$("ButtonControl"),T=tt(w),A=tt(S),L=tt(r),E=tt(r),O=tt(r),z=tt(r),B=tt(u),x=tt(u),M=tt(r),F=tt(r),k=tt(r),_=tt(r),X=tt(C),R((H=e((G=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,a(e,"popupOver",H,o(e)),a(e,"popupShop",V,o(e)),a(e,"buttonBGM",Z,o(e)),a(e,"buttonSFX",D,o(e)),a(e,"buttonReplay",N,o(e)),a(e,"buttonMenu",W,o(e)),a(e,"imageMenu",j,o(e)),a(e,"imageExit",I,o(e)),a(e,"controlPanel",J,o(e)),e.panelShowing=!1,a(e,"language",Q,o(e)),e.languageShowing=!1,e.tweening=!1,e.menuReady=!0,a(e,"languagePanel",q,o(e)),a(e,"rvAd",K,o(e)),a(e,"popupLoot",Y,o(e)),e}n(e,t);var i=e.prototype;return i.start=function(){this.buttonBGM.getComponent(s).grayscale=!f.storage.data.bgm,this.buttonSFX.getComponent(s).grayscale=!f.storage.data.sfx,f.buttonControl=this,this.controlPanel.on(r.EventType.TOUCH_START,this.hideAll,this),this.controlPanel.active=!1,this.languagePanel.on(r.EventType.TOUCH_START,this.hideLanguage,this),this.languagePanel.active=!1;var t=this.language.children[0];if(t.name!==f.storage.data.language)for(var e=this.languagePanel.children,n=0;n<e.length;n++){var a=e[n];if(a.name===f.storage.data.language){a.setParent(this.language),a.setPosition(g.ZERO),t.setParent(this.languagePanel),f.text.setCurrentLanguage(a.name);break}}p.on(h.EventType.TOUCH_START,this.hideAll,this)},i.callback=function(t,e){var n=this;if(this.hideLanguage(),f.control.selectReady){var a=t.target;if("sfx"!==e||(f.storage.save("sfx",!f.storage.data.sfx),a.getComponent(s).grayscale=!f.storage.data.sfx,f.storage.data.sfx))switch(f.audio.playButtonSFX(),e){case"replay":f.control.restart(),this.hideAll();break;case"shop":this.popupOver.unscheduleAllCallbacks(),this.popupShop.show(),this.hideAll();break;case"close":a.parent.parent.getComponent(v).hide();break;case"undo":break;case"menu":this.menuReady&&(this.panelShowing?this.hidePanel():(this.menuReady=!1,this.controlPanel.active=!0,m.set(0,204,0),c(this.controlPanel).to(.2,{position:m}).call((function(){n.menuReady=!0,n.buttonMenu.getComponent(s).spriteFrame=n.imageExit,n.panelShowing=!0})).start()));break;case"bgm":f.storage.save("bgm",!f.storage.data.bgm),f.storage.data.bgm?f.audio.playBGM():f.audio.stopBGM(),a.getComponent(s).grayscale=!f.storage.data.bgm}}},i.showRVX3=function(t){var e=t.target;this.setEnable(e,!1),f.ad.showRV(this.rewardX3.bind(this)),f.audio.play("button")},i.showRV200=function(t){f.ad.showRV(this.rewardCoin.bind(this),200),this.popupShop.activeButton(this.popupShop.buttonAddCoin,!1),f.control.rv200Enabled=!1,f.audio.play("button")},i.randomUnlock=function(t){this.popupShop.randomUnlock()},i.rewardX3=function(){var t=2*f.control.totalGlass*f.coinPerGlass;f.storage.save("coin",f.storage.data.coin+t),this.popupOver.showCoinAnim(t),f.audio.play("magic")},i.rewardCoin=function(t){f.storage.save("coin",f.storage.data.coin+t),f.control.coinText.string=f.storage.data.coin.toLocaleString(),this.popupShop.showCoinAnim(t),f.audio.play("magic")},i.setEnable=function(t,e){t.getComponent(s).grayscale=!e,t.getComponent(d).interactable=e},i.showLoot=function(){this.popupLoot.node.active||(this.popupLoot.show(),f.audio.playButtonSFX(),this.hideAll())},i.toggleLanguage=function(t){var e=this;if(!this.tweening){this.tweening=!0,t&&f.audio.playButtonSFX();var n=null==t?void 0:t.target,a=this.language.children[0];this.languageShowing=!this.languageShowing,this.languageShowing?(this.languagePanel.active=!0,a.getWorldPosition(y),this.languagePanel.setWorldPosition(y),this.languagePanel.setScale(g.ZERO),P.set(0,557,0),c(this.languagePanel).to(.2,{position:P,scale:g.ONE}).call((function(){e.tweening=!1})).start()):(a.getWorldPosition(y),c(this.languagePanel).to(.2,{worldPosition:y,scale:g.ZERO}).call((function(){e.tweening=!1,e.languagePanel.active=!1})).start()),n&&"LanguagePanel"===n.parent.name&&(n.setParent(this.language),n.setPosition(g.ZERO),a.setParent(this.languagePanel),f.text.setCurrentLanguage(n.name))}},i.hideLanguage=function(){this.languageShowing&&this.toggleLanguage()},i.hidePanel=function(){var t=this;this.panelShowing&&(this.menuReady=!1,m.set(0,-300,0),c(this.controlPanel).to(.2,{position:m}).call((function(){t.menuReady=!0,t.buttonMenu.getComponent(s).spriteFrame=t.imageMenu,t.controlPanel.active=!1,t.panelShowing=!1})).start())},i.hideAll=function(){this.hideLanguage(),this.hidePanel()},i.onDestroy=function(){p.off(h.EventType.TOUCH_START,this.hideAll,this),this.languagePanel.off(r.EventType.TOUCH_START,this.hideLanguage,this),this.controlPanel.off(r.EventType.TOUCH_START,this.hideAll,this)},e}(b)).prototype,"popupOver",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(G.prototype,"popupShop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(G.prototype,"buttonBGM",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(G.prototype,"buttonSFX",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(G.prototype,"buttonReplay",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(G.prototype,"buttonMenu",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(G.prototype,"imageMenu",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(G.prototype,"imageExit",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(G.prototype,"controlPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(G.prototype,"language",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(G.prototype,"languagePanel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(G.prototype,"rvAd",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(G.prototype,"popupLoot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=G))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/Cocktail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var e,o,i,r,n,c,a,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,a=t.SpriteFrame,s=t.director,l=t.Component},function(t){u=t.nn}],execute:function(){var p,d,f,h,y;n._RF.push({},"1bb3bEGQIJEdLQBm9/aLjoo","Cocktail",void 0);var b=c.ccclass,k=c.property;t("Cocktail",(p=b("Cocktail"),d=k([a]),p((y=e((h=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"cocktails",y,r(e)),e}return o(e,t),e.prototype.onLoad=function(){u.asset=this,s.addPersistRootNode(this.node)},e}(l)).prototype,"cocktails",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var n,o,e,i,r,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Vec3,r=t.tween,s=t.Component},function(t){c=t.nn}],execute:function(){var a;o._RF.push({},"159afy/eGtLCrlYTCu4tAHt","Coin",void 0);var l=e.ccclass;e.property,t("Coin",l("Coin")(a=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).firstTarget=new i,n.target=new i,n}n(o,t);var e=o.prototype;return e.start=function(){this.node.active=!1},e.show=function(t){var n=this;this.node.setPosition(i.ZERO),this.firstTarget.x=c.rBetween(-50,180),this.firstTarget.y=c.rBetween(-180,50),this.node.active=!0,c.control.coinAnim.coinBox.getWorldPosition(this.target),r(this.node).delay(t).to(.35,{position:this.firstTarget}).to(.35,{worldPosition:this.target}).call((function(){n.node.active=!1,c.control.coinAnim.collectCoin()})).start()},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Coin.ts","./nn.ts"],(function(i){"use strict";var n,o,t,e,r,a,l,c,s,u,h,p,f,C;return{setters:[function(i){n=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,l=i.Prefab,c=i.Node,s=i.instantiate,u=i.Label,h=i.Component},function(i){p=i.Coin},function(i){f=i.v3t5,C=i.nn}],execute:function(){var b,d,m,g,v,y,A;r._RF.push({},"0b99b0XfQtLfqAbfAXjbP56","CoinAnim",void 0);var x=a.ccclass,P=a.property;i("CoinAnim",(b=x("CoinAnim"),d=P(l),m=P(c),b((y=n((v=function(i){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i.call.apply(i,[this].concat(r))||this,t(n,"prefabCoin",y,e(n)),t(n,"coinBox",A,e(n)),n.numCoin=6,n.coinValue=6,n.labelCoin=void 0,n}o(n,i);var r=n.prototype;return r.start=function(){for(var i=0;i<this.numCoin;i++){var n=s(this.prefabCoin);this.node.addChild(n)}this.labelCoin=this.coinBox.getChildByName("CoinText").getComponent(u)},r.showAt=function(i,n){i.getWorldPosition(f),this.node.setWorldPosition(f),this.coinValue=Math.ceil(n/this.numCoin),this.node.children.forEach((function(i,n){i.getComponent(p).show(.1*n)}))},r.collectCoin=function(){var i=this.labelCoin.string.replace(/,|\./g,""),n=Number(i);n+=this.coinValue,n=C.limMax(n,C.storage.data.coin),this.labelCoin.string=n.toLocaleString()},n}(h)).prototype,"prefabCoin",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(v.prototype,"coinBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var n,t,e,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,r=o.Component}],execute:function(){var c;t._RF.push({},"9ecfa2pfBlKu6yNAyDDnW38","Common",void 0);var s=e.ccclass;e.property,o("Common",s("Common")(c=function(o){function t(){return o.apply(this,arguments)||this}return n(t,o),t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Confetti.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var e,s,i,r,o,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,r=t.Graphics,o=t.tween,n=t.Color,a=t.Component},function(t){c=t.nn}],execute:function(){var h;s._RF.push({},"cdf36C7S0dFuqw9bWX0ay1f","Confetti",void 0);var p=i.ccclass;i.property,t("Confetti",p("Confetti")(h=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).num=35,e.speedRate=12,e.gravity=-9,e.vertices=[],e.graphics=void 0,e.color=new n,e.props={alpha:255,scale:100},e.tweenAlpha=void 0,e.tweenScale=void 0,e}e(s,t);var i=s.prototype;return i.onLoad=function(){this.graphics=this.getComponent(r);for(var t=0;t<this.num;t++)this.vertices[t]={};this.node.active=!1},i.show=function(t){var e=this;this.props.alpha=255,this.props.scale=100,this.tweenAlpha&&this.tweenAlpha.stop(),this.tweenScale&&this.tweenScale.stop();var s,i,r=Math.PI/8,n=c.pio2-r,a=c.pio2+r,h=c.control.node.scale.x;t.x*=h,t.y*=h;for(var p=0;p<this.num;p++){s=c.rBetween(n,a),i=(20*Math.random()+10)*this.speedRate;var l=this.vertices[p];l.x=t.x,l.y=t.y,l.r=c.rBetween(6,12),l.vx=i*Math.cos(s),l.vy=i*Math.sin(s),l.cr=c.rBetween(50,255),l.cg=c.rBetween(50,255),l.cb=c.rBetween(50,255),l.sx=c.rBetween(10,18),l.sy=c.rBetween(10,18)}this.tweenAlpha=o(this.props).to(1.5,{alpha:0},{easing:"expoIn"}).call((function(){e.node&&(e.node.active=!1)})).start(),this.tweenScale=o(this.props).to(1.5,{scale:0}).start(),this.node.active=!0},i.update=function(t){if(this.node.active){for(var e=0;e<this.num;e++){var s=this.vertices[e];s.vy+=this.gravity,s.x+=s.vx*t,s.y+=s.vy*t}var i=this.graphics;i.clear();for(var r=0;r<this.num;r++){var o=this.vertices[r];i.ellipse(o.x,o.y,o.r*(this.props.scale%o.sx)/o.sx,o.r*(this.props.scale%o.sy)/o.sy),this.color.set(o.cr,o.cg,o.cb,this.props.alpha),i.fillColor=this.color,i.fill()}}},s}(a))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/Control.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Glass.ts","./nn.ts","./PopupOver.ts","./Text.ts","./Levels.ts","./Confetti.ts","./CoinAnim.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,l,u,c,d,h,g,p,f,b,v,m,y,C,G,w,P,U,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Label,u=t.Node,c=t.SpriteFrame,d=t.instantiate,h=t.Widget,g=t.Sprite,p=t.UITransform,f=t.director,b=t.Component},function(t){v=t.Glass},function(t){m=t.nn,y=t.v3t,C=t.v3t2},function(t){G=t.PopupOver},function(t){w=t._TEXT},function(t){P=t.generateLevel},function(t){U=t.Confetti},function(t){z=t.CoinAnim}],execute:function(){var k,L,N,S,T,A,B,x,F,E,O,R,D,V,_,j,W,M,H,I,Q,Y,X;r._RF.push({},"12c15QYNYlGpb8k3pDS1rQB","Control",void 0);var q=a.ccclass,J=a.property;t("Control",(k=q("Control"),L=J([s]),N=J(l),S=J(l),T=J(G),A=J(u),B=J(u),x=J(z),F=J([u]),E=J(U),O=J([c]),k((V=e((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"glassPrefabs",V,i(e)),o(e,"levelText",_,i(e)),o(e,"coinText",j,i(e)),o(e,"popupOver",W,i(e)),o(e,"buttonUndo",M,i(e)),o(e,"background",H,i(e)),o(e,"coinAnim",I,i(e)),o(e,"widgetNode",Q,i(e)),o(e,"confetti",Y,i(e)),o(e,"spriteFrames",X,i(e)),e.selectReady=!0,e.over=!1,e.currentGlass=null,e.fullGlass=0,e.totalGlass=0,e.history=[],e.startData={},e.rv200Enabled=!0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){m.control=this,this.coinText.string=m.storage.data.coin.toLocaleString()},r.start=function(){var t=this,e=this.glassPrefabs[m.storage.data.glass[0]];this.updateBg();var n=m.storage.data.level,o=P(n);this.levelText.string=w[m.storage.data.language].Level+" "+n,this.totalGlass=o.length;var i=n<20?0:1,r=n<3?1:n<70?2:3,a=o.length+r+i,s=a<13||16==a?4:5,u=Math.ceil(a/s),c=s,h=s,g=s,p=a%s;switch(p){case 0:4===a&&(u=2,c=2);break;case 1:h=3,g=2;break;case 2:6===a?(u=2,c=3):g=p;break;default:g=p}var f=4===s?160:140,b=u>2?310:350;5!==s&&4!==u||(this.node.setScale(.86,.86),f*=1.1);for(var y=-((c-1)*f)/2,C=-((u-1)*b)/2,G=0,U=0;U<u;U++){var z=c;U===u-1&&g!==s&&(z=g,y=-(g-1)*f/2),U===u-2&&h!==s&&(z=h,y=-(h-1)*f/2);for(var k=0;k<z;k++){var L,N=d(e),S=(null==(L=o[G])?void 0:L.split(""))||[],T=y+k*f,A=C+U*b;if(N.getComponent(v).init(T,A,S,G),this.node.addChild(N),++G===a){1===i&&N.getComponent(v).attachRVAd();break}}if(G===a)break}this.buttonUndo.getChildByName("Label").getComponent(l).string=m.storage.data.undo,this.buttonUndo.getChildByName("Video").active=0===m.storage.data.undo,this.node.children.forEach((function(e){var n=e.getComponent(v);t.startData[n.id.toString()]=n.colors.join("")})),this.updateWidget(),this.scheduleOnce((function(){t.updateWidget()}),600)},r.updateWidget=function(){this.widgetNode.forEach((function(t){var e;null==(e=t.getComponent(h))||e.updateAlignment()}))},r.updateBg=function(){this.background.getComponent(g).spriteFrame=this.spriteFrames[m.storage.data.background[0]]},r.updateGlass=function(){var t=this;if(!this.over){var e=[],n=[],o=[],i=[],r=-1;m.control.currentGlass&&(m.control.currentGlass.deselecting(),m.control.currentGlass=null),this.node.children.forEach((function(t){var a=t.getComponent(v);e.push(a.colors.join("")),o.push(t.getPosition()),n.push(a.isFull),i.push(a.id),a.rvAd&&(r=a.id)})),this.node.removeAllChildren();var a=this.glassPrefabs[m.storage.data.glass[0]];e.forEach((function(e,s){var l=d(a),u=l.getComponent(v);u.init(o[s].x,o[s].y,e.split(""),i[s]),l.getPosition(y),y.y-=l.getComponent(p).height/2,l.setPosition(y),t.node.addChild(l),n[s]&&u.showOrnaments(),u.id===r&&u.attachRVAd()}))}},r.addFullGlass=function(){this.fullGlass++,this.fullGlass===this.totalGlass&&this.end()},r.end=function(){var t=this;this.over=!0,f.preloadScene("game"),this.scheduleOnce((function(){t.popupOver.show()}),1.7),m.buttonControl.buttonMenu.active=!1},r.addHistory=function(){11===this.history.length&&this.history.shift();var t={};this.node.children.forEach((function(e){var n=e.getComponent(v);t[n.id.toString()]=n.colors.join("")})),this.history.push(t)},r.undo=function(){if(m.audio.play("button"),0!==m.storage.data.undo){if(0!==this.history.length&&m.control.selectReady&&!this.over){m.storage.save("undo",--m.storage.data.undo),this.buttonUndo.getChildByName("Label").getComponent(l).string=m.storage.data.undo;var t=this.history.pop();this.fullGlass=0,this.restore(t),0===m.storage.data.undo&&(this.buttonUndo.getChildByName("Video").active=!0),m.control.currentGlass&&(m.control.currentGlass.deselecting(),m.control.currentGlass=null)}}else m.ad.showRV(this.rewardUndo.bind(this))},r.restart=function(){this.selectReady&&!this.over&&(this.fullGlass=0,this.history=[],this.restore(this.startData),m.control.currentGlass&&(m.control.currentGlass.deselecting(),m.control.currentGlass=null))},r.restore=function(t){this.node.children.forEach((function(e){var n=e.getComponent(v);e.getComponent(v).reSetup(t[n.id.toString()].split(""))}))},r.rewardUndo=function(){m.storage.save("undo",5),this.buttonUndo.getChildByName("Video").active=!1,this.buttonUndo.getChildByName("Label").getComponent(l).string=m.storage.data.undo,this.buttonUndo.getPosition(y),this.buttonUndo.parent.getPosition(C),y.add(C),this.confetti.show(y),m.audio.play("full")},e}(b)).prototype,"glassPrefabs",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(D.prototype,"levelText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(D.prototype,"coinText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(D.prototype,"popupOver",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(D.prototype,"buttonUndo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(D.prototype,"background",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(D.prototype,"coinAnim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(D.prototype,"widgetNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(D.prototype,"confetti",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(D.prototype,"spriteFrames",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/Copyright.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var o,n,r,e,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,e=t.Component},function(t){i=t.nn}],execute:function(){var c;n._RF.push({},"b4a521aXKREoKExtSDXN2Cu","Copyright",void 0);var s=r.ccclass;r.property,t("Copyright",s("Copyright")(c=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.onLoad=function(){this.node.active=i.ad.showCopyright},n}(e))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Draggable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var o,n,e,i,s,h;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,i=t.Node,s=t.Component},function(t){h=t.v3t}],execute:function(){var r;n._RF.push({},"ea8b6X4yTFJYLhPlTonbONp","Draggable",void 0);var c=e.ccclass;e.property,t("Draggable",c("Draggable")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.start=function(){this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this)},e.onTouchMove=function(t){this.node.getWorldPosition(h);var o=t.getUIDelta();h.x+=o.x,h.y+=o.y,this.node.setWorldPosition(h)},e.onTouchStart=function(t){},e.onTouchEnd=function(t){},e.onDestroy=function(){this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this)},n}(s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Glass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Levels.ts","./Liquid.ts","./nn.ts"],(function(t){"use strict";var o,i,s,e,n,l,r,a,h,c,u,d,f,g,v,p,m,w,y,C,O;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,e=t.Node,n=t.UITransform,l=t.Color,r=t.Sprite,a=t.toRadian,h=t.Vec3,c=t.tween,u=t.Component},function(t){d=t.COLORS},function(t){f=t.Liquid},function(t){g=t.v3t,v=t.nn,p=t.v3t2,m=t.v3t3,w=t.v3t4,y=t.v3t5,C=t.v3t6,O=t.v3t7}],execute:function(){var S;i._RF.push({},"7d3075nH+pOOq0zKusosz4b","Glass",void 0);var q=s.ccclass;s.property,t("Glass",q("Glass")(S=function(t){function i(){for(var o,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return(o=t.call.apply(t,[this].concat(s))||this).pouring=!1,o.id=0,o.isFull=!1,o.isSelected=!1,o.selectDY=42,o.w0=[36.5,36.5,39,48],o.scaleY0=[],o.dx=void 0,o.liquids=void 0,o.liquidBase=[],o.flow=void 0,o.color=new l,o.colorId=void 0,o.timeRatio=.301,o.angles=[39,62,71,79,86],o.timeScale=[1.6,2,1.9,1.35],o.timeRotate=[1.35,1.35,1.35,1.35],o.colors=[],o.rvAd=!1,o}o(i,t);var s=i.prototype;return s.onLoad=function(){var t,o=this;this.node.on(e.EventType.TOUCH_START,this.onTouchStart,this),this.liquids=(null==(t=this.node.getChildByName("Mask"))?void 0:t.children)||[],this.liquids.forEach((function(t){o.liquidBase.push(t.position.y),o.scaleY0.push(t.scale.y)})),this.dx=this.getComponent(n).width/2,this.node.getPosition(g),g.y+=this.getComponent(n).height/2,this.node.setPosition(g),this.flow=this.node.getChildByName("flow"),this.flow.active=!1,this.setupGlass(),this.timeScale.forEach((function(t,i,s){s[i]*=o.timeRatio})),this.timeRotate.forEach((function(t,i,s){s[i]*=o.timeRatio})),this.hideOrnaments()},s.init=function(t,o,i,s){switch(g.set(t,o,0),this.node.setPosition(g),this.colors=i,this.timeScale=[1.6,2,1.9,1.35],this.angles=[39,62,71,79,86],v.storage.data.glass[0]){case 1:this.timeScale=[1.4,1.85,1.5,1.2],this.w0=[28,29,30,47];break;case 2:this.w0=[44,45,48,57];break;case 3:this.timeScale=[1.6,2,1.9,1.55],this.w0=[41,40,43,56];break;case 4:this.timeScale=[1.9,2.4,1.9,1.25],this.w0=[35,32,35,42];break;case 5:this.timeScale=[1.95,1.95,1.65,1.6],this.w0=[34,29,32,51],this.angles=[39,62,73,80,88];break;default:this.w0=[35,35,39,48]}this.id=s},s.setupGlass=function(){for(var t=3,o=this.colors.length-1;t>=0;t--,o--)o<0?this.liquids[t].active=!1:(this.liquids[t].active=!0,l.fromHEX(this.color,d[this.colors[o]]),this.liquids[t].getComponent(r).color=this.color)},s.update=function(t){this.pouring&&this.updateLiquid()},s.onTouchStart=function(t){if(v.buttonControl.popupLoot.checkLoots(),this.rvAd)v.ad.showRV(this.reward.bind(this));else if(v.control.selectReady&&!this.isFull)if(this.isSelected)this.deselect();else{var o=!0;v.control.currentGlass&&(this.checkPourable()?(v.control.addHistory(),v.control.currentGlass.pourInto(this),o=!1):v.control.currentGlass.deselect()),o&&this.select()}else v.audio.unlockAudio()},s.select=function(){0!==this.colors.length&&(this.isSelected=!0,this.node.getPosition(g),g.y+=this.selectDY,this.node.setPosition(g),v.control.currentGlass=this,v.audio.play("select"))},s.deselect=function(){v.audio.play("deselect"),this.deselecting()},s.deselecting=function(){this.isSelected=!1,this.node.getPosition(g),g.y-=this.selectDY,this.node.setPosition(g),v.control.currentGlass=null},s.checkPourable=function(){return 0===this.colors.length||v.control.currentGlass.getTopColor()===this.getTopColor()&&v.control.currentGlass.getTopColorLength()<=4-this.colors.length},s.getTopColor=function(){return this.colors[0]},s.getTopColorLength=function(){for(var t=1,o=this.getTopColor(),i=1;i<this.colors.length&&this.colors[i]===o;i++)t++;return t},s.updateLiquid=function(){var t=this,o=a(-this.node.eulerAngles.z),i=Math.sin(o);this.liquids.forEach((function(s,e){var n=Math.abs(t.w0[e]*i),l=n*i,r=n*Math.cos(o);s.active&&(s.setPosition(l,t.liquidBase[e]-r),s.setRotationFromEuler(0,0,-t.node.eulerAngles.z))}))},s.pourInto=function(t){var o=this;this.pouring=!0,v.control.selectReady=!1,this.node.setSiblingIndex(-1),this.node.getPosition(g),t.node.getPosition(p),p.y+=this.selectDY;var i=g.x<p.x;p.x+=this.dx*(i?-1:1);var s=h.subtract(m,g,p).length(),e=Math.sqrt(s/3200),n=4-this.colors.length;this.colorId=this.colors[this.colors.length-this.colors.length],l.fromHEX(this.color,d[this.colorId]),w.set(0,0,i?-this.angles[n]:this.angles[n]),c(this.node).to(e,{position:p}).call((function(){o.setAnchorX(i?1:0),v.audio.play("water")})).to(.1+.1*n,{eulerAngles:w}).call((function(){o.pourLiquid(t,n,i,e)})).start()},s.pourLiquid=function(t,o,i,s){var e=this;t.flowIn(this.colorId);var n=this.liquids[o];y.set(1,.5,1),n.getComponent(f).waving();var l=c(n).to(this.timeScale[o],{scale:y}).start();w.z=i?-this.angles[o+1]:this.angles[o+1],c(this.node).to(this.timeRotate[o],{eulerAngles:w}).call((function(){l.stop(),e.removeLiquid(o),e.colors.length>0&&e.colorId===e.getTopColor()?e.pourLiquid(t,++o,i,s):(t.hideFlow(),e.moveBack(s,i))})).start()},s.removeLiquid=function(t){this.liquids[t].active=!1,this.liquids[t].getComponent(f).resetSprite(),this.colors.shift()},s.moveBack=function(t,o){var i=this;g.x+=(o?1:-1)*this.dx,g.y-=this.selectDY,w.set(0,0,0),c(this.node).to(t,{position:g,eulerAngles:w}).call((function(){i.reset()})).start(),v.audio.waterSFX.stop()},s.reset=function(){this.setAnchorX(.5),this.isSelected=!1,v.control.selectReady=!0,v.control.currentGlass=null,this.pouring=!1,this.updateLiquid(),v.audio.play("deselect")},s.reSetup=function(t){var o=this;this.colors=t,this.setupGlass(),this.setAnchorX(.5),this.liquids.forEach((function(t,i){t.active&&(t.setPosition(0,o.liquidBase[i]),t.setRotationFromEuler(0,0,0),t.setScale(1,o.scaleY0[i],1))})),4===this.colors.length&&this.colors.every((function(t){return t===o.colors[0]}))?(this.isFull=!0,v.control.addFullGlass()):(this.isFull&&(this.unscheduleAllCallbacks(),this.hideOrnaments()),this.isFull=!1)},s.setAnchorX=function(t){var o=this.getComponent(n),i=o.anchorX-t;o.anchorX=t,this.node.getPosition(m),m.x-=o.width*i,this.node.setPosition(m),this.node.children.forEach((function(t){t.getPosition(m),m.x+=o.width*i,t.setPosition(m)}))},s.flowIn=function(t){this.colors.unshift(t),l.fromHEX(this.color,d[t]),this.showLiquid(4-this.colors.length,this.color),this.flow.active||(this.flow.active=!0,this.flow.getComponent(r).color=this.color,this.flow.setScale(1,0,1),C.set(1,1,1),c(this.flow).to(.2,{scale:C}).start())},s.showLiquid=function(t,o){var i=this,s=this.liquids[t];s.getComponent(r).color=o,s.setPosition(0,this.liquidBase[t],0),s.setRotationFromEuler(0,0,0),s.setScale(1,0,1),s.active=!0,s.getComponent(f).waving(),O.set(1,this.scaleY0[t],1);var e=this.flow.active?0:.05*(t+1),n=this.timeRotate[t]-e;c(s).delay(e).to(n,{scale:O}).call((function(){0===t&&i.colors.every((function(t){return t===i.colors[0]}))&&(v.control.addFullGlass(),i.isFull=!0,i.processOrnaments()),s.getComponent(f).resetSprite()})).start()},s.hideFlow=function(){this.flow.active=!1},s.onDestroy=function(){this.node.off(e.EventType.TOUCH_START,this.onTouchStart,this)},s.processOrnaments=function(){var t=this,o=[this.node.getChildByPath("Ornaments/Straw"),this.node.getChildByPath("Ornaments/Lemon")],i=["Umbrella","Ornaments/Orange","Ornaments/Olive","Ornaments/Pad","Ice","Ornaments/Bonbon"];v.storage.data.ornament.forEach((function(s){o.push(t.node.getChildByPath(i[s]))}));var s=o.length-1,e=0;this.schedule((function(){o[e].active=!0,v.audio.play("pop"),e===s&&(t.showConfetti(),v.audio.play("full")),e++}),.1,s)},s.hideOrnaments=function(){var t=this;["Umbrella","Ornaments/Orange","Ornaments/Olive","Ornaments/Pad","Ice","Ornaments/Bonbon","Ornaments/Straw","Ornaments/Lemon"].forEach((function(o){t.node.getChildByPath(o).active=!1}))},s.showOrnaments=function(){var t=this;this.isFull=!0;var o=[this.node.getChildByPath("Ornaments/Straw"),this.node.getChildByPath("Ornaments/Lemon")],i=["Umbrella","Ornaments/Orange","Ornaments/Olive","Ornaments/Pad","Ice","Ornaments/Bonbon"];v.storage.data.ornament.forEach((function(s){o.push(t.node.getChildByPath(i[s]))})),o.forEach((function(t){t.active=!0}))},s.showConfetti=function(){this.node.getPosition(O),v.control.confetti.show(O)},s.attachRVAd=function(){this.rvAd=!0,v.buttonControl.rvAd.parent=this.node,v.buttonControl.rvAd.active=!0},s.reward=function(){this.rvAd=!1,this.showConfetti(),v.buttonControl.rvAd.destroy(),v.audio.play("full")},i}(u))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var o,n,e,r,i,u,c;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.Node,i=t.Component},function(t){u=t.nn,c=t.GameState}],execute:function(){var s;n._RF.push({},"dc1b5Dku/VPooMzb62kmuZY","HomeScreen",void 0);var a=e.ccclass;e.property,t("HomeScreen",a("HomeScreen")(s=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this).halo=void 0,o}o(n,t);var e=n.prototype;return e.onLoad=function(){this.halo=this.node.getChildByName("Halo"),u.home=this,u.buttonControl.setupButtons()},e.onEnable=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this)},e.update=function(t){this.halo.angle+=30*t},e.onTouchStart=function(){u.buttonControl.hideLanguage()},e.show=function(){u.buttonControl.setupButtons("home"),this.node.active=!0},e.hide=function(){u.state=c.READY,u.control.restart(),u.buttonControl.setupButtons("game"),this.node.off(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.active=!1},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var n,e,o,s,i,c,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.Node,i=t.Sprite,c=t.Component},function(t){h=t.nn}],execute:function(){var a;e._RF.push({},"b7d9fjZ2n1Lf7gn/CQUKAt1","Item",void 0);var d=o.ccclass;o.property,t("Item",d("Item")(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).unlocked=!1,n.shop=void 0,n.unlockByAd=!1,n}n(e,t);var o=e.prototype;return o.start=function(){var t=this.node.getChildByName("Video");t&&(this.unlockByAd=-1!==h.storage.data[this.node.parent.name+"Ad"],t.active=this.unlockByAd),("Ornament"!==this.node.parent.name||this.unlockByAd)&&this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this)},o.onTouchEnd=function(t){t.getDeltaX()<10&&(this.unlockByAd?h.ad.showRV(this.unlock.bind(this)):this.unlocked&&(this.shop.setActiveItem(this.node),h.audio.play("full")))},o.unlock=function(){this.setUnlock(!0),this.node.getChildByName("Video").active=!1,h.storage.data[this.node.parent.name+"Ad"]=-1,this.shop.unlockItem(this.node,this.node.parent.name.toLowerCase()),"Ornament"!==this.node.parent.name&&this.shop.setActiveItem(this.node),this.unlockByAd=!1},o.setUnlock=function(t,n){this.unlocked=t,this.node.getComponent(i).grayscale=!t,n&&(this.shop=n)},o.onDestroy=function(){("Ornament"!==this.node.parent.name||this.unlockByAd)&&this.node.off(s.EventType.TOUCH_END,this.onTouchEnd,this)},e}(c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Leaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var e,a,i,r,o,n,s,l,d,h,u,c,g,m,p,f,y,b,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,s=t.Node,l=t.Prefab,d=t.SpriteFrame,h=t.SpriteAtlas,u=t.Color,c=t.NodePool,g=t.Sprite,m=t.Label,p=t.instantiate,f=t.EditBox,y=t.Component},function(t){b=t.nn,C=t.ncrypt}],execute:function(){var v,B,I,S,F,D,L,P,w,N,x,U,z,T,_,E,R,j,k;o._RF.push({},"7a57eD12j5J1YNC2ozWw0Re","Leaderboard",void 0);var A=n.ccclass,J=n.property;t("Leaderboard",(v=A("Leaderboard"),B=J(s),I=J(l),S=J(s),F=J(s),D=J(s),L=J(s),P=J(d),w=J(h),v((U=e((x=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).title="CocktailPuzzle",e.url="https://bestgamesfreeplay.com:8085/api/score",i(e,"footer",U,r(e)),i(e,"item",z,r(e)),i(e,"separator",T,r(e)),i(e,"content",_,r(e)),i(e,"updatingText",E,r(e)),i(e,"updatedText",R,r(e)),i(e,"globalFlag",j,r(e)),i(e,"flags",k,r(e)),e.userColor=new u("#AFFFAF"),e.pool=void 0,e.userInList=void 0,e}a(e,t);var o=e.prototype;return o.onLoad=function(){b.lb=this,this.pool=new c},o.onShowing=function(){var t=this;this.hideEditBox(),this.userInList=!1,this.sendScore(b.storage.data.level-1),setTimeout((function(){t.getScores()}),800)},o.sendScore=function(t){var e=b.storage.data.username,a=b.storage.data.userID,i=b.storage.data.country,r={leaderboard:this.title,type:"add",id:a,username:e,country:i,score:t};this.fetchData(r,this.processScoreData.bind(this))},o.getScores=function(){this.updatingText.active=!0,this.updatedText.active=!1;var t={leaderboard:this.title,type:"get"};this.fetchData(t,this.processData.bind(this))},o.fetchData=function(t,e){var a={dt:C.hide(JSON.stringify(t))},i={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}},r=this.url;fetch(r,i).then((function(t){return t.json()})).then((function(t){void 0!==e&&e(t)})).catch((function(t){console.log(t.msg||t.message),b.msg.show("Failed")}))},o.processData=function(t){for(var e=this.content.children.length;e>0;){e--;var a=this.content.children[e];e<3?a.active=!1:"Footer"!==a.name&&"Separator"!==a.name?(a.getChildByPath("User/Image").getComponent(g).spriteFrame=this.globalFlag,this.pool.put(a)):a.removeFromParent()}if(this.userInList=!1,t.length>0){var i=t[0],r=this.content.getChildByName("item-golden");if(this.updateItem(r,i),this.loadFlag(i.country,r.getChildByPath("User/Image")),i._id===b.storage.data.userID&&(this.userInList=!0),t.length>1){var o=t[1],n=this.content.getChildByName("item-silver");if(this.updateItem(n,o),this.loadFlag(o.country,n.getChildByPath("User/Image")),o._id===b.storage.data.userID&&(this.userInList=!0),t.length>2){var s=t[2],l=this.content.getChildByName("item-bronze");this.updateItem(l,s),this.loadFlag(s.country,l.getChildByPath("User/Image")),s._id===b.storage.data.userID&&(this.userInList=!0);for(var d=3;d<t.length;d++)this.addItem(t[d],d+1)}}}if(this.content.addChild(this.separator),!this.userInList){var h={_id:b.storage.data.userID,username:b.storage.data.username,score:b.storage.data.level-1,country:b.storage.data.country};this.addItem(h,"--")}this.updatingText.active=!1,this.updatedText.active=!0,this.content.addChild(this.footer)},o.updateItem=function(t,e){t.getChildByPath("User/Name").getComponent(m).string=e.username,t.getChildByPath("User/Score").getComponent(m).string=e.score.toLocaleString(),t.active=!0},o.addItem=function(t,e){var a=this.pool.get();a||(a=p(this.item)),a.getChildByPath("User/Name").getComponent(m).string=t.username,a.getChildByPath("User/Score").getComponent(m).string=t.score.toLocaleString(),a.getChildByPath("Rank/Number").getComponent(m).string=e.toLocaleString(),t._id===b.storage.data.userID&&(a.getChildByName("Rank").getComponent(g).color=this.userColor,a.getChildByName("User").getComponent(g).color=this.userColor,this.userInList=!0),this.content.addChild(a),this.loadFlag(t.country,a.getChildByPath("User/Image"))},o.loadFlag=function(t,e){if(t){var a=this.flags.spriteFrames[t.toLowerCase()];a&&(e.getComponent(g).spriteFrame=a)}},o.processScoreData=function(t){var e=!1,a=t.id||t._id;b.storage.data.userID!==a&&(b.storage.data.userID=a,e=!0),b.storage.data.country!==t.country&&(b.storage.data.country=t.country,e=!0),e&&b.storage.saveData()},o.showEditBox=function(){this.footer.getChildByName("ButtonEdit").active=!1,this.footer.getChildByPath("Username/EditBox").getComponent(f).string=b.storage.data.username,this.footer.getChildByName("Username").active=!0},o.hideEditBox=function(){this.footer.getChildByName("ButtonEdit").active=!0,this.footer.getChildByName("Username").active=!1},o.submitUsername=function(){var t=this,e=this.footer.getChildByPath("Username/EditBox").getComponent(f).string;C.filter(e)?b.msg.show("BadWord"):(this.hideEditBox(),""!==e&&e!==b.storage.data.username&&(b.storage.save("username",e),this.sendScore(b.storage.data.level-1),setTimeout((function(){t.getScores()}),800)))},e}(y)).prototype,"footer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(x.prototype,"item",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(x.prototype,"separator",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(x.prototype,"content",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(x.prototype,"updatingText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(x.prototype,"updatedText",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(x.prototype,"globalFlag",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(x.prototype,"flags",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=x))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderboardYandex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(e){"use strict";var t,a,i,o,r,n,l,s,d,u,c,g,h,b,p,m,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,l=e.Node,s=e.Prefab,d=e.SpriteFrame,u=e.Color,c=e.NodePool,g=e.Sprite,h=e.Label,b=e.instantiate,p=e.assetManager,m=e.Texture2D,f=e.Component},function(e){y=e.nn}],execute:function(){var v,C,L,T,P,N,S,k,w,B,I,A,x,F,U,z,R;r._RF.push({},"c725cKuqCVERaYhsdnaY99f","LeaderboardYandex",void 0);var D=n.ccclass,Y=n.property;e("LeaderboardYandex",(v=D("LeaderboardYandex"),C=Y(l),L=Y(s),T=Y(l),P=Y(l),N=Y(l),S=Y(l),k=Y(d),v((I=t((B=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).title="CocktailSort",i(t,"footer",I,o(t)),i(t,"item",A,o(t)),i(t,"separator",x,o(t)),i(t,"content",F,o(t)),i(t,"updatingText",U,o(t)),i(t,"updatedText",z,o(t)),i(t,"userImage",R,o(t)),t.userColor=new u("#AFFFAF"),t.pool=void 0,t.userLogged=!1,t.userRank=0,t}a(t,e);var r=t.prototype;return r.onLoad=function(){y.lb=this,this.node.active=!1,this.pool=new c,y.initLeaderboard&&(y.initLeaderboard=!1,this.initLeaderboard(),this.initPlayer()),y.lb.footer.active=!1},r.initLeaderboard=function(){void 0!==globalThis.ysdk&&globalThis.ysdk.getLeaderboards().then((function(e){globalThis.lb=e,y.lb.userLogged?y.lb.sendScore(y.storage.data.level-1):y.lb.initPlayer()}))},r.initPlayer=function(e,t){void 0===globalThis.ysdk||y.lb.userLogged||globalThis.ysdk.getPlayer().then((function(t){y.lb.userLogged=!0,y.lb.footer.active=!1,y.lb.sendScore(y.storage.data.level-1),"function"==typeof e&&setTimeout(e,750)})).catch((function(e){"function"==typeof t&&t(),y.lb.footer.active=!0}))},r.sendScore=function(e){globalThis.lb&&globalThis.lb.setLeaderboardScore(y.lb.title,e)},r.openAuthDialog=function(){"undefined"!=globalThis.ysdk&&globalThis.ysdk.auth.openAuthDialog().then((function(){y.lb.initPlayer(y.lb.getScores)})).catch((function(){y.lb.footer.active=!0,y.lb.updatedLabel(!0)}))},r.getScores=function(){globalThis.lb&&""!=globalThis.lb._appId?(y.lb.updatedLabel(!1),globalThis.lb.getLeaderboardEntries(y.lb.title,{quantityTop:20,includeUser:y.lb.userLogged,quantityAround:5}).then((function(e){y.lb.userRank=e.userRank,y.lb.processData(e.entries)})).catch((function(e){y.msg.show("LoginToView"),y.lb.footer.active=!0,y.lb.updatedLabel(!0)}))):(y.lb.initLeaderboard(),y.msg.show("Error")),y.lb.userLogged||(y.lb.initPlayer(),y.msg.show("NoAuth"))},r.updatedLabel=function(e){this.updatingText.active=!e,this.updatedText.active=e},r.processData=function(e){if(this.node.active){for(var t=this.content.children.length;t>0;){t--;var a=this.content.children[t];t<3?a.active=!1:"Footer"!==a.name&&"Separator"!==a.name?(a.getChildByPath("User/Image").getComponent(g).spriteFrame=this.userImage,this.pool.put(a)):a.removeFromParent()}if(e.length>0){var i=e[0],o=this.content.getChildByName("item-golden");if(this.updateItem(o,i),this.loadAvatar(i,o.getChildByPath("User/Image")),e.length>1){var r=e[1],n=this.content.getChildByName("item-silver");if(this.updateItem(n,r),this.loadAvatar(r,n.getChildByPath("User/Image")),e.length>2){var l=e[2],s=this.content.getChildByName("item-bronze");this.updateItem(s,l),this.loadAvatar(l,s.getChildByPath("User/Image"));for(var d=3;d<e.length;d++)20===d&&this.content.addChild(this.separator),this.addItem(e[d])}}}this.updatedLabel(!0)}},r.updateItem=function(e,t){e.getChildByPath("User/Name").getComponent(h).string=t.player.publicName?y.formatName(t.player.publicName):"Anonymous",e.getChildByPath("User/Score").getComponent(h).string=t.formattedScore,e.active=!0},r.addItem=function(e){var t=this.pool.get();t||(t=b(this.item)),t.getChildByPath("User/Name").getComponent(h).string=e.player.publicName?y.formatName(e.player.publicName):"Anonymous",t.getChildByPath("User/Score").getComponent(h).string=e.formattedScore,t.getChildByPath("Rank/Number").getComponent(h).string=e.rank.toLocaleString(),e.rank===y.lb.userRank&&(t.getChildByName("Rank").getComponent(g).color=this.userColor,t.getChildByName("User").getComponent(g).color=this.userColor),this.content.addChild(t),this.loadAvatar(e,t.getChildByPath("User/Image"))},r.loadAvatar=function(e,t){var a=e.player.getAvatarSrc("small");a&&p.loadRemote(a,{ext:".png"},(function(e,a){if(!e&&void 0!==a){var i=new d,o=new m;o.image=a,i.texture=o,t.getComponent(g).spriteFrame=i}}))},t}(f)).prototype,"footer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(B.prototype,"item",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(B.prototype,"separator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(B.prototype,"updatingText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(B.prototype,"updatedText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(B.prototype,"userImage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Levels.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"7febeL91SBGDptrZduBoNiL","Levels",void 0);r("COLORS",{1:"e88c42",2:"b91a24",3:"1600ed",4:"59c57b",5:"f56c7b",6:"646364",7:"539de1",8:"722991",9:"7a980c",A:"ff00cc",B:"03710b",C:"853800",D:"ffff00",E:"450243",F:"1f5a59",G:"023703"}),r("generateLevel",(function(r){if(r<4)return n[r.toString()];var t=[],a=20;r<7?a=5:r<10?a=6:r<15?a=7:r<20?a=8:r<30?a=10:r<40?a=11:r<55?a=12:r<70?a=13:r<130&&(a=16+Math.floor((r-70)/15));for(var o=a-(r<70?2:3)-(r<20?0:1),c="123456789ABCDEFG",f="",i=0;i<o;i++){var u=e(c);c=c.replace(u,"");for(var s=0;s<4;s++)f+=u}f=f.split("").sort((function(){return Math.random()-.5})).join("");for(var v=new RegExp(/(.)\1{3}/);v.test(f);)f=f.split("").sort((function(){return Math.random()-.5})).join("");for(var l=0;l<o;l++){t[l]="";for(var h=0;h<4;h++){var p=f.charAt(0);f.length>1&&(f=f.slice(1)),t[l]+=p}}return t}));var e=function(r){var t=Math.floor(Math.random()*r.length);return r.slice(t,t+1)},n={1:["1122","2211"],2:["3131","1313"],3:["3123","1123","2312"]};t._RF.pop()}}}));

System.register("chunks:///_virtual/Liquid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,n,o,s,a,p,h,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.SpriteFrame,p=t.Sprite,h=t.UITransform,l=t.Component}],execute:function(){var u,c,f,m,g,v,y;o._RF.push({},"2440f4MVl5Er7XLnrp2ZjTJ","Liquid",void 0);var d=s.ccclass,S=s.property;t("Liquid",(u=d("Liquid"),c=S(a),f=S(a),u((v=i((g=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,r(i,"normalSprite",v,n(i)),r(i,"waveSprite",y,n(i)),i.sprite=void 0,i.transform=void 0,i.height=void 0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.sprite=this.getComponent(p),this.transform=this.getComponent(h),this.height=this.transform.height},o.waving=function(){this.sprite.spriteFrame=this.waveSprite,this.sprite.type=p.Type.TILED,this.transform.height=this.height+4},o.resetSprite=function(){this.sprite.spriteFrame=this.normalSprite,this.sprite.type=p.Type.SLICED,this.transform.height=this.height},i}(l)).prototype,"normalSprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(g.prototype,"waveSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Loader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.director,a=e.lerp,i=e.Component}],execute:function(){var c;r._RF.push({},"9f3degn4wZIOZW/o1eijLQH","Loader",void 0);var s=n.ccclass;n.property,e("Loader",s("Loader")(c=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).loadBar=void 0,t.percent=76,t.target=76,t.speed=.07,t}t(r,e);var n=r.prototype;return n.onLoad=function(){var e=this;this.loadBar=document.getElementById("loader"),clearInterval(globalThis.loadTimer);var t=parseInt(this.loadBar.style.width)+2,r=100-t;this.percent=this.target=t,o.preloadScene("game",(function(n,o){e.target=t+n/o*r}),(function(){o.loadScene("game",(function(){document.getElementById("cover").style.display="none"}))}))},n.update=function(e){this.percent=a(this.percent,this.target,this.speed),this.loadBar.style.width=this.percent+"%"},r}(i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AdBase.ts","./AdGameDist.ts","./AdYandex.ts","./Copyright.ts","./AudioControl.ts","./BGBelow.ts","./ButtonControl.ts","./Cocktail.ts","./Coin.ts","./CoinAnim.ts","./Confetti.ts","./Control.ts","./Glass.ts","./HomeScreen.ts","./Item.ts","./Common.ts","./Leaderboard.ts","./LeaderboardYandex.ts","./Levels.ts","./Draggable.ts","./Loader.ts","./Liquid.ts","./Notification.ts","./PopupCocktail.ts","./PopupControl.ts","./PopupLeaderboard.ts","./PopupLoot.ts","./PopupOver.ts","./PopupShop.ts","./Text.ts","./TutorialHand.ts","./nn.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/nn.ts",["cc"],(function(t){"use strict";var e,n,a,o;return{setters:[function(t){e=t.cclegacy,n=t.Vec3,a=t.View,o=t.ResolutionPolicy}],execute:function(){t("GameState",void 0),e._RF.push({},"c1da9xiMpRCL66ED1pKT4p8","nn",void 0);t("v3t",new n),t("v3t2",new n),t("v3t3",new n),t("v3t4",new n),t("v3t5",new n),t("v3t6",new n),t("v3t7",new n),t("nlog",(function(){if(u.logEnabled){console.log("%c [nunu v1.0] Debug %c ","color: #ffe054; background-color: #25612d;","");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){console.log(t)}))}})),t("ntrace",(function(){if(u.logEnabled){console.log("%c [nunu v1.0] Debug %c ","color: #ffe054; background-color: #25612d;","");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){console.trace(t)}))}}));var r,i=t("ncrypt",{map:"!EegpIt^B9SL1AQXdq$wFUK24D6cM@xbJRPv&7_OyrzmVW0ZHT%h58oki~jCau#fsN3G*-Ynl",cap:3,getRandomChar:function(t,e){var n=Math.floor(Math.random()*e)*this.cap+t;return this.map.charAt(n)},hide:function(t){for(var e="",n=Math.floor(this.map.length/this.cap-1),a=0;a<t.length;a++){var o=t.charCodeAt(a),r=o%this.map.length,i=Math.floor(o/this.map.length);e+=this.map.charAt(r)+this.getRandomChar(i,n)}return e},show:function(t){for(var e="",n=t.length/2,a=0;a<n;a++){var o=t.charAt(2*a),r=t.charAt(2*a+1),i=this.map.indexOf(r),s=this.map.indexOf(o)+i%this.cap*this.map.length;e+=String.fromCharCode(s)}return e},uuid:function(){return Math.random().toString(16).slice(2)+Date.now()},filter:function(t){return/\w*(fuck|blowjob|bitch|mother|father|f_u_c_k|f u c k|piss|viagra|vulva|penis|orgasm|masturbat)\w*|\b(fuc|fuk|shit|bitch|blowjob|cock|cock|shit|damn|dog|cum|sex|fux)\b| ass|^ass/i.test(t)},generate:function(t){for(var e="0123456789abcdefghijklmnpqrstvwxyzABCDEFGHIJKLMNPQRSTVWXYZ",n="",a=t;a>0;--a)n+=e[Math.round(Math.random()*(e.length-1))];return n}}),s=function(){function t(t,e){this.name="Nunu-Game-v1.0.0",this.data=void 0,this.supported=!1,this.name=t,this.initData(e)}var e=t.prototype;return e.initData=function(t){try{localStorage.setItem("test","test"),localStorage.removeItem("test"),this.supported=!0}catch(t){}if(this.supported){var e=localStorage.getItem(this.name);null==e?(localStorage.setItem(this.name,i.hide(JSON.stringify(t))),this.data=t):this.data=JSON.parse(i.show(e))}else this.data=t},e.save=function(t,e){this.data[t]=e,this.saveData()},e.saveData=function(){this.supported&&localStorage.setItem(this.name,i.hide(JSON.stringify(this.data)))},t}();!function(t){t[t.HOME=0]="HOME",t[t.READY=1]="READY",t[t.PLAYING=2]="PLAYING",t[t.PAUSE=3]="PAUSE",t[t.OVER=4]="OVER",t[t.RVAD=5]="RVAD"}(r||(r=t("GameState",{})));var u=t("nn",{logEnabled:!0,audioUnlock:!0,control:null,ad:null,lb:null,audio:null,text:null,msg:null,buttonControl:null,home:null,showRVAd:!0,initLeaderboard:!0,coinPerGlass:10,asset:null,state:r.HOME,storage:new s("Nunu-Cocktail-Sort-v1.0.0",{level:1,coin:0,undo:5,bgm:!0,sfx:!0,glass:[0,1],ornament:[],background:[0,1],GlassAd:1,OrnamentAd:0,BackgroundAd:1,autoDetectLanguage:!0,lootBasic:Date.now(),lootBasicActive:!1,lootPremiumActive:!1,lootPremium:Date.now(),language:"ru",username:"",country:"",userID:""}),pio2:Math.PI/2,pi2:2*Math.PI,rBetween:function(t,e){return t+Math.random()*(e-t)},iBetween:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},select:function(t){return t[Math.floor(Math.random()*t.length)]},get:function(t){var e=Math.floor(Math.random()*t.length);return t.splice(e,1)[0]},onResize:function(){var t=a.instance.getVisibleSizeInPixel(),e=t.width/t.height<.65625?o.FIXED_WIDTH:o.FIXED_HEIGHT;a.instance.setResolutionPolicy(e)},limMax:function(t,e){return t>e&&(t=e),t},limMin:function(t,e){return t<e&&(t=e),t},formatName:function(t){return(t=t.trim()).length<20?t:t.slice(0,18).trim()+"..."}});""===u.storage.data.username&&u.storage.save("username","Guest_"+i.generate(5)),a.instance.setResizeCallback(u.onResize),u.onResize(),document.addEventListener("blur",(function(){u.audio&&u.audio.bgm&&u.storage&&u.storage.data.bgm&&u.audio.bgm.pause()}),!0),document.addEventListener("focus",(function(){u.audio&&u.audio.bgm&&u.storage&&u.storage.data.bgm&&u.audio.bgm.play()}),!0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Notification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts","./Text.ts"],(function(t){"use strict";var i,o,n,e,c,a,s,r,u;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,e=t.UIOpacity,c=t.Label,a=t.tween,s=t.Component},function(t){r=t.nn},function(t){u=t._TEXT}],execute:function(){var p;o._RF.push({},"60f53xfHRNJRLUVhtkk7kEf","Notification",void 0);var h=n.ccclass;n.property,t("Notification",h("Notification")(p=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).tween=void 0,i.uiOpacity=void 0,i}i(o,t);var n=o.prototype;return n.onLoad=function(){this.uiOpacity=this.getComponent(e),this.uiOpacity.opacity=0,r.msg=this,this.node.active=!1,r.control.updateWidget(),console.log("update widget")},n.showMsg=function(t){var i=this;this.tween&&this.tween.stop(),this.node.getChildByName("Label").getComponent(c).string=t,this.node.active=!0,this.tween=a(this.uiOpacity).to(.2,{opacity:255}).delay(3).to(.2,{opacity:0}).call((function(){i.node.active=!1})).start()},n.show=function(t){this.showMsg(u[r.storage.data.language][t])},o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupCocktail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts","./PopupControl.ts"],(function(o){"use strict";var t,n,c,e,p,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,c=o._decorator,e=o.Sprite},function(o){p=o.nn},function(o){i=o.PopupControl}],execute:function(){var r;n._RF.push({},"c81e2shOsBKT7aLaDMjpAON","PopupCocktail",void 0);var a=c.ccclass;c.property,o("PopupCocktail",a("PopupCocktail")(r=function(o){function n(){for(var t,n=arguments.length,c=new Array(n),e=0;e<n;e++)c[e]=arguments[e];return(t=o.call.apply(o,[this].concat(c))||this).halo=void 0,t}t(n,o);var c=n.prototype;return c.onLoad=function(){o.prototype.onLoad.call(this),this.halo=this.content.getChildByName("Halo")},c.show=function(){p.buttonControl.popupOver.cocktailId++,this.content.getChildByName("cocktail").getComponent(e).spriteFrame=p.asset.cocktails[p.buttonControl.popupOver.cocktailId],o.prototype.show.call(this)},c.cbShow=function(){p.buttonControl.popupOver.updateCocktail()},c.update=function(o){this.halo.angle+=30*o},c.cbHide=function(o){p.buttonControl.popupOver.showUI()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(t){"use strict";var o,n,i,e,c,a,s,r,u;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.UIOpacity,c=t.Node,a=t.tween,s=t.Vec3,r=t.Component},function(t){u=t.nn}],execute:function(){var h;n._RF.push({},"ccbb5DCIXVPhb/xcopZ+5Xq","PopupControl",void 0);var p=i.ccclass;i.property,t("PopupControl",p("PopupControl")(h=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).content=void 0,o.v3=new s(1,1,1),o.uiOpacity=void 0,o}o(n,t);var i=n.prototype;return i.onLoad=function(){this.content=this.node.getChildByName("Content"),this.uiOpacity=this.node.getComponent(e);var t=this.node.getChildByName("Overlay");t&&t.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.uiOpacity.opacity=0,this.node.active=!1},i.onTouchStart=function(){},i.hide=function(t,o){var n=this;this.node.active&&(u.audio.playButtonSFX(),a(this.uiOpacity).to(.25,{opacity:0},{onComplete:function(){n.node.active=!1,n.cbHide(o)}}).start())},i.show=function(){var t=this;this.node.active||(u.buttonControl.hideLanguage(),this.node.active=!0,this.content.setScale(.01,.01,.01),a(this.content).to(.25,{scale:s.ONE}).start(),a(this.uiOpacity).to(.25,{opacity:255}).call((function(){t.cbShow()})).start())},i.cbHide=function(t){},i.cbShow=function(){},i.onDestroy=function(){var t=this.node.getChildByName("Overlay");t&&t.off(c.EventType.TOUCH_START,this.onTouchStart,this)},n}(r))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupLeaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts","./PopupControl.ts","./LeaderboardYandex.ts"],(function(e){"use strict";var t,o,n,r,i,a,u,p,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,u=e.Node,p=e.Widget},function(e){s=e.nn},function(e){c=e.PopupControl},function(e){l=e.LeaderboardYandex}],execute:function(){var d,b,f,h,y;i._RF.push({},"3fe79qeaIdNo7Z6GmXOZqEF","PopupLeaderboard",void 0);var g=a.ccclass,v=a.property;e("PopupLeaderboard",(d=g("PopupLeaderboard"),b=v(u),d((y=t((h=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"buttonClose",y,r(t)),t}o(t,e);var i=t.prototype;return i.show=function(){s.audio.playButtonSFX(),this.node.getComponent(l).getScores(),s.buttonControl.hideAll(),e.prototype.show.call(this),this.node.active=!0},i.cbShow=function(){this.buttonClose.getComponent(p).updateAlignment()},t}(c)).prototype,"buttonClose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopupLoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupControl.ts","./nn.ts","./Text.ts"],(function(t){"use strict";var a,e,o,i,n,r,s,c,l,g,u,m,h;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.Node,c=t.Button,l=t.Widget,g=t.Label},function(t){u=t.PopupControl},function(t){m=t.nn},function(t){h=t._TEXT}],execute:function(){var p,d,b,C,v,B,f,y,P,w,A,W,L,D,N;n._RF.push({},"c3a90TI+/9MQ6b+c50quXGo","PopupLoot",void 0);var z=r.ccclass,T=r.property;t("PopupLoot",(p=z("PopupLoot"),d=T(s),b=T(s),C=T(s),v=T(s),B=T(s),f=T(s),p((w=a((P=function(t){function a(){for(var a,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n))||this,o(a,"piggyBasic",w,i(a)),o(a,"piggyPremium",A,i(a)),o(a,"coinBadge",W,i(a)),o(a,"buttonClaim",L,i(a)),o(a,"buttonWatch",D,i(a)),o(a,"buttonClose",N,i(a)),a}e(a,t);var n=a.prototype;return n.onLoad=function(){this.buttonClaim.getComponent(c).interactable=m.storage.data.lootBasicActive,this.buttonWatch.getComponent(c).interactable=m.storage.data.lootPremiumActive,this.checkLoots(),t.prototype.onLoad.call(this)},n.cbShow=function(){this.buttonClose.getComponent(l).updateAlignment()},n.claimBasic=function(){m.storage.save("coin",m.storage.data.coin+10),m.control.coinAnim.showAt(this.piggyBasic,10),m.audio.play("magic"),this.buttonClaim.getComponent(c).interactable=!1,m.storage.data.lootBasicActive=!1,m.storage.data.lootBasic=Date.now(),m.storage.saveData(),this.updateBadge()},n.claimPremium=function(){m.audio.play("button"),m.ad.showRV(this.rewardPremium.bind(this))},n.rewardPremium=function(){m.storage.save("coin",m.storage.data.coin+100),m.control.coinAnim.showAt(this.piggyPremium,100),m.audio.play("magic"),this.buttonWatch.getComponent(c).interactable=!1,m.storage.data.lootPremiumActive=!1,m.storage.data.lootPremium=Date.now(),m.storage.saveData(),this.updateBadge()},n.checkLoot=function(t){(Date.now()-m.storage.data["loot"+t])/1e3>120&&(this.coinBadge.active||(this.coinBadge.active=!0),("Basic"===t?this.buttonClaim:this.buttonWatch).getComponent(c).interactable=!0,m.storage.save("loot"+t+"Active",!0),this.updateBadge(),this.buttonWatch.getChildByName("Watch").getComponent(g).string=h[m.storage.data.language].Watch)},n.updateBadge=function(){var t=0;m.storage.data.lootBasicActive&&t++,m.storage.data.lootPremiumActive&&t++,0===t?this.coinBadge.active=!1:(this.coinBadge.getChildByName("Label").getComponent(g).string=t.toString(),this.coinBadge.active=!0)},n.checkLoots=function(){var t=Date.now()-m.storage.data.lootBasic;t/1e3>120&&(this.buttonClaim.getComponent(c).interactable=!0,m.storage.save("lootBasicActive",!0),this.buttonClaim.getChildByName("Claim").getComponent(g).string=h[m.storage.data.language].Claim,this.updateBadge()),(t=Date.now()-m.storage.data.lootPremium)/1e3>120&&(this.buttonWatch.getComponent(c).interactable=!0,m.storage.save("lootPremiumActive",!0),this.buttonWatch.getChildByName("Watch").getComponent(g).string=h[m.storage.data.language].Watch,this.updateBadge())},n.update=function(){if(!m.storage.data.lootBasicActive){var t=Math.round(120-(Date.now()-m.storage.data.lootBasic)/1e3);if(t>0){var a=this.formatTime(t);this.buttonClaim.getChildByName("Claim").getComponent(g).string=a}else m.storage.save("lootBasicActive",!0),this.buttonClaim.getChildByName("Claim").getComponent(g).string=h[m.storage.data.language].Claim,this.buttonClaim.getComponent(c).interactable=!0,this.updateBadge()}if(!m.storage.data.lootPremiumActive){var e=Math.round(120-(Date.now()-m.storage.data.lootPremium)/1e3);if(e>0){var o=this.formatTime(e);this.buttonWatch.getChildByName("Watch").getComponent(g).string=o}else m.storage.save("lootPremiumActive",!0),this.buttonWatch.getChildByName("Watch").getComponent(g).string=h[m.storage.data.language].Watch,this.buttonWatch.getComponent(c).interactable=!0,this.updateBadge()}},n.formatTime=function(t){var a=t%60;return"0"+Math.floor(t/60)+":"+(a<10?"0"+a:a.toString())},a}(u)).prototype,"piggyBasic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=a(P.prototype,"piggyPremium",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=a(P.prototype,"coinBadge",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(P.prototype,"buttonClaim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=a(P.prototype,"buttonWatch",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=a(P.prototype,"buttonClose",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts","./PopupControl.ts","./PopupCocktail.ts"],(function(t){"use strict";var e,o,i,a,n,r,s,l,c,h,u,p,g,d,f,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.Label,l=t.Node,c=t.Vec3,h=t.Sprite,u=t.tween,p=t.director},function(t){g=t.nn,d=t.v3t6},function(t){f=t.PopupControl},function(t){v=t.PopupCocktail}],execute:function(){var C,y,m,w,k,B,b,P,N;n._RF.push({},"feaafjsrgBHWqSrN/aKh03T","PopupOver",void 0);var I=r.ccclass,S=r.property;t("PopupOver",(C=I("PopupOver"),y=S(s),m=S(l),w=S(v),C((b=e((B=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,i(e,"coinText",b,a(e)),i(e,"progress",P,a(e)),i(e,"popupCocktail",N,a(e)),e.halo=void 0,e.coinPos=new c,e.cocktailId=0,e}o(e,t);var n=e.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),this.halo=this.content.getChildByName("Halo")},n.start=function(){this.coinText.string="+"+(g.control.totalGlass*g.coinPerGlass).toString()},n.show=function(){g.ad.show(),this.content.getChildByName("ButtonNext").active=!1,this.content.getChildByName("ButtonX3").active=!1,g.storage.data.level>220?(this.progress.parent.active=!1,this.progress.parent.destroy()):this.progress.getComponent(h).fillRange=this.getProgress(g.storage.data.level-1),g.storage.data.level>230?this.cocktailId=g.iBetween(0,11):g.storage.data.level>220?this.cocktailId=11:(this.cocktailId=this.getCocktailId(g.storage.data.level),this.progress.parent.getChildByName("Left").getComponent(h).spriteFrame=g.asset.cocktails[this.cocktailId],this.progress.parent.getChildByName("Right").getComponent(h).spriteFrame=g.asset.cocktails[this.cocktailId+1]),this.updateCocktail(),g.lb.sendScore(g.storage.data.level),g.control.rv200Enabled=!0,g.storage.save("level",++g.storage.data.level),g.audio.play("win"),t.prototype.show.call(this)},n.cbShow=function(){var t=this.showProgress()?1.8:0;g.storage.data.level>220&&this.showUI(),this.schedule((function(){d.x=g.iBetween(-220,220),d.y=g.iBetween(150,420),g.control.confetti.show(d)}),1.2,2,t)},n.getProgress=function(t,e){var o=-1;return t<20?o=t%10/10:t<50?o=(t-20)%15/15:t<110?o=(t-50)%20/20:t<160?o=(t-110)%25/25:t<=220&&(o=(t-160)%30/30),e&&0===o&&(o=1),o},n.getCocktailId=function(t){var e=0;return t<=20?e=Math.floor((t-1)/10):t<=50?e=2+Math.floor((t-21)/15):t<=110?e=4+Math.floor((t-51)/20):t<=160?e=7+Math.floor((t-111)/25):t<=220&&(e=9+Math.floor((t-161)/30)),e},n.updateCocktail=function(){this.content.getChildByName("cocktail").getComponent(h).spriteFrame=g.asset.cocktails[this.cocktailId]},n.showProgress=function(){var t=this;if(g.storage.data.level<222){var e=this.getProgress(g.storage.data.level-1,!0);if(u(this.progress.getComponent(h)).to(1,{fillRange:e}).delay(.5).call((function(){1===e?(t.popupCocktail.show(),g.audio.play("new")):t.showUI()})).start(),1===e)return!0}return!1},n.showUI=function(){var t=this;this.scheduleOnce((function(){t.content.getChildByName("ButtonNext").active=!0,t.content.getChildByName("ButtonX3").active=!0,g.buttonControl.buttonMenu.active=!0}),1.31);var e=this.content.getChildByName("Coin"),o=g.control.totalGlass*g.coinPerGlass;g.control.coinAnim.showAt(e,o),g.audio.play("magic"),g.storage.save("coin",g.storage.data.coin+o)},n.cbHide=function(t){g.audio.playButtonSFX(),this.unscheduleAllCallbacks(),p.loadScene("game")},n.showCoinAnim=function(t){this.coinText.string="+"+(3*g.control.totalGlass*g.coinPerGlass).toString();var e=this.content.getChildByName("Coin");g.control.coinAnim.showAt(e,t)},n.update=function(t){this.halo.angle+=30*t},n.onTouchStart=function(){g.buttonControl.hideAll()},e}(f)).prototype,"coinText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(B.prototype,"progress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(B.prototype,"popupCocktail",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=B))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Item.ts","./nn.ts","./PopupControl.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,c,l,u,h,g,d,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.PageView,c=t.Node,l=t.Sprite,u=t.Button},function(t){h=t.Item},function(t){g=t.nn,d=t.v3t,p=t.v3t2},function(t){f=t.PopupControl}],execute:function(){var m,b,v,k,I,y,w,A,P,C,B,S,x,T,z,G,U,V,E;o._RF.push({},"fc4c3sFSEVNdLQKfG31yZXH","PopupShop",void 0);var O=r.ccclass,D=r.property;t("PopupShop",(m=O("PopupShop"),b=D(s),v=D([c]),k=D(c),I=D(c),y=D(c),w=D(c),A=D(c),P=D(c),m((S=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"pageView",S,a(e)),i(e,"titles",x,a(e)),i(e,"glass",T,a(e)),i(e,"ornament",z,a(e)),i(e,"background",G,a(e)),i(e,"tick",U,a(e)),i(e,"buttonUnlock",V,a(e)),i(e,"buttonAddCoin",E,a(e)),e.currentId=0,e.currentItem=void 0,e.updateBg=!1,e.updateGlass=!1,e}n(e,t);var o=e.prototype;return o.start=function(){this.setActive("TitleGlass")},o.show=function(){var e=this;this.glass.children.forEach((function(t,n){t.getComponent(h).setUnlock(g.storage.data.glass.indexOf(n)>-1,e)})),this.ornament.children.forEach((function(t,n){t.getComponent(h).setUnlock(g.storage.data.ornament.indexOf(n)>-1,e)})),this.background.children.forEach((function(t,n){t.getComponent(h).setUnlock(g.storage.data.background.indexOf(n)>-1,e)})),this.handleActiveItem(),this.activeButton(this.buttonUnlock,!0),this.activeButton(this.buttonAddCoin,g.control.rv200Enabled),this.updateBg=this.updateGlass=!1,t.prototype.show.call(this)},o.callback=function(t,e){g.audio.playButtonSFX();var n=t.target;switch(this.setActive(n.name),e){case"glass":this.pageView.scrollToPage(0);break;case"ornament":this.pageView.scrollToPage(1);break;case"background":this.pageView.scrollToPage(2)}},o.activeTitle=function(t,e){t.getComponent(l).grayscale=!e},o.setActive=function(t){var e=this;this.titles.forEach((function(n){e.activeTitle(n,n.name===t)}))},o.pageEvent=function(t,e){var n="TitleBackground";switch(t.curPageIdx){case 0:n="TitleGlass";break;case 1:n="TitleOrnament"}t.curPageIdx<3?this.currentId=t.curPageIdx:(this.currentId=2,this.pageView.scrollToPage(2)),this.setActive(n),this.handleActiveItem()},o.setActiveItem=function(t,e){if(t!=this.currentItem){e||("Glass"===t.parent.name?this.updateGlass=!0:this.updateBg=!0),this.currentItem=t,t.getPosition(d),t.parent.getPosition(p),p.add(d),p.x+=54,p.y-=76,this.tick.setPosition(p);var n="Glass"===t.parent.name?g.storage.data.glass:g.storage.data.background,i=t.getSiblingIndex(),a=n.indexOf(i);if(a>0){var o=n[0];n[0]=i,n[a]=o}else-1===a&&n.unshift(i);g.storage.saveData()}},o.handleActiveItem=function(){if(0===this.currentId){var t=this.glass.children[g.storage.data.glass[0]];this.setActiveItem(t,!0)}else if(2===this.currentId){var e=this.background.children[g.storage.data.background[0]];this.setActiveItem(e,!0)}},o.activeButton=function(t,e){t.getComponent(u).interactable=e,t.getComponent(l).grayscale=!e},o.randomUnlock=function(){var t=this,e="background";switch(this.currentId){case 0:e="glass";break;case 1:e="ornament"}var n=[];if(this[e].children.forEach((function(t){-1===g.storage.data[e].indexOf(t.getSiblingIndex())&&!t.getComponent(h).unlockByAd&&n.push(t)})),0!==n.length){if(g.storage.data.coin<500)return g.msg.show("Insufficient"),void g.audio.play("notice");if(g.storage.save("coin",g.storage.data.coin-500),g.control.coinText.string=g.storage.data.coin.toLocaleString(),this.activeButton(this.buttonUnlock,!1),1===n.length)this.unlockItem(n[0],e);else{g.audio.play("unlock"),this.pageView.enabled=!1;var i,a=15+Math.floor(Math.random()*n.length),o=0;this.schedule((function(){var r=o%n.length,s=n[r];t.enhanceItem(s),(i=r-1)<0&&(i=n.length-1),t.resetItem(n[i]),o===a&&t.unlockItem(s,e),o++}),.1,a)}}else g.audio.play("notice")},o.enhanceItem=function(t){t.setScale(1.05,1.05),t.getComponent(l).grayscale=!1},o.resetItem=function(t){t.setScale(1,1),t.getComponent(l).grayscale=!0},o.unlockItem=function(t,e){var n=this;this.enhanceItem(t),t.getPosition(d),d.y+=10,g.control.confetti.show(d),g.audio.play("full"),this.scheduleOnce((function(){"ornament"!==e?(n.setActiveItem(t),t.getComponent(h).setUnlock(!0,n)):(g.storage.data.ornament.push(t.getSiblingIndex()),g.storage.saveData()),t.setScale(1,1),n.activeButton(n.buttonUnlock,!0),n.pageView.enabled=!0}),1)},o.showCoinAnim=function(t){var e=this.buttonAddCoin.getChildByName("Coin");g.control.coinAnim.showAt(e,t)},o.hide=function(e,n){this.updateBg&&g.control.updateBg(),this.updateGlass&&g.control.updateGlass(),t.prototype.hide.call(this,e,n)},e}(f)).prototype,"pageView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(B.prototype,"titles",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(B.prototype,"glass",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(B.prototype,"ornament",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(B.prototype,"background",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(B.prototype,"tick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(B.prototype,"buttonUnlock",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(B.prototype,"buttonAddCoin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Text.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nn.ts"],(function(e){"use strict";var a,n,i,t,r,o,s,u,d,c;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,d=e.Component},function(e){c=e.nn}],execute:function(){var l,m,g,p,b;r._RF.push({},"c60faRzKLhHPa2v78cXeyx5","Text",void 0);var L=o.ccclass,v=o.property,B=e("_TEXT",{en:{Updating:"Updating",Updated:"Updated",BadWord:"Don't use bad words!",NoAd:"No ad available!",NoAuth:"No authentication!",Error:"Error! Please try again later!",JoinLB:"Join The Leaderboard?",Login:"Log in",Leaderboard:"LEADERBOARD",EnterUsername:"Enter new username",Edit:"Edit username",Submit:"Submit",Level:"Level",Insufficient:"Insufficient coin!",Background:"Background",Ornament:"Ornament",Glass:"Glass",Random:"Random Unlock",Claim:"Get",Watch:"Watch",Basic:"Basic Bonus",DescBasic:"Get 10 free coins every 2 minutes",Premium:"Premium Bonus",DescPremium:"Get 100 free coins by watching a rewarded video advertisement.",OK:"OK",NewCocktail:"New Cocktail"},ru:{Updating:"",Updated:"",BadWord:"   !",NoAd:"!",NoAuth:" !",Error:"! ,   !",JoinLB:"   ?",Login:"",Leaderboard:" ",EnterUsername:"   ",Edit:"  ",Submit:"",Level:"",Insufficient:" !",Background:"",Ornament:"",Glass:"",Random:" ",Claim:"",Watch:"",Basic:" ",DescBasic:" 10    2 ",Premium:" ",DescPremium:" 100  ,    .",OK:"OK",NewCocktail:" "},tr:{Updating:"Gncelleme",Updated:"Gncellenmi",BadWord:"Kt kelimeler kullanmayn!",NoAd:"Reklam yok!",NoAuth:"Kimlik dorulama yok!",Error:"Hata! Ltfen daha sonra tekrar deneyiniz!",JoinLB:"Lider tablosuna katln m?",Login:"Giri yapmak",Leaderboard:"LDERLER SIRALAMASI",EnterUsername:"Yeni Kullanc Ad Girin",Edit:"Kullanc Adn Dzenle",Submit:"Gndermek",Level:"Seviyesi",Insufficient:"Yetersiz madeni para!",Background:"Arka plan",Ornament:"Ss",Glass:"Bardak",Random:"Rastgele Kilit Ama",Claim:"Elde etmek",Watch:"Kol saati",Basic:"Temel Bonus",DescBasic:"Her 2 dakikada bir 10 cretsiz para aln",Premium:"Premium bonus",DescPremium:"dll bir video reklam izleyerek 100 cretsiz para aln.",OK:"OK",NewCocktail:"Yeni Kokteyl"},fr:{Updating:"Mise  jour",Updated:"Mis  jour",BadWord:"N'utilisez pas de mauvais mots!",NoAd:"Aucune annonce disponible!",NoAuth:"Pas d'authentification!",Error:"Erreur! Veuillez ressayer plus tard!",JoinLB:"Rejoignez le classement?",Login:"Connexion",Leaderboard:"CLASSEMENT",EnterUsername:"Entrez le nouveau nom d'utilisateur",Edit:"Modifier le nom d'utilisateur",Submit:"Soumettre",Level:"Niveau",Insufficient:"Coin insuffisante!",Background:"Arrire-plan",Ornament:"Ornement",Glass:"Verre",Random:"Dverrouillage alatoire",Claim:"Obtenir",Watch:"Montre",Basic:"Bonus de base",DescBasic:"Obtenez 10 pices gratuites toutes les 2 minutes",Premium:"Prime",DescPremium:"Obtenez 100 pices gratuites en regardant une publicit vido rcompense.",OK:"OK",NewCocktail:"Nouveau cocktail"},pt:{Updating:"Atualizao",Updated:"Atualizada",BadWord:"No use palavras ruins!",NoAd:"Nenhum anncio disponvel!",NoAuth:"Sem autenticao!",Error:"Erro! Por favor, tente novamente mais tarde!",JoinLB:"Junte -se  tabela de classificao?",Login:"Conecte-se",Leaderboard:"ENTRE OS MELHORES",EnterUsername:"Digite um novo nome de usurio",Edit:"Edite o nome de usurio",Submit:"Enviar",Level:"Nvel",Insufficient:"Moeda insuficiente!",Background:"Fundo",Ornament:"Ornamento",Glass:"Vidro",Random:"Desbloqueio aleatrio",Claim:"Pegar",Watch:"Assistir",Basic:"Bnus bsico",DescBasic:"Obtenha 10 moedas grtis a cada 2 minutos",Premium:"Bnus premium",DescPremium:"Obtenha 100 moedas grtis assistindo a um anncio de vdeo recompensado.",OK:"OK",NewCocktail:"Novo coquetel"},es:{Updating:"Actualizacin",Updated:"Actualizado",BadWord:"No uses malas palabras!",NoAd:"No hay anuncio disponible!",NoAuth:"Sin autenticacion!",Error:"Error! Por favor, intntelo de nuevo ms tarde!",JoinLB:"Te unir a la tabla de clasificacin?",Login:"Acceso",Leaderboard:"Tabla de clasificacin",EnterUsername:"Ingrese nuevo nombre de usuario",Edit:"Editar nombre de usuario",Submit:"Entregar",Level:"Nivel",Insufficient:"Moneda insuficiente!",Background:"Fondo",Ornament:"Ornamento",Glass:"Vaso",Random:"Desbloqueo aleatorio",Claim:"Conseguir",Watch:"Mirar",Basic:"Bono bsico",DescBasic:"Obtenga 10 monedas gratis cada 2 minutos",Premium:"Bono premium",DescPremium:"Obtenga 100 monedas gratuitas viendo un anuncio de video recompensado.",OK:"OK",NewCocktail:"Nuevo cctel"},nl:{Updating:"Bijwerken",Updated:"Bijgewerkt",BadWord:"Gebruik geen slechte woorden!",NoAd:"Geen advertentie beschikbaar!",NoAuth:"Geen authenticatie!",Error:"Error!",JoinLB:"Word lid van het klassement?",Login:"Log in",Leaderboard:"SCOREBORD",EnterUsername:"Voer een nieuwe gebruikersnaam in",Edit:"Gebruikersnaam bewerken",Submit:"Indienen",Level:"Level",Insufficient:"Onvoldoende munten!",Background:"Achtergrond",Ornament:"Ornament",Glass:"Glas",Random:"Willekeurige ontgrendeling",Claim:"Claim",Watch:"Kijken",Basic:"Basis bonus ",DescBasic:"Krijg elke 2 minuten 10 gratis munten",Premium:"Goude bonus",DescPremium:"Krijg 100 gratis munten voor het bekijken van een advertentie",OK:"OK",NewCocktail:"Nieuwe cocktail"},"":{Updating:"",Updated:"",BadWord:"",NoAd:"",NoAuth:"",Error:"",JoinLB:"",Login:"Log in om het scorebord te bekijken!",Leaderboard:"",EnterUsername:"",Edit:"",Submit:"",Level:"",Insufficient:"",Background:"",Ornament:"",Glass:"",Random:"",Claim:"",Watch:"",Basic:"",DescBasic:"",Premium:"",DescPremium:"",OK:"",NewCocktail:""}});e("Text",(l=L("Text"),m=v([s]),l((b=a((p=function(e){function a(){for(var a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=e.call.apply(e,[this].concat(r))||this,i(a,"texts",b,t(a)),a}n(a,e);var r=a.prototype;return r.onLoad=function(){c.text=this,globalThis.language?this.setCurrentLanguage("en"):this.updateLanguage()},r.updateLanguage=function(){this.texts.forEach((function(e){"Claim"===e.name?c.storage.data.lootBasicActive&&(e.getComponent(u).string=B[c.storage.data.language][e.name]):"Watch"===e.name?c.storage.data.lootPremiumActive&&(e.getComponent(u).string=B[c.storage.data.language][e.name]):(e.getComponent(u).string=B[c.storage.data.language][e.name],"Level"===e.name&&(e.getComponent(u).string+=" "+c.storage.data.level))}))},r.setCurrentLanguage=function(e){c.storage.save("language","en"),this.updateLanguage(),c.storage.data.autoDetectLanguage&&c.storage.save("autoDetectLanguage",!1)},a}(d)).prototype,"texts",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=p))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialHand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Glass.ts","./nn.ts"],(function(t){"use strict";var n,o,s,i,e,a,r,l,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator,i=t.Animation,e=t.tween,a=t.Vec3,r=t.Component},function(t){l=t.Glass},function(t){c=t.nn}],execute:function(){var u;o._RF.push({},"fc639HMwmpIJIo3/+QuT0mm","TutorialHand",void 0);var f=s.ccclass;s.property,t("TutorialHand",f("TutorialHand")(u=function(t){function o(){for(var n,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this).anim=void 0,n.startPos=new a(30,0,0),n.endPos=new a(190,0,0),n.flag1=!0,n.flag2=!1,n}n(o,t);var s=o.prototype;return s.start=function(){c.storage.data.level>1?this.node.destroy():(this.anim=this.node.getComponent(i),this.node.setPosition(this.startPos))},s.update=function(t){var n=this;if(this.flag1&&c.control.currentGlass&&(this.flag1=!1,this.flag2=!0,this.anim.stop(),e(this.node).to(.3,{position:this.endPos}).call((function(){n.anim.play()})).start()),this.flag2){for(var o=!1,s=c.control.node.children,i=0;i<s.length;i++){if(s[i].getComponent(l).pouring){o=!0;break}}o&&(this.node.destroy(),this.flag2=!1)}},o}(r))||u);o._RF.pop()}}}));
